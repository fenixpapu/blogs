{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Home","text":"<ul> <li>Passio without N</li> </ul>"},{"location":"blog/","title":"Blog","text":""},{"location":"blog/2019/03/18/deploy-m%E1%BB%99t-rest-api-s%E1%BB%AD-d%E1%BB%A5ng-serverless-express-v%C3%A0-nodejs/","title":"DEPLOY M\u1ed8T REST API S\u1eec D\u1ee4NG SERVERLESS, EXPRESS V\u00c0 NODE.JS","text":""},{"location":"blog/2019/03/18/deploy-m%E1%BB%99t-rest-api-s%E1%BB%AD-d%E1%BB%A5ng-serverless-express-v%C3%A0-nodejs/#mo-au","title":"M\u1ede \u0110\u1ea6U","text":"<ul> <li>L\u00fd do b\u1ea1n t\u00ecm hi\u1ec3u serverless l\u00e0 g\u00ec?</li> <li>V\u00ec nghe n\u00f3 n\u1ed5i c\u00f3 nhi\u1ec1u c\u00f4ng ty l\u1edbn s\u1eed d\u1ee5ng n\u00ean t\u00ecm hi\u1ec3u?</li> <li>V\u00ec n\u00f3 l\u00e0 s\u1ea3n ph\u1ea9m c\u1ee7a AWS?</li> <li>Hay l\u00fd do n\u00e0o kh\u00e1c?</li> <li>C\u00e1 nh\u00e2n m\u00ecnh th\u00ec do mu\u1ed1n l\u00e0m quen v\u1edbi c\u00e1c d\u1ecbch v\u1ee5 cloud c\u1ee7a AWS, v\u00e0 trong project hi\u1ec7n t\u1ea1i c\u00f3 s\u1eed d\u1ee5ng Lambda function. N\u00ean m\u00ecnh ch\u1ecdn serverless \u0111\u1ec3 b\u1eaft \u0111\u1ea7u lu\u00f4n :D.</li> <li>C\u00e1c ph\u1ea7n d\u01b0\u1edbi \u0111\u00e2y s\u1ebd tr\u00ecnh b\u00e0y v\u1ec1 c\u00e1ch deploy m\u1ed9t API l\u00ean AWS s\u1eed d\u1ee5ng serverless, express v\u00e0 Nodejs.</li> </ul> <p>OK LET GO!!!</p>"},{"location":"blog/2019/03/18/deploy-m%E1%BB%99t-rest-api-s%E1%BB%AD-d%E1%BB%A5ng-serverless-express-v%C3%A0-nodejs/#deploy-rest-api","title":"DEPLOY REST API","text":""},{"location":"blog/2019/03/18/deploy-m%E1%BB%99t-rest-api-s%E1%BB%AD-d%E1%BB%A5ng-serverless-express-v%C3%A0-nodejs/#cai-at-serverless-framework","title":"C\u00e0i \u0111\u1eb7t serverless Framework","text":"<ul> <li> <p>Tr\u01b0\u1edbc khi b\u1eaft \u0111\u1ea7u ch\u00fang ta c\u1ea7n c\u00e0i \u0111\u1eb7t m\u00f4i tr\u01b0\u1eddng \u0111\u00e3:</p> </li> <li> <p>NodeJS</p> </li> <li>Serverless CLI v1.9.0 ho\u1eb7c m\u1edbi h\u01a1n</li> <li>M\u1ed9t t\u00e0i kho\u1ea3n AWS</li> <li> <p>Thi\u1ebft l\u1eadp Provider Credential v\u1edbi t\u00e0i kho\u1ea3n AWS c\u1ee7a b\u1ea1n</p> </li> <li> <p>N\u1ebfu b\u1ea1n g\u1eb7p kh\u00f3 kh\u0103n trong vi\u1ec7c c\u00e0i <code>serverless CLI</code> khi c\u00f3 <code>nvm</code> h\u00e3y th\u1eed g\u1ee1 b\u1ecf <code>nvm</code> xem sao.</p> </li> </ul>"},{"location":"blog/2019/03/18/deploy-m%E1%BB%99t-rest-api-s%E1%BB%AD-d%E1%BB%A5ng-serverless-express-v%C3%A0-nodejs/#create-api","title":"Create API","text":"<ul> <li>T\u1ea1o th\u01b0 m\u1ee5c v\u1edbi file <code>package.json</code>.</li> </ul> <pre><code>mkdir my-first-serverless &amp;&amp; cd my-first-serverless\nnpm init -f\n</code></pre> <ul> <li>C\u00e0i \u0111\u1eb7t c\u00e1c g\u00f3i ph\u1ee5 thu\u1ed9c c\u1ea7n thi\u1ebft:</li> </ul> <pre><code>npm install --save express serverless-http\n</code></pre> <ul> <li> <p>\u0110\u1ec3 kh\u1edfi t\u1ea1o m\u1ed9t REST API ngo\u00e0i s\u1eed d\u1ee5ng <code>Express</code> ch\u00fang ta s\u1ebd s\u1eed d\u1ee5ng th\u00eam <code>serverless-http</code> nh\u01b0 m\u1ed9t middleware giao ti\u1ebfp gi\u1eefa NodeJS v\u00e0 API Gateway c\u1ee7a AWS.</p> </li> <li> <p>Implement code file <code>index.js</code> nh\u01b0 d\u01b0\u1edbi:</p> </li> </ul> index.js<pre><code>const serverless = require(\"serverless-http\");\nconst express = require(\"express\");\nconst app = express();\n\napp.get(\"/\", function (req, res) {\n  res.send(\"Hello World!\");\n});\nmodule.exports.handler = serverless(app);\n</code></pre>"},{"location":"blog/2019/03/18/deploy-m%E1%BB%99t-rest-api-s%E1%BB%AD-d%E1%BB%A5ng-serverless-express-v%C3%A0-nodejs/#config-serverless","title":"Config Serverless","text":"<ul> <li>Trong c\u00f9ng th\u01b0 m\u1ee5c v\u1edbi hai file <code>index.js</code> v\u00e0 <code>package.json</code> \u1edf tr\u00ean ch\u00fang ta t\u1ea1o file <code>serverless.yml</code> v\u1edbi n\u1ed9i dung:</li> </ul> serverless.yml<pre><code>service: my-first-serverless\nprovider:\n  name: aws\n  runtime: nodejs6.10\n  stage: dev\n  region: us-east-1\n\nfunctions:\n  app:\n    handler: index.handler\n    events:\n      - http: ANY /\n      - http: \"ANY {proxy+}\"\n</code></pre> <ul> <li>N\u00f3i qua m\u1ed9t ch\u00fat:</li> <li>my-first-serverless: l\u00e0 t\u00ean service.</li> <li>Khai b\u00e1o m\u1ed9t function <code>app</code> c\u1ee7a serverless.</li> <li><code>app</code> s\u1eed d\u1ee5ng function handler trong file <code>index.js</code> nh\u01b0 l\u00e0 m\u1ed9t handler c\u1ee7a m\u00ecnh: <code>handler: index.handler</code> \u0111\u1ec3 x\u1eed l\u00fd c\u00e1c s\u1ef1 ki\u1ec7n( <code>events</code>): <code>http</code></li> </ul>"},{"location":"blog/2019/03/18/deploy-m%E1%BB%99t-rest-api-s%E1%BB%AD-d%E1%BB%A5ng-serverless-express-v%C3%A0-nodejs/#deploy","title":"Deploy","text":"<ul> <li>D\u00f9ng l\u1ec7nh: <code>serverless deploy</code> ho\u1eb7c ng\u1eafn g\u1ecdn h\u01a1n <code>sls deploy</code>. Th\u00eam <code>-v</code>(verbose) n\u1ebfu b\u1ea1n mu\u1ed1n xem chi ti\u1ebft t\u1ea5t c\u1ea3 c\u00e1c ti\u1ebfn tr\u00ecnh.</li> </ul> <pre><code>  my-first-serverless$ sls deploy\n  ...\n  endpoints:\n    ANY - https://8gagnsxxnl.execute-api.us-east-1.amazonaws.com/dev\n    ANY - https://8gagnsxxnl.execute-api.us-east-1.amazonaws.com/dev/{proxy+}\n  functions:\n    app: my-first-serverless-dev-app\n  layers:\n    None\n</code></pre> <ul> <li> <p>N\u1ebfu code c\u1ee7a b\u1ea1n sai, deploy c\u00f3 th\u1ec3 v\u1eabn tr\u1ea3 v\u1ec1 m\u1ed9t public link, nh\u01b0ng truy c\u1eadp c\u00f3 th\u1ec3 tr\u1ea3 v\u1ec1 message internal server error. H\u00e3y d\u00f9ng <code>sls logs</code> \u0111\u1ec3 xem log c\u1ee7a c\u00e1c function.</p> </li> <li> <p>Th\u1eed truy c\u1eadp ch\u00fang ta th\u1ea5y server \u0111\u00e3 ho\u1ea1t \u0111\u1ed9ng:</p> </li> </ul> <p></p> <ul> <li> <p>D\u00f9ng serverless deploy m\u1ed9t API ch\u1ec9 \u0111\u01a1n gi\u1ea3n v\u1eady th\u00f4i! Ngo\u00e0i ra:</p> </li> <li> <p>Trong file <code>serverless.yml</code> c\u00f3 th\u1ec3 khai b\u00e1o nhi\u1ec1u function thay v\u00ec ch\u1ec9 c\u00f3 m\u1ed9t function <code>app</code> nh\u01b0 trong demo ph\u00eda tr\u00ean.</p> </li> <li> <p>Function <code>app</code> \u0111ang x\u1eed l\u00fd c\u00e1c request \u0111\u1ebfn server. Tuy nhi\u00ean c\u00f3 th\u1ec3 l\u00e0m ho\u00e0n to\u00e0n ng\u01b0\u1ee3c l\u1ea1i \u0111\u00f3 l\u00e0 d\u00f9ng function \u0111\u1ec3 call t\u1edbi m\u1ed9t API kh\u00e1c. L\u00fac n\u00e0y function c\u00f3 th\u1ec3 \u0111\u00f3ng vai tr\u00f2 nh\u01b0 m\u1ed9t trigger.</p> </li> <li> <p>Hi\u1ec7n t\u1ea1i API ch\u01b0a c\u00f3 g\u00ec. Ph\u1ea7n ti\u1ebfp theo ch\u00fang ta s\u1ebd c\u00f9ng th\u1eed th\u00eam DynamoDB nh\u01b0 n\u01a1i l\u01b0u tr\u1eef d\u1eef li\u1ec7u cho API.</p> </li> </ul>"},{"location":"blog/2019/03/18/deploy-m%E1%BB%99t-rest-api-s%E1%BB%AD-d%E1%BB%A5ng-serverless-express-v%C3%A0-nodejs/#them-dynamodb-cho-rest-api","title":"TH\u00caM DYNAMODB CHO REST-API","text":""},{"location":"blog/2019/03/18/deploy-m%E1%BB%99t-rest-api-s%E1%BB%AD-d%E1%BB%A5ng-serverless-express-v%C3%A0-nodejs/#cap-nhat-cau-hinh-serverless","title":"C\u1eadp nh\u1eadt c\u1ea5u h\u00ecnh serverless","text":"<ul> <li>C\u00f9ng thay \u0111\u1ed5i c\u1ea5u h\u00ecnh m\u1ed9t ch\u00fat nh\u01b0 d\u01b0\u1edbi:</li> </ul> serverless.yml<pre><code>service: my-first-serverless\n\ncustom:\n  tableName: \"users-table-${self:provider.stage}\"\n\nprovider:\n  name: aws\n  runtime: nodejs6.10\n  stage: dev\n  region: us-east-1\n  iamRoleStatements:\n    - Effect: Allow\n      Action:\n        - dynamodb:Query\n        - dynamodb:Scan\n        - dynamodb:GetItem\n        - dynamodb:PutItem\n        - dynamodb:UpdateItem\n        - dynamodb:DeleteItem\n      Resource:\n        - { \"Fn::GetAtt\": [\"UsersDynamoDBTable\", \"Arn\"] }\n  environment:\n    USERS_TABLE: ${self:custom.tableName}\n\nfunctions:\n  app:\n    handler: index.handler\n    events:\n      - http: ANY /\n      - http: \"ANY {proxy+}\"\n\nresources:\n  Resources:\n    UsersDynamoDBTable:\n      Type: \"AWS::DynamoDB::Table\"\n      Properties:\n        AttributeDefinitions:\n          - AttributeName: userId\n            AttributeType: S\n        KeySchema:\n          - AttributeName: userId\n            KeyType: HASH\n        ProvisionedThroughput:\n          ReadCapacityUnits: 1\n          WriteCapacityUnits: 1\n        TableName: ${self:custom.tableName}\n</code></pre> <ul> <li>C\u1ea5u h\u00ecnh tr\u00ean ch\u00fang ta s\u1ebd c\u00f3:</li> <li>Do <code>provider.stage: dev</code> n\u00ean <code>customer.tableName</code> s\u1ebd l\u00e0: <code>users-table-dev</code>.</li> <li>Cung c\u1ea5p cho function m\u1ed9t <code>table</code> trong ph\u1ea7n <code>resource</code> s\u1eed d\u1ee5ng c\u00fa ph\u00e1p CloudFormation.</li> <li>Th\u00eam ph\u00e2n quy\u1ec1n IAM trong ph\u1ea7n <code>iamRoleStatements</code>.</li> </ul>"},{"location":"blog/2019/03/18/deploy-m%E1%BB%99t-rest-api-s%E1%BB%AD-d%E1%BB%A5ng-serverless-express-v%C3%A0-nodejs/#cap-nhat-code","title":"C\u1eadp nh\u1eadt code","text":"<ul> <li>\u0110\u1ec3 app s\u1eed d\u1ee5ng table \u0111\u00e3 th\u00eam \u1edf tr\u00ean. Ch\u00fang ta s\u1ebd th\u00eam 2 ph\u01b0\u01a1ng th\u1ee9c: POST v\u00e0 GET cho ph\u00e9p ng\u01b0\u1eddi d\u00f9ng t\u1ea1o: user v\u00e0 l\u1ea5y th\u00f4ng tin user.</li> <li>\u0110\u1ea7u ti\u00ean c\u00e0i \u0111\u1eb7t <code>aws-sdk</code> v\u00e0 <code>body-parser</code>:</li> </ul> <pre><code>  npm install --save aws-sdk body-parser\n</code></pre> <ul> <li>C\u1eadp nh\u1eadt l\u1ea1i code:</li> </ul> index.js<pre><code>const serverless = require(\"serverless-http\");\nconst bodyParser = require(\"body-parser\");\nconst express = require(\"express\");\nconst app = express();\nconst AWS = require(\"aws-sdk\");\n\nconst USERS_TABLE = process.env.USERS_TABLE;\nconst dynamoDb = new AWS.DynamoDB.DocumentClient();\n\napp.use(bodyParser.json({ strict: false }));\n\napp.get(\"/\", function (req, res) {\n  res.send(\"Hello World!\");\n});\n\n// Get User endpoint\napp.get(\"/users/:userId\", function (req, res) {\n  const params = {\n    TableName: USERS_TABLE,\n    Key: {\n      userId: req.params.userId,\n    },\n  };\n\n  dynamoDb.get(params, (error, result) =&gt; {\n    if (error) {\n      console.log(error);\n      res.status(400).json({ error: \"Could not get user\" });\n    }\n    if (result.Item) {\n      const { userId, name } = result.Item;\n      res.json({ userId, name });\n    } else {\n      res.status(404).json({ error: \"User not found\" });\n    }\n  });\n});\n\n// Create User endpoint\napp.post(\"/users\", function (req, res) {\n  const { userId, name } = req.body;\n  if (typeof userId !== \"string\") {\n    res.status(400).json({ error: '\"userId\" must be a string' });\n  } else if (typeof name !== \"string\") {\n    res.status(400).json({ error: '\"name\" must be a string' });\n  }\n\n  const params = {\n    TableName: USERS_TABLE,\n    Item: {\n      userId: userId,\n      name: name,\n    },\n  };\n\n  dynamoDb.put(params, (error) =&gt; {\n    if (error) {\n      console.log(error);\n      res.status(400).json({ error: \"Could not create user\" });\n    }\n    res.json({ userId, name });\n  });\n});\n\nmodule.exports.handler = serverless(app);\n</code></pre>"},{"location":"blog/2019/03/18/deploy-m%E1%BB%99t-rest-api-s%E1%BB%AD-d%E1%BB%A5ng-serverless-express-v%C3%A0-nodejs/#deploy_1","title":"Deploy","text":"<ul> <li>Deploy \u0111\u1ec3 c\u1eadp nh\u1eadt l\u1ea1i c\u1ea5u h\u00ecnh v\u00e0 code:</li> </ul> <pre><code>sls deploy\n</code></pre> <ul> <li>Sau khi c\u00f3 public link ch\u00fang ta th\u1eed t\u1ea1o user:</li> </ul> <pre><code>  $ curl -H \"Content-Type: application/json\" -X POST https://8gagnsxxnl.execute-api.us-east-1.amazonaws.com/dev/users -d '{\"userId\": \"FRAMGIA\", \"name\": \"SUN*\"}'\n</code></pre> <ul> <li>Tr\u01b0\u1edbc khi deploy h\u00e3y ch\u1eafc ch\u1eafn b\u1ea1n \u0111\u00e3 save code n\u1ebfu kh\u00f4ng s\u1ebd nh\u1eadn \u0111\u01b0\u1ee3c k\u1ebft qu\u1ea3:</li> </ul> <pre><code>  &lt;!DOCTYPE html&gt;\n  &lt;html lang=\"en\"&gt;\n  &lt;head&gt;\n  &lt;meta charset=\"utf-8\"&gt;\n  &lt;title&gt;Error&lt;/title&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n  &lt;pre&gt;Cannot POST /dev/users&lt;/pre&gt;\n  &lt;/body&gt;\n  &lt;/html&gt;\n</code></pre> <ul> <li>Sau khi save code deploy ch\u00fang ta \u0111\u00e3 c\u00f3 th\u1ec3 th\u00eam m\u1edbi user:</li> </ul> <pre><code>  $ curl -H \"Content-Type: application/json\" -X POST https://8gagnsxxnl.execute-api.us-east-1.amazonaws.com/dev/users -d '{\"userId\": \"FRAMGIA\", \"name\": \"SUN*\"}'\n  {\"userId\":\"FRAMGIA\",\"name\":\"SUN*\"}\n</code></pre> <ul> <li>Th\u1eed GET l\u1ea1i th\u00f4ng tin user \u0111\u00e3 add.</li> </ul> <p>May qu\u00e1 GET \u0111\u01b0\u1ee3c:</p> <pre><code>  $curl -H \"Content-Type: application/json\" -X GET https://8gagnsxxnl.execute-api.us-east-1.amazonaws.com/dev/users/FRAMGIA\n  {\"userId\":\"FRAMGIA\",\"name\":\"SUN*\"}\n</code></pre>"},{"location":"blog/2019/03/18/deploy-m%E1%BB%99t-rest-api-s%E1%BB%AD-d%E1%BB%A5ng-serverless-express-v%C3%A0-nodejs/#path-specific-routing","title":"Path specific routing","text":"<ul> <li>API \u0111\u00e3 \u0111\u01b0\u1ee3c deploy s\u1eed d\u1ee5ng serverless framework. Tuy nhi\u00ean nh\u00ecn l\u1ea1i c\u00f3 th\u1ec3 th\u1ea5y ch\u00fang ta \u0111ang forward t\u1ea5t c\u1ea3 traffic v\u00e0 \u0111\u1ec3 Express x\u1eed l\u00fd to\u00e0n b\u1ed9 c\u00e1c request n\u00e0y. H\u00e3y s\u1eed d\u1ee5ng l\u1ee3i th\u1ebf c\u1ee7a ki\u1ebfn tr\u00fac serverless b\u1eb1ng c\u00e1ch chia c\u00e1c route \u0111\u01b0\u1ee3c handle b\u1edfi c\u00e1c Lambda function kh\u00e1c nhau, v\u00e0 khi \u0111\u00f3 b\u1ea1n c\u00f3 th\u1ec3 bi\u1ebft:</li> <li>M\u1ed7i route \u0111\u00e3 \u0111\u01b0\u1ee3c g\u1ecdi bao nhi\u00eau l\u1ea7n.</li> <li>C\u00f3 bao nhi\u00eau l\u1ed7i \u0111\u00e3 x\u1ea3y ra cho m\u1ed7i route.</li> <li>M\u1ed7i route m\u1ea5t bao l\u00e2u \u0111\u1ec3 c\u00f3 response(v\u00e0 b\u1ea1n s\u1ebd ti\u1ebft ki\u1ec7m \u0111\u01b0\u1ee3c bao nhi\u00eau ti\u1ec1n n\u1ebfu t\u1ed1i \u01b0u route \u0111\u00f3 c\u00f3 th\u1eddi gian ph\u1ea3n h\u1ed3i nhanh h\u01a1n).</li> <li>C\u1ea5u h\u00ecnh c\u00f3 d\u1ea1ng nh\u01b0 d\u01b0\u1edbi:</li> </ul> serverless.yml<pre><code>functions:\n  app:\n    handler: index.handler\n    events:\n      - http: ANY /\n      - http: \"ANY {proxy+}\"\n  getUser:\n    handler: index.handler\n    events:\n      - http: \"GET /users/{proxy+}\"\n  createUser:\n    handler: index.handler\n    events:\n      - http: \"POST /users\"\n</code></pre>"},{"location":"blog/2019/03/18/deploy-m%E1%BB%99t-rest-api-s%E1%BB%AD-d%E1%BB%A5ng-serverless-express-v%C3%A0-nodejs/#options","title":"Options","text":"<ul> <li>\u0110\u1ec3 hi\u1ec3u k\u0129 h\u01a1n v\u1ec1 serverless b\u1ea1n n\u00ean t\u00ecm hi\u1ec3u qua m\u1ed9t l\u01b0\u1ee3t User Guide</li> <li>\u0110\u1ec3 c\u1ea5u h\u00ecnh serverless linh ho\u1ea1t h\u01a1n, b\u1ea1n n\u00ean xem k\u0129 c\u00e1c c\u00e1ch s\u1eed d\u1ee5ng <code>variable</code> c\u1ee7a serverless. M\u1ed9t s\u1ed1 c\u00e1ch s\u1eed d\u1ee5ng n\u00ean \u01b0u ti\u00ean xem tr\u01b0\u1edbc:</li> <li>Environment variables.</li> <li>CLI options</li> <li>External YAML/JSON files</li> <li>CloudFormation stack outputs</li> <li>Properties exported from Javascript files (sync or async)</li> </ul>"},{"location":"blog/2019/03/18/deploy-m%E1%BB%99t-rest-api-s%E1%BB%AD-d%E1%BB%A5ng-serverless-express-v%C3%A0-nodejs/#billing","title":"Billing","text":"<ul> <li>L\u01b0u \u00fd \u0111o\u1ea1n sau</li> </ul> <pre><code>  While in the AWS Free Tier, you can build an entire application on AWS Lambda, AWS API Gateway, and more, without getting charged for 1 year... As long as you don't exceed the resources in the free tier, of course.\n</code></pre> <ul> <li> <p>B\u1ea1n s\u1ebd \u0111\u01b0\u1ee3c d\u00f9ng mi\u1ec5n ph\u00ed m\u1ed9t n\u0103m mi\u1ec5n sao kh\u00f4ng s\u1eed d\u1ee5ng t\u00e0i nguy\u00ean v\u01b0\u1ee3t ng\u01b0\u1ee1ng. C\u00f2n n\u1ebfu v\u01b0\u1ee3t ng\u01b0\u1ee1ng s\u1ebd ra sao th\u00ec kh\u00f4ng n\u00f3i ^^. V\u00e0 c\u00e1i account c\u1ee7a b\u1ea1n ch\u1eafc ch\u1eafn c\u00f3 link t\u1edbi m\u1ed9t th\u1ebb c\u00f3 th\u1ec3 b\u1ecb tr\u1eeb ti\u1ec1n. V\u1eady n\u00ean h\u00e3y l\u01b0u t\u00e2m \u0111\u1ebfn v\u1ea5n \u0111\u1ec1 n\u00e0y.</p> </li> <li> <p>Vi\u1ec7c \u0111\u1ea7u ti\u00ean sau khi test th\u1eed d\u1ecbch v\u1ee5 \u0111\u00e3 ok m\u00e0 kh\u00f4ng c\u1ea7n duy tr\u00ec h\u00e3y <code>remove</code> \u1ee9ng d\u1ee5ng b\u1ea1n \u0111\u00e3 v\u1eeba deploy v\u1edbi l\u1ec7nh:</p> </li> </ul> <pre><code>  sls remove\n</code></pre> <ul> <li> <p>N\u1ebfu b\u1ea1n mu\u1ed1n \u0111\u1ec3 \u1ee9ng d\u1ee5ng public \u0111\u1ec3 test. AWS c\u00f3 m\u1ee5c li\u00ean quan billing m\u1ee5c n\u00e0y s\u1ebd cho b\u1ea1n bi\u1ebft \u0111ang s\u1eed d\u1ee5ng t\u00e0i nguy\u00ean h\u1ebft bao nhi\u00eau % c\u1ee7a m\u1ee9c free ;).</p> </li> <li> <p>H\u1ebft! C\u1ea3m \u01a1n b\u1ea1n \u0111\u00e3 theo d\u00f5i t\u1edbi ph\u1ea7n n\u00e0y! :D</p> </li> </ul>"},{"location":"blog/2019/04/16/c%C3%A1c-qu%E1%BB%91c-hi%E1%BB%87u-c%E1%BB%A7a-qu%E1%BB%91c-gia-vi%E1%BB%87t-nam/","title":"C\u00e1c qu\u1ed1c hi\u1ec7u c\u1ee7a qu\u1ed1c gia Vi\u1ec7t Nam","text":"STT T\u00ean G\u1ecdi Ng\u01b0\u1eddi \u0111\u1eb7t t\u00ean Ghi ch\u00fa 1 X\u00edch Qu\u1ef7 Kinh D\u01b0\u01a1ng V\u01b0\u01a1ng Cha L\u1ea1c Long Qu\u00e2n, \u00f4ng n\u1ed9i Vua H\u00f9ng th\u1ee9 nh\u1ea5t 2 V\u0103n Lang H\u00f9ng V\u01b0\u01a1ng Th\u1ee9 Nh\u1ea5t L\u00e3nh th\u1ed5 l\u00fac n\u00e0y m\u1edbi ch\u1ec9 bao g\u1ed3m \u0111\u1ed3ng b\u1eb1ng s\u00f4ng H\u1ed3ng v\u00e0 ba t\u1ec9nh Thanh H\u00f3a, Ngh\u1ec7 An, H\u00e0 T\u0129nh 3 \u00c2u L\u1ea1c Th\u1ee5c Ph\u00e1n(An D\u01b0\u01a1ng V\u01b0\u01a1ng) Sau khi ng\u0103n ch\u1eb7n T\u1ea7n Th\u1ee7y Ho\u00e0ng x\u00e2m l\u01b0\u1ee3c. Th\u1ee5c Ph\u00e1n li\u00ean k\u1ebft b\u1ed9 l\u1ea1c L\u1ea1c Vi\u1ec7t(V\u0103n Lang) v\u00e0 \u00c2u Vi\u1ec7t d\u1ef1ng n\u00ean n\u01b0\u1edbc \u00c2u L\u1ea1c. Tri\u1ec7u \u0110\u00e0 (nh\u00e0 T\u1ea7n) \u0111\u00e1nh chi\u1ebfm \u00c2u L\u1ea1c b\u1ecb x\u00f3a s\u1ed5. 4 V\u1ea1n Xu\u00e2n L\u00fd B\u00ed L\u00fd B\u00ed kh\u1edfi ngh\u0129a \u0111\u00e1nh \u0111u\u1ed5i qu\u00e2n L\u01b0\u01a1ng, l\u1ea5y t\u00ean hi\u1ec7u L\u00fd Nam \u0110\u1ebf, \u0111\u1eb7t qu\u1ed1c hi\u1ec7u V\u1ea1n Xu\u00e2n. Qu\u1ed1c hi\u1ec7u n\u00e0y b\u1ecb nh\u00e0 T\u00f9y ti\u00eau di\u1ec7t. 5 \u0110\u1ea1i C\u1ed3 Vi\u1ec7t \u0110inh B\u1ed9 L\u0129nh Sau khi d\u1eb9p lo\u1ea1n 12 s\u1ee9 qu\u00e2n, \u0110inh B\u1ed9 L\u0129nh l\u00ean ng\u00f4i Ho\u00e0ng \u0111\u1ebf l\u1ea5y qu\u1ed1c hi\u1ec7u \u0110\u1ea1i C\u1ed3 Vi\u1ec7t 6 \u0110\u1ea1i Vi\u1ec7t L\u00fd Th\u00e1i T\u00f4ng \u0110i\u1ec1m l\u00e0nh l\u1edbn: 1 ng\u00f4i sao s\u00e1ng ch\u00f3i nhi\u1ec1u ng\u00e0y m\u1edbi t\u1eaft. \u0110\u1ed5i qu\u1ed1c hi\u1ec7u \u0110\u1ea1i C\u1ed3 Vi\u1ec7t sang \u0110\u1ea1i Vi\u1ec7t. 7 \u0110\u1ea1i Ngu H\u1ed3 Qu\u00fd Ly Qu\u1ed1c hi\u1ec7u \u0111\u1ed5i t\u1eeb \u0110\u1ea1i Vi\u1ec7t sang \u0110\u1ea1i Ngu, Ngu c\u00f3 ngh\u0129a <code>s\u1ef1 y\u00ean vui, h\u00f2a b\u00ecnh</code>. 8 \u0110\u1ea1i Vi\u1ec7t L\u00ea L\u1ee3i Nh\u00e0 H\u1ed3 th\u1ea5t b\u1ea1i tr\u01b0\u1edbc nh\u00e0 Minh v\u00e0 L\u00ea L\u1ee3i sau khi ch\u1ed1ng nh\u00e0 Minh to\u00e0n th\u1eafng, l\u00ean ng\u00f4i l\u1ea5y l\u1ea1i t\u00ean n\u01b0\u1edbc \u0110\u1ea1i Vi\u1ec7t. 9 Vi\u1ec7t Nam Nguy\u1ec5n \u00c1nh Tri\u1ec1u Nguy\u1ec5n vua Nguy\u1ec5n \u00c1nh \u0111\u1eb7t qu\u00f3c hi\u1ec7u <code>Vi\u1ec7t Nam</code> ch\u1ec9 qu\u1ed1c gia ng\u01b0\u1eddi Vi\u1ec7t \u1edf ph\u01b0\u01a1ng Nam nh\u1eb1m ph\u00e2n bi\u1ec7t qu\u1ed1c gia c\u1ee7a <code>ng\u01b0\u1eddi l\u1ea1</code> \u1edf ph\u01b0\u01a1ng B\u1eafc 10 \u0110\u1ea1i Nam Minh M\u1ea1ng Minh M\u1ea1ng cho \u0111\u1ed5i qu\u1ed1c hi\u1ec7u t\u1eeb <code>Vi\u1ec7t Nam</code> th\u00e0nh <code>\u0110\u1ea1i Nam</code> \u00fd ch\u1ec9 <code>n\u01b0\u1edbc Nam l\u1edbn</code>. Qu\u1ed1c hi\u1ec7u n\u00e0y t\u1ed3n t\u1ea1i t\u1edbi n\u0103m 1945. 11 Vi\u1ec7t Nam D\u00e2n Ch\u1ee7 C\u1ed9ng H\u00f2a H\u1ed3 Ch\u00ed Minh Tuy\u00ean ng\u00f4n \u0111\u1ed9c l\u1eadp 02/09/1945, HCM \u0111\u1eb7t ra qu\u1ed1c hi\u1ec7u VNDCCH (<code>qu\u1ed1c hi\u1ec7u g\u1eafn v\u1edbi th\u1ec3 ch\u1ebf ch\u00ednh tr\u1ecb</code>): m\u1ee5c \u0111\u00edch c\u1ee7a nh\u00e0 n\u01b0\u1edbc l\u00e0 quy\u1ec1n d\u00e2n ch\u1ee7, t\u1ef1 do, c\u00f4ng b\u1eb1ng cho t\u1ea5t c\u1ea3 m\u1ecdi ng\u01b0\u1eddi 12 C\u1ed9ng H\u00f2a X\u00e3 H\u1ed9i Ch\u1ee7 Ngh\u0129a Vi\u1ec7t Nam Qu\u1ed1c h\u1ed9i Vi\u1ec7t Nam 30/04/1975 Sau khi th\u1ed1ng nh\u1ea5t \u0111\u1ea5t n\u01b0\u1edbc, qu\u1ed1c h\u1ed9i nh\u1ea5t tr\u00ed l\u1ea5y qu\u1ed1c hi\u1ec7u CHXHCN Vi\u1ec7t Nam. T\u01b0\u01a1ng t\u1ef1 nh\u01b0 t\u00ean g\u1ecdi tr\u01b0\u1edbc \u0111\u00f3, qu\u1ed1c hi\u1ec7u n\u00e0y c\u0169ng g\u1eafn th\u1ec3 ch\u1ebf ch\u00ednh tr\u1ecb v\u00e0 th\u1ec3 hi\u1ec7n m\u1ee5c ti\u00eau v\u01b0\u01a1n t\u1edbi x\u00e3 h\u1ed9i KH\u00d4NG T\u01af\u1edeNG \u00e0 nh\u1ea7m m\u1ed9t x\u00e3 h\u1ed9i t\u1ed1t \u0111\u1eb9p h\u01a1n. <ul> <li>Danh s\u00e1ch n\u00e0y b\u1ecf qua c\u00e1c t\u00ean th\u1eddi k\u1ef3 B\u1eafc thu\u1ed9c v\u00e0 Ph\u00e1p thu\u1ed9c nh\u01b0: Giao Chi, Giao Ch\u00e2u, Li\u00ean Bang \u0110\u00f4ng D\u01b0\u01a1ng</li> </ul>"},{"location":"blog/2019/04/19/dockerizing-a-nodejs-web-app/","title":"Dockerizing a Node.js web app","text":""},{"location":"blog/2019/04/19/dockerizing-a-nodejs-web-app/#introdution","title":"Introdution","text":"<p>Hi guys! Sau khi c\u00f3 \u00fd \u0111\u1ecbnh t\u00ecm hi\u1ec3u docker v\u00e0 \u0111\u1ecdc document. Nh\u1eadn th\u1ea5y \u0111\u1ec3 th\u1ef1c h\u00e0nh c\u00e1c ph\u1ea7n c\u1ee7a docker: <code>containers, services...</code> ch\u00fang ta c\u1ea7n c\u00f3 m\u1ed9t image.</p> <p>B\u00e0i h\u01b0\u1edbng d\u1eabn tr\u00ean trang ch\u1ee7 c\u1ee7a docker b\u1eb1ng <code>python</code> b\u1ea3n th\u00e2n \u0111ang l\u00e0m <code>nodejs</code>. N\u00ean m\u00ecnh quy\u1ebft \u0111\u1ecbnh vi\u1ec7c \u0111\u1ea7u ti\u00ean s\u1ebd: build docker image c\u1ee7a nodejs.</p> <p>M\u1eddi c\u00e1c b\u1ea1n theo d\u00f5i:</p>"},{"location":"blog/2019/04/19/dockerizing-a-nodejs-web-app/#create-the-nodejs-app","title":"Create the Node.js app","text":"<ul> <li>\u0110\u1ec3 t\u1ea1o m\u1ed9t docker container c\u1ee7a Nodejs vi\u1ec7c \u0111\u1ea7u ti\u00ean ch\u00fang ta ph\u1ea3i t\u1ea1o nodejs app, b\u1eb1ng c\u00e1ch t\u1ea1o file <code>package.json</code> v\u1edbi n\u1ed9i dung nh\u01b0 d\u01b0\u1edbi:</li> </ul> <pre><code>  {\n    \"name\": \"docker_web_app\",\n    \"version\": \"1.0.0\",\n    \"description\": \"Node.js on Docker\",\n    \"author\": \"phucluongngoc@gmail.com\",\n    \"main\": \"index.js\",\n    \"scripts\": {\n      \"start\": \"node index.js\"\n    },\n    \"dependencies\": {\n      \"express\": \"^4.16.1\"\n    }\n  }\n</code></pre> <ul> <li>T\u1eeb <code>package.json</code> ch\u00fang ta s\u1ebd c\u00e0i g\u00f3i ph\u1ee5 thu\u1ed9c v\u1edbi <code>npm install</code>.</li> <li>V\u00e0 t\u1ea1o web app h\u1ebft s\u1ee9c \u0111\u01a1n gi\u1ea3n trong <code>index.js</code> file:</li> </ul> <pre><code>\"use strict\";\n\nconst express = require(\"express\");\n\n// Constants\nconst PORT = 8080;\nconst HOST = \"0.0.0.0\";\n\n// App\nconst app = express();\napp.get(\"/\", (req, res) =&gt; {\n  res.send(\"Hello world 2019!\\n\");\n});\n\napp.listen(PORT, HOST);\nconsole.log(`Devil's running on http://${HOST}:${PORT}`);\n</code></pre> <ul> <li>Done! Th\u1eed check l\u1ea1i web-app c\u1ee7a ch\u00fang ta c\u00f3 ho\u1ea1t \u0111\u1ed9ng.</li> <li>\u0110\u1ea7u ti\u00ean kh\u1edfi ch\u1ea1y server v\u1edbi: <code>npm start</code> sau \u0111\u00f3 th\u1eed request t\u1edbi server ch\u00fang ta \u0111\u01b0\u1ee3c k\u1ebft qu\u1ea3 nh\u01b0 d\u01b0\u1edbi:</li> </ul> <pre><code>  $ curl -i localhost:8080\n  HTTP/1.1 200 OK\n  X-Powered-By: Express\n  Content-Type: text/html; charset=utf-8\n  Content-Length: 18\n  ETag: W/\"12-7ewqKCFbMISMUMaXguJLPYCIvw0\"\n  Date: Sat, 20 Apr 2019 08:59:27 GMT\n  Connection: keep-alive\n\n  Hello world 2019!\n</code></pre> <ul> <li>Fine! Nh\u01b0 v\u1eady web-app c\u1ee7a ch\u00fang ta ho\u1ea1t \u0111\u1ed9ng, ph\u1ea7n ti\u1ebfp theo s\u1ebd t\u1ea1o c\u00e1c c\u1ea5u h\u00ecnh c\u1ea7n thi\u1ebft \u0111\u1ec3 c\u00f3 build docker image t\u1eeb web app n\u00e0y.</li> </ul>"},{"location":"blog/2019/04/19/dockerizing-a-nodejs-web-app/#creating-a-dockerfile","title":"Creating a Dockerfile","text":"<ul> <li>T\u1ea1o m\u1ed9t file tr\u1ed1ng v\u1edbi t\u00ean ch\u00ednh x\u00e1c: <code>Dockerfile</code> b\u1eb1ng c\u00e1ch:</li> </ul> <pre><code>touch Dockerfile\n</code></pre> <ul> <li>Image c\u1ee7a ch\u00fang ta s\u1ebd build d\u1ef1a tr\u00ean image g\u1ed1c \u0111\u01b0\u1ee3c cung c\u1ea5p b\u1edfi Node b\u1eb1ng c\u00e2u l\u1ec7nh:</li> </ul> <pre><code>  FROM node:8\n</code></pre> <ul> <li>Ti\u1ebfp theo ta s\u1ebd t\u1ea1o th\u01b0 m\u1ee5c ch\u1ee9a to\u00e0n b\u1ed9 source code b\u00ean trong image. \u0110\u00e2y c\u0169ng s\u1ebd l\u00e0 th\u01b0 m\u1ee5c l\u00e0m vi\u1ec7c c\u1ee7a web app.</li> </ul> <pre><code>  #Create app directory\n  WORKDIR /usr/src/app\n</code></pre> <ul> <li>B\u01b0\u1edbc ti\u1ebfp theo ch\u00fang ta s\u1ebd copy file <code>package*.json</code> v\u00e0 c\u00e0i \u0111\u1eb7t c\u00e1c g\u00f3i ph\u1ee5 thu\u1ed9c c\u1ea7n thi\u1ebft(thay v\u00ec copy to\u00e0n b\u1ed9) vi\u1ec7c n\u00e0y cho ph\u00e9p t\u1eadn d\u1ee5ng l\u1ee3i th\u1ebf cached c\u1ee7a Docker layers).</li> </ul> <pre><code>  # Install app dependencies\n  # A wildcard is used to ensure both package.json AND package-lock.json are copied\n  # where available (npm@5+)\n  COPY package*.json ./\n\n  RUN npm install\n  # If you are building your code for production\n  # RUN npm ci --only=production\n</code></pre> <ul> <li>COPY to\u00e0n b\u1ed9 source code v\u00e0o trong Docker image v\u1edbi c\u00e2u l\u1ec7nh:</li> </ul> <pre><code>  #Bundle app source\n  COPY . .\n</code></pre> <ul> <li>Map t\u1edbi port 8080 c\u1ee7a container</li> </ul> <pre><code>  EXPOSE 8080\n</code></pre> <ul> <li>Kh\u1edfi ch\u1ea1y \u1ee9ng d\u1ee5ng:</li> </ul> <pre><code> CMD [\"npm\", \"start\"]\n</code></pre> <ul> <li><code>Dockerfile</code> ho\u00e0n ch\u1ec9nh c\u1ee7a ch\u00fang ta tr\u00f4ng s\u1ebd nh\u01b0 th\u1ebf n\u00e0y:</li> </ul> <pre><code>  FROM node:8\n\n  #Create app directory\n  WORKDIR /usr/src/app\n\n  # Install app dependencies\n  # A wildcard is used to ensure both package.json AND package-lock.json are copied\n  # where available (npm@5+)\n  COPY package*.json ./\n\n  RUN npm install\n  # If you are building your code for production\n  # RUN npm ci --only=production\n\n  #Bundle app source\n  COPY . .\n\n  EXPOSE 8080\n\n  CMD [\"npm\", \"start\"]\n</code></pre>"},{"location":"blog/2019/04/19/dockerizing-a-nodejs-web-app/#add-dockerignore-file","title":"Add .dockerignore file","text":"<ul> <li>T\u1ea1o file <code>.dockerignore</code> c\u00f9ng c\u1ea5p v\u1edbi file <code>Dockerfile</code>. C\u1ea5u h\u00ecnh d\u01b0\u1edbi s\u1ebd ch\u1ec9 cho docker bi\u1ebft b\u1ecf qua c\u00e1c file ko c\u1ea7n copy v\u00e0o trong image:</li> </ul> <pre><code>  node_modules\n  npm-debug.log\n</code></pre>"},{"location":"blog/2019/04/19/dockerizing-a-nodejs-web-app/#building-our-image","title":"Building our image","text":"<ul> <li>Ch\u00fang ta \u0111\u00e3 setup xong web app v\u00e0 c\u1ea5u h\u00ecnh cho docker. B\u01b0\u1edbc ti\u1ebfp theo build docker image t\u1eeb c\u00e1c chu\u1ea9n b\u1ecb \u0111\u00f3:</li> </ul> <pre><code>  docker build -t node-web-app .\n</code></pre> <ul> <li><code>-t node-web-app</code> g\u1eafn cho image \u0111\u01b0\u1ee3c m\u1ed9t tag v\u1edbi t\u00ean <code>node-web-app</code>.</li> <li>\u0110\u1eebng qu\u00ean <code>.</code>, n\u00f3 c\u00f3 th\u1ec3 l\u00e0 PATH ho\u1eb7c URL, d\u1ea5u ch\u1ea5m <code>.</code> cho docker bi\u1ebft s\u1ebd \u0111\u1ecdc file <code>Dockerfile</code> c\u00f9ng c\u1ea5p v\u1edbi th\u01b0 m\u1ee5c \u0111ang ch\u1ea1y l\u1ec7nh <code>docker build</code></li> </ul>"},{"location":"blog/2019/04/19/dockerizing-a-nodejs-web-app/#run-the-image","title":"Run the image","text":"<ul> <li>Kh\u1edfi ch\u1ea1y image v\u1edbi <code>-d</code> | detached mode, \u0111\u1ec3 container ch\u1ea1y n\u1ec1n ( background). <code>-p</code> \u0111\u1ec3 map port local v\u1edbi port tr\u00ean container.</li> </ul> <pre><code>  docker run -p 3000:8080 -d node-web-app\n</code></pre> <ul> <li>Ki\u1ec3m tra container c\u1ee7a b\u1ea1n \u0111ang ch\u1ea1y</li> </ul> <pre><code>  # Get container ID\n  docker ps\n\n  # Print app output\n  docker logs &lt;container id&gt;\n</code></pre> <ul> <li>N\u1ebfu c\u1ea7n login b\u00ean trong container \u0111ang ch\u1ea1y, th\u1ef1c hi\u1ec7n l\u1ec7nh sau:</li> </ul> <pre><code>  docker exec -ti &lt;container id&gt; /bin/bash\n</code></pre>"},{"location":"blog/2019/04/19/dockerizing-a-nodejs-web-app/#test","title":"Test","text":"<ul> <li>Th\u1eed truy c\u1eadp t\u1edbi d\u1ecbch v\u1ee5, ta s\u1ebd \u0111\u01b0\u1ee3c nh\u01b0 d\u01b0\u1edbi:</li> </ul> <pre><code>  # curl -i localhost:3000\n  HTTP/1.1 200 OK\n  X-Powered-By: Express\n  Content-Type: text/html; charset=utf-8\n  Content-Length: 18\n  ETag: W/\"12-7ewqKCFbMISMUMaXguJLPYCIvw0\"\n  Date: Sat, 20 Apr 2019 09:56:54 GMT\n  Connection: keep-alive\n\n  Hello world 2019!\n</code></pre>"},{"location":"blog/2019/04/19/dockerizing-a-nodejs-web-app/#question","title":"Question","text":"<ul> <li> <p>M\u1ed9t s\u1ed1 c\u00e2u h\u1ecfi m\u00ecnh th\u1eafc m\u1eafc khi build image n\u00e0y:</p> </li> <li> <p><code>Port</code> trong web-app, v\u00e0 <code>EXPOSE</code> trong <code>Dockerfile</code>, trong <code>-p 3000:8080</code> khi run image c\u00f3 m\u1ed1i li\u00ean h\u1ec7 nh\u01b0 th\u1ebf n\u00e0o?</p> </li> </ul> <p><code>Port</code> trong web-app l\u00e0 port c\u1ea5u h\u00ecnh d\u1ecbch v\u1ee5. Web-app s\u1ebd l\u1eafng nghe request th\u00f4ng qua port n\u00e0y.</p> <p><code>EXPOSE</code> trong <code>Dockerfile</code> ch\u1ec9 ra r\u1eb1ng container l\u1eafng nghe tr\u00ean c\u1ed5ng n\u00e0y trong m\u1ea1ng (<code>network</code>) c\u1ee5 th\u1ec3.</p> <p><code>-p 3000:8080</code> Gi\u00fap map gi\u1eefa <code>localhost:3000</code> v\u00e0o port <code>8080</code> c\u1ee7a container. L\u01b0u \u00fd container v\u00e0 localhost thu\u1ed9c 2 d\u1ea3i m\u1ea1ng kh\u00e1c nhau.</p> <p>Hai port c\u1ee7a <code>-p</code> v\u00e0 <code>EXPOSE</code> mang hai \u00fd ngh\u0129a kh\u00e1c nhau, kh\u00f4ng li\u00ean quan. B\u1ea1n c\u00f3 th\u1ec3 command <code>EXPOSE</code> v\u00e0 ch\u1ea1y l\u1ea1i. Container kh\u00e1c ( n\u1ebfu c\u00f3) \u0111\u01b0\u1ee3c c\u1ea5u h\u00ecnh c\u00f9ng d\u1ea3i m\u1ea1ng v\u1edbi conatiner web-app s\u1ebd ko truy c\u1eadp \u0111\u01b0\u1ee3c. Nh\u01b0ng t\u1eeb m\u00e1y ch\u1ee7 s\u1ebd v\u1eabn truy c\u1eadp \u0111\u01b0\u1ee3c qua: <code>localhost:3000</code>. Kh\u00f4ng tin \u00e0? L\u00e0m th\u1eed \u0111i th\u00ec bi\u1ebft :D.</p> <ol> <li>Ch\u1eb3ng ph\u1ea3i <code>COPY . .</code> s\u1ebd copy to\u00e0n b\u1ed9 source code v\u00e0o trong image r\u1ed3i. T\u1ea1i sao l\u1ea1i ph\u1ea3i copy <code>package.json</code> v\u00e0 <code>npm install</code> tr\u01b0\u1edbc.</li> </ol> <p><code>npm install</code> th\u01b0\u1eddng l\u00e0 b\u01b0\u1edbc t\u1ed1n th\u1eddi gian, nh\u01b0ng ch\u00fang ta ch\u1ec9 c\u1ea7n ch\u1ea1y l\u1ea1i n\u00f3 khi <code>package.json</code> c\u00f3 s\u1ef1 thay \u0111\u1ed5i. B\u1edfi v\u1eady th\u01b0\u1eddng b\u01b0\u1edbc m\u1ed9t s\u1ebd c\u00e0i c\u00e1c g\u00f3i ph\u1ee5 thu\u1ed9c v\u00e0 b\u01b0\u1edbc hai m\u1edbi th\u1ef1c s\u1ef1 th\u00eam source code. V\u00ed d\u1ee5 khi b\u1ea1n thay \u0111\u1ed5i source code <code>src/*.js</code> nh\u01b0ng kh\u00f4ng thay \u0111\u1ed5i c\u00e1c g\u00f3i ph\u1ee5 thu\u1ed9c <code>package.json</code>. Nh\u1edd th\u1ef1c hi\u1ec7n theo c\u00e1ch n\u00e0y, khi b\u1ea1n build l\u1ea1i image, Docker s\u1ebd kh\u00f4ng c\u1ea7n ch\u1ea1y l\u1ea1i ch\u00fang(<code>npm install</code>). Nguy\u00ean nh\u00e2n t\u1eeb c\u00e1ch Docker image \u0111\u01b0\u1ee3c build ( d\u1ef1a tr\u00ean layer v\u00e0 cache).</p> <ul> <li>C\u1ea3m \u01a1n m\u1ecdi ng\u01b0\u1eddi \u0111\u00e3 theo d\u00f5i t\u1edbi b\u01b0\u1edbc n\u00e0y :D.</li> </ul>"},{"location":"blog/2019/05/21/exploring-docker/","title":"Exploring docker","text":""},{"location":"blog/2019/05/21/exploring-docker/#mo-au","title":"M\u1edf \u0111\u1ea7u","text":"<p>Hi guys! L\u00e0 m\u1ed9t ng\u01b0\u1eddi m\u1edbi t\u00ecm hi\u1ec3u <code>docker</code> v\u00e0 m\u1edbi d\u1eebng \u1edf run <code>container</code> t\u1eeb <code>image</code> :D. M\u00ecnh c\u00f3 l\u00ean trang web c\u1ee7a docker \u0111\u1ec3 \u0111\u1ecdc documentation. Nh\u01b0ng th\u1ea5y kh\u00e1 d\u1ed1i v\u00ec c\u00f3 qu\u00e1 nhi\u1ec1u kh\u00e1i ni\u1ec7m: docker-something( docker-compose, docker-machine, docker engine, docker swarm, docker image, docker container...). V\u00ec v\u1eady m\u00ecnh quy\u1ebft \u0111\u1ecbnh kh\u00f4ng \u0111\u1ecdc ti\u1ebfp documentation n\u1eefa. M\u00e0 s\u1ebd t\u00ecm hi\u1ec3u t\u1ed5ng qu\u00e1t qua c\u00e1c kh\u00e1i ni\u1ec7m c\u1ee7a docker, \u0111\u1ec3 c\u00f3 c\u00e1i nh\u00ecn bao qu\u00e1t tr\u01b0\u1edbc khi \u0111i v\u00e0o chi ti\u1ebft t\u1eebng kh\u00e1i ni\u1ec7m. \u0110\u00f3 c\u0169ng ch\u00ednh l\u00e0 n\u1ed9i dung c\u1ee7a b\u00e0i vi\u1ebft n\u00e0y s\u1ebd tr\u00ecnh b\u00e0y. Ngo\u00e0i kh\u00e1i ni\u1ec7m v\u1ec1 \u0111\u1ecbnh ngh\u0129a, n\u1ed9i dung c\u00f3 vi\u00eat theo \u00fd hi\u1ec3u c\u1ee7a c\u00e1 nh\u00e2n :)</p>"},{"location":"blog/2019/05/21/exploring-docker/#docker-engine","title":"Docker Engine","text":"<ul> <li> <p>L\u00e0 m\u1ed9t lightweight runtime tool s\u1ebd build v\u00e0 run c\u00e1c docker containers. N\u00f3 ho\u1ea1t \u0111\u1ed9ng nh\u01b0 th\u1ebf n\u00e0o? Docker th\u1ef1c ch\u1ea5t l\u00e0 m\u1ed9t \u1ee9ng d\u1ee5ng d\u1ea1ng client-sever. Docker Client s\u1ebd giao ti\u1ebfp v\u1edbi Docker Engine qua m\u1ed9t RESTful API, \u0111\u1ec3 th\u1ef1c hi\u1ec7n vi\u1ec7c build, ship v\u00e0 run c\u00e1c containers.</p> </li> <li> <p>C\u00f3 b\u1ed1n kh\u00e1i ni\u1ec7m ch\u00ednh trong th\u1ebf gi\u1edbi Docker Engine - ch\u00fang \u0111\u1ec1u c\u00f3 ID - b\u1eb1ng c\u00e1ch k\u1ebft h\u1ee3p ch\u00fang c\u00f9ng nhau, ch\u00fang ta c\u00f3 th\u1ec3 build, ship v\u00e0 run \u1ee9ng d\u1ee5ng, \u1edf b\u1ea5t k\u1ef3 \u0111\u00e2u(Docker\u200a\u2014\u200aBuild, Ship, and Run Any App, Anywhere.)</p> </li> <li> <p>Images: image \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng \u0111\u1ec3 \u0111\u00f3ng g\u00f3i c\u00e1c \u1ee9ng d\u1ee5ng v\u00e0 g\u00f3i ph\u1ee5 thu\u1ed9c. Hi\u1ec3u n\u00f4m na <code>image</code> gi\u1ed1ng nh\u01b0 m\u1ed9t file .iso c\u1ee7a b\u1ea3n c\u00e0i h\u1ec7 \u0111i\u1ec1u h\u00e0nh win10 ho\u1eb7c ubuntu v\u1eady. C\u00f3 m\u1ed9t s\u1ed1 th\u1ee9 li\u00ean quan b\u1ea1n n\u00ean quan t\u00e2m \u0111\u00f3 l\u00e0 khi vi\u1ebft <code>Dockerfile</code> l\u00e0m sao cho t\u1ed1i \u01b0u v\u00ed d\u1ee5 nh\u01b0 t\u1ea1o ra image v\u1edbi k\u00edch th\u01b0\u1edbc nh\u1ecf hay best-practices.</p> </li> <li> <p>Containers. Container ch\u00ednh l\u00e0 m\u1ed9t th\u1ec3 hi\u1ec7n c\u1ee7a images. Hi\u1ec3u n\u00f4m na nh\u01b0 khi b\u1ea1n c\u00e0i th\u00e0nh c\u00f4ng ubuntu/win10 l\u00ean laptop v\u1eady.</p> </li> <li> <p>Networks: Khi c\u00f3 nhi\u1ec1u container b\u1eadn s\u1ebd mu\u1ed1n gom ch\u00fang chung v\u00e0o m\u1ed9t network cho ti\u1ec7n qu\u1ea3n l\u00fd ho\u1eb7c t\u00e1ch bi\u1ec7t m\u1ed9t nh\u00f3m c\u00e1c container v\u1edbi c\u00e1c d\u1ea3i m\u1ea1ng kh\u00e1c, b\u1ea1n s\u1ebd c\u1ea7n hi\u1ec3u t\u00ecm hi\u1ec3u kh\u00e1i ni\u1ec7m network trong Docker.</p> </li> <li> <p>Volumes: Volumes \u0111\u01b0\u1ee3c thi\u1ebft k\u1ebf \u0111\u1ec3 l\u01b0u d\u1eef li\u1ec7u, \u0111\u1ed9c l\u1eadp v\u1edbi v\u00f2ng \u0111\u1eddi c\u1ee7a containers - th\u1ebf ngh\u0129a l\u00e0 sao ? Th\u00f4ng th\u01b0\u1eddng ch\u00fang ta c\u00f3 th\u1ec3 l\u01b0u d\u1eef li\u1ec7u ngay trong containers ki\u1ec3u thi\u1ebft k\u1ebf n\u00e0y l\u00e0m containers b\u1ecb ph\u00ecnh to ra, v\u00e0 quan tr\u1ecdng h\u01a1n m\u1ed7i khi containers b\u1ecb x\u00f3a, to\u00e0n b\u1ed9 d\u1eef li\u1ec7u s\u1ebd b\u1ecb m\u1ea5t. Volumes s\u1ebd gi\u1ea3i quy\u1ebft v\u1ea5n \u0111\u1ec1 n\u00e0y.</p> </li> <li> <p>H\u00ecnh b\u00ean d\u01b0\u1edbi m\u00f4 t\u1ea3 c\u00e1ch th\u1ee9c c\u00e1c Docker Client tr\u00ean ho\u1ea1t \u0111\u1ed9ng v\u00e0 t\u01b0\u01a1ng t\u00e1c v\u1edbi nhau:   </p> </li> <li>Lo\u1eb1ng ngo\u1eb1ng kh\u00f3 hi\u1ec3u v\u1eady? M\u00ecnh s\u1ebd n\u00f3i qua m\u1ed9t ch\u00fat. Docker th\u1ef1c hi\u1ec7n ch\u00ednh c\u00e1c vi\u1ec7c: <code>ship</code>, <code>build</code>, <code>run</code>. Trong h\u00ecnh tr\u00ean chia ra 3 ph\u1ea7n t\u01b0\u01a1ng \u1ee9ng cho c\u00e1c vi\u1ec7c n\u00e0y.</li> <li>Nh\u00ecn t\u1eeb tr\u00ean xu\u1ed1ng v\u00ed d\u1ee5 cho ph\u1ea7n ship: t\u1eeb <code>Dockerfile</code> ch\u00fang ta c\u00f3 th\u1ec3 build ra 1 <code>image</code> ho\u1eb7c t\u1eeb m\u1ed9t <code>repository</code> ch\u00fang ta c\u00f3 th\u1ec3 <code>pull</code> v\u1ec1 <code>images</code> ho\u1eb7c ng\u01b0\u1ee3c l\u1ea1i t\u1eeb c\u00e1c <code>image</code> n\u00e0y ch\u00fang ta c\u00f3 th\u1ec3 <code>push</code> l\u00ean <code>repository</code> \u0111\u00f3 ch\u00ednh l\u00e0 <code>ship</code>.</li> <li>Ph\u1ea7n th\u1ee9 2 t\u1eeb <code>images</code> ch\u00fang ta c\u00f3 th\u1ec3 <code>run</code> th\u00e0nh m\u1ed9t <code>container</code> ho\u1eb7c <code>container</code> ch\u00fang ta c\u00f3 th\u1ec3 <code>commit</code> \u0111\u1ec3 t\u1ea1o ra images. \u0110\u00f3 l\u00e0 ph\u1ea7n <code>build</code>.</li> <li>Ph\u1ea7n cu\u1ed1i: trong qu\u00e1 tr\u00ecnh <code>contaiers</code> \u0111\u01b0\u1ee3c ch\u1ea1y. N\u00f3 s\u1ebd c\u00f3 th\u1ec3 li\u00ean k\u1ebft v\u1edbi nhau( <code>networks</code>) v\u00e0 l\u01b0u tr\u1eef gi\u1eef li\u1ec7u \u0111\u00e2u \u0111\u00f3 ngo\u00e0i <code>container</code> (<code>volumes</code>) \u0111\u00f3 ph\u1ea7n run c\u1ee7a docker.</li> </ul>"},{"location":"blog/2019/05/21/exploring-docker/#distribution-tools-cong-cu-quan-ly-phan-tan-cac-images","title":"Distribution tools( c\u00f4ng c\u1ee5 qu\u1ea3n l\u00fd ph\u00e2n t\u00e1n c\u00e1c images)","text":"<ul> <li>\u0110\u1ec3 l\u01b0u tr\u1eef v\u00e0 qu\u1ea3n l\u00fd c\u00e1c Docker image ch\u00fang ta c\u00f3 c\u00e1c c\u00f4ng c\u1ee5 sau:</li> <li>Docker Registry: l\u00e0 m\u1ed9t m\u00e3 ngu\u1ed3n m\u1edf gi\u00fap b\u1ea1n t\u1ef1 l\u01b0u tr\u1eef v\u00e0 qu\u1ea3n l\u00fd Docker images.</li> <li>Docker Trusted Registry: l\u00e0 c\u00f4ng c\u1ee5 qu\u1ea3n l\u00fd v\u00e0 l\u01b0u tr\u1eef images c\u00f3 t\u00ednh ph\u00ed( n\u1ebfu b\u1ea1n c\u00f3 nhu c\u1ea7u th\u00ec c\u00f3 th\u1ec3 t\u00ecm hi\u1ec3u th\u00eam - m\u00ecnh hi\u1ec7n t\u1ea1i ch\u01b0a c\u00f3 :D)</li> <li>Docker Hub: \u0110\u01b0\u1ee3c cung c\u1ea5p b\u1edfi docker, v\u00e0 m\u1eb7c \u0111\u1ecbnh docker Client s\u1ebd s\u1eed d\u1ee5ng Docker Hub n\u00e0y n\u1ebfu kh\u00f4ng c\u00f3 registry n\u00e0o \u0111\u01b0\u1ee3c c\u1ea5u h\u00ecnh. N\u1ebfu \u0111\u1ee5ng \u0111\u1ebfn Docker ch\u1eafc ch\u1eafn b\u1ea1n s\u1ebd d\u00f9ng d\u00f9ng t\u1edbi n\u00f3 nhi\u1ec1u :D</li> </ul>"},{"location":"blog/2019/05/21/exploring-docker/#orchestration-tools-cong-cu-ieu-phoi","title":"Orchestration tools ( c\u00f4ng c\u1ee5 \u0111i\u1ec1u ph\u1ed1i)","text":"<ul> <li> <p>Docker Machine: cho ph\u00e9p t\u1ea1o Docker hots tr\u00ean m\u00e1y t\u00ednh c\u1ee7a b\u1ea1n, d\u1ecbch v\u1ee5 cloud, trong datacenter. Docker t\u1ea1o server v\u00e0 c\u00e0i \u0111\u1eb7t Docker l\u00ean ch\u00fang, k\u1ebf \u0111\u1ebfn c\u1ea5u h\u00ecnh \u0111\u1ec3 Docker Client c\u00f3 th\u1ec3 giao ti\u1ebfp \u0111\u01b0\u1ee3c v\u1edbi Docker server. Hi\u1ec3u n\u00f4m na gi\u00fap d\u1ec5 d\u00e0ng c\u00e0i \u0111\u1eb7t Docker-engine l\u00ean c\u00e1c m\u00f4i tr\u01b0\u1eddng.</p> </li> <li> <p>Docker Swarm: l\u00e0 m\u1ed9t tool gi\u00fap ph\u00e2n c\u1ee5m (clustering) cho Docker containers. Gom v\u00e0i Docker Engines l\u1ea1i v\u1edbi nhau v\u00e0 expose ch\u00fang ra ngo\u00e0i nh\u01b0 m\u1ed9t virtual Docker Engine. Swarm h\u1ed7 tr\u1ee3 chu\u1ea9n Docker API, b\u1edfi v\u1eady tool n\u00e0o k\u1ebft n\u1ed1i v\u1edbi Docker Engine th\u00ec \u0111\u1ec1u c\u00f3 th\u1ec3 s\u1eed d\u1ee5ng Swarm. Swarm c\u0169ng n\u00ean c\u1ea5u h\u00ecnh v\u00e0 deployed v\u1edbi Docker Machine.</p> </li> <li> <p>Docker compose: l\u00e0 tool cho vi\u1ec7c \u0111\u1ecbnh ngh\u0129a v\u00e0 ch\u1ea1y nhi\u1ec1u docker-container. V\u00ed d\u1ee5 \u0111\u1ec3 <code>run</code> 10 container thay v\u00ec 10 l\u1ea7n l\u1ec7nh. Gi\u1edd \u0111\u00e2y v\u1edbi c\u1ea5u h\u00ecnh s\u1eb5n tr\u01b0\u1edbc trong docker-compose.yml ch\u00fang ta ch\u1ec9 c\u1ea7n ch\u1ea1y 1 l\u1ec7nh: <code>docker-compose up</code>. (nh\u1eb9 nh\u00e0ng h\u01a1n kh\u00f4ng? :D)</p> </li> <li> <p>H\u01a1i c\u00f3 ch\u00fat nh\u1ea7m l\u1eabn ho\u1eb7c kh\u00f3 ph\u00e2n bi\u1ec7t gi\u1eef <code>docker-compose</code> v\u00e0 <code>docker-swarm</code> ?</p> </li> <li><code>docker-compose</code> \u0111\u01a1n gi\u1ea3n cho ph\u00e9p c\u1ea5u h\u00ecnh v\u00e0 start nhi\u1ec1u docker containers. Trong khi \u0111\u00f3 <code>docker-swarm</code> cho ph\u00e9p ch\u1ea1y v\u00e0 k\u1ebft n\u1ed1i nhi\u1ec1u containers tr\u00ean nhi\u1ec1u hosts. N\u00f3 qu\u1ea3n l\u00fd vi\u1ec7c ch\u1ea1y nhi\u1ec1u containers tr\u00ean nhi\u1ec1u hosts kh\u00e1c nhau, qu\u1ea3n l\u00fd vi\u1ec7c m\u1edf r\u1ed9ng (scaling), ch\u1ea1y m\u1edbi m\u1ed9t containers khi c\u00f3 m\u1ed9t containers b\u1ecb crash, qu\u1ea3n l\u00fd network trong c\u00e1c containers..</li> </ul>"},{"location":"blog/2019/05/21/exploring-docker/#third-party-tools","title":"Third party tools","text":"<ul> <li>Ngo\u00e0i ra c\u00f2n c\u00f3 m\u1ed9t s\u1ed1 tools cho trong h\u1ec7 sinh th\u00e1i Docker b\u1ea1n c\u0169ng n\u00ean bi\u1ebft qua:</li> <li>Orchestration : nh\u01b0 Kubernets ho\u1eb7c Mesos Marathon.</li> <li>Clustering: nh\u01b0 Fleet ho\u1eb7c Nomad.</li> <li>Registries: nh\u01b0 Quay.io ho\u1eb7c Artifactory.</li> <li>Managed container services: AWS ECS, Google Container Engine.</li> </ul>"},{"location":"blog/2019/05/21/exploring-docker/#summing-up","title":"Summing up","text":"<ul> <li>Tool Docker cho ph\u00e9p build, ship, v\u00e0 run b\u1ea5t k\u1ef3 \u1ee9ng d\u1ee5ng n\u00e0o, \u1edf b\u1ea5t k\u1ef3 \u0111\u00e2u:</li> <li>Build: <code>Docker Engine</code>( docker build -t) v\u00e0 <code>Docker Compose</code> (docker-compose build, c\u00e1c \u1ee9ng d\u1ee5ng ch\u1ea1y nhi\u1ec1u container)</li> <li>Ship: Docker Registry, Docker Trusted Registry, Docker Hub(SaaS)</li> <li>Run: <code>Docker Engine</code>(Docker run), <code>Docker Swarm</code> (qu\u1ea3n l\u00fd nhi\u1ec1u Docker Engine), <code>Docker Compose</code> (docker-compose up)</li> <li>Manage: Docker Universal Control Plane v\u00e0 Docker Cloud(CaaS).</li> <li>Provisioning of Docker Engines: Docker Machine, Docker Toolbox, Docker for Mac, Docker for Windows(v\u1edbi m\u00e1y c\u00e1 nh\u00e2n)</li> </ul>"},{"location":"blog/2019/05/21/exploring-docker/#ket","title":"K\u1ebft","text":"<ul> <li>Khi t\u00ecm hi\u1ec3u vi\u1ebft b\u00e0i n\u00e0y, gi\u00fap m\u00ecnh c\u00f3 c\u00e1i nh\u00ecn t\u1ed5ng quan v\u1ec1 Docker c\u0169ng nh\u01b0 hi\u1ec3u, ph\u00e2n bi\u1ec7t c\u00e1c kh\u00e1i ni\u1ec7m <code>Docker-something</code>.</li> <li>Gi\u00fap m\u00ecnh nh\u00ecn c\u00e1c ph\u1ea7n trong documentation c\u1ee7a Docker d\u1ec5 d\u00e0ng h\u01a1n, \u0111\u1ecbnh h\u01b0\u1edbng \u0111\u01b0\u1ee3c m\u00ecnh \u0111ang \u0111\u1ecdc ph\u1ea7n n\u00e0o c\u1ee7a docker, ho\u1eb7c c\u1ea7n t\u00ecm c\u00e1i g\u00ec \u1edf \u0111\u00e2u d\u1ec5 d\u00e0ng h\u01a1n.</li> <li>Ch\u00fac b\u1ea1n c\u00f3 chung c\u1ea3m nh\u1eadn gi\u1ed1ng nh\u01b0 m\u00ecnh!</li> </ul>"},{"location":"blog/2019/06/22/understanding-git-branch/","title":"Understanding git branch","text":""},{"location":"blog/2019/06/22/understanding-git-branch/#introduction","title":"Introduction","text":"<ul> <li>Hi guys! Tr\u01b0\u1edbc khi b\u1eaft \u0111\u1ea7u v\u1edbi git's branch. M\u00ecnh ngh\u0129 ch\u00fang ta n\u00ean c\u00f3 m\u1ed9t s\u1ef1 hi\u1ec3u bi\u1ebft nh\u1ea5t \u0111\u1ecbnh v\u1ec1 git's data model. (n\u1ebfu b\u1ea1n mu\u1ed1n c\u00f3 m\u1ed9t b\u00e0i d\u1ecbch cho \u0111\u01b0\u1eddng link \u0111\u00f3 vui l\u00f2ng th\u00f4ng tin cho m :D ).</li> </ul> <ul> <li>C\u00f2n \u0111\u00e2y l\u00e0 nh\u1eadn x\u00e9t t\u1eeb git scm v\u1ec1 l\u1ee3i \u00edch vi\u1ec7c hi\u1ec3u git branch: \"Understanding and mastering this feature (git's branch) gives you a powerful and unique tool and can entirely change the way that you develop.\"</li> </ul>"},{"location":"blog/2019/06/22/understanding-git-branch/#gits-branch","title":"Git's branch","text":"<ul> <li>C\u00f9ng h\u00ecnh dung ch\u00fang ta c\u00f3 1 \u0111\u1ed3 th\u1ecb l\u1ecbch s\u1eed c\u00e1c commit nh\u01b0 d\u01b0\u1edbi:</li> </ul> <ul> <li>Kh\u00e1 d\u1ec5 d\u00e0ng \u0111\u1ec3 nh\u1eadn ra ch\u00fang ta c\u00f3 3 branch: RED(A,B,C,D,E), BLUE( A,B, F ,G), GREEN(A,B,H,I,J)</li> </ul> <ul> <li>Nh\u00ecn c\u00f3 v\u1ebb nh\u01b0 ch\u00fang ta c\u00f3 th\u1ec3 \u0111\u1ecbnh ngh\u0129a branch: T\u1eadp c\u00e1c commit m\u00e0 branch \u0111\u00f3 ch\u1ee9a (RED: A,B,C,D,E). Tuy nhi\u00ean \u0111\u00f3 ko ph\u1ea3i c\u00e1ch git \u0111ang l\u00e0m. Git s\u1eed d\u1ee5ng m\u1ed9t gi\u1ea3i ph\u00e1p \u0111\u01a1n gi\u1ea3n, hi\u1ec7u qu\u1ea3 h\u01a1n. Thay v\u00ec ph\u1ea3i c\u00f3 danh s\u00e1ch t\u1ea5t c\u1ea3 c\u00e1c commit thu\u1ed9c v\u1ec1 m\u1ed9t branch, v\u00e0 gi\u1eef cho danh s\u00e1ch n\u00e0y \u0111\u01b0\u1ee3c c\u1eadp nh\u1eadt, git \u0111\u01a1n gi\u1ea3n ch\u1ec9 c\u1ea7n \u0111\u1ec3 m\u1eaft t\u1edbi commit cu\u1ed1i c\u00f9ng tr\u00ean branch \u0111\u00f3. Khi bi\u1ebft commit n\u00e0y vi\u1ec7c t\u1ea1o l\u1ea1i danh s\u00e1ch c\u00e1c commit c\u1ee7a branch b\u1eb1ng c\u00e1ch l\u1ea7n theo h\u01b0\u1edbng \u0111\u1ed3 th\u1ecb kh\u00e1 \u0111\u01a1n gi\u1ea3n.</li> <li>Cho v\u00ed d\u1ee5 nh\u01b0 branch BLUE, ch\u00fang ta ch\u1ec9 c\u1ea7n bi\u1ebft commit G cu\u1ed1i c\u00f9ng. V\u00e0 n\u1ebfu ch\u00fang ta c\u1ea7n danh s\u00e1ch commit c\u1ee7a branch BLUE ch\u00fang ta c\u00f3 th\u1ec3 theo h\u01b0\u1edbng \u0111\u1ed3 th\u1ecb b\u1eaft \u0111\u1ea7u t\u1eeb G \u0111\u1ec3 t\u00ecm ra:</li> </ul> <ul> <li>\u0110\u00f3 l\u00e0 c\u00e1ch git qu\u1ea3n l\u00fd c\u00e1c branch b\u1eb1ng c\u00e1ch gi\u1eef con tr\u1ecf t\u1edbi c\u00e1c commit. C\u00f9ng l\u00e0m v\u00ed d\u1ee5 \u0111\u1ec3 hi\u1ec3u r\u00f5 h\u01a1n.</li> </ul>"},{"location":"blog/2019/06/22/understanding-git-branch/#in-action","title":"In action","text":"<ul> <li>\u0110\u1ea7u ti\u00ean ch\u00fang ta kh\u1edfi t\u1ea1o m\u1ed9t repository</li> </ul> <pre><code>  git init\n</code></pre> <ul> <li>C\u00f9ng xem folder <code>.git</code></li> </ul> <pre><code>  $ tree .git\n  .git\n  \u251c\u2500\u2500 branches\n  \u251c\u2500\u2500 config\n  \u251c\u2500\u2500 description\n  \u251c\u2500\u2500 HEAD\n  \u251c\u2500\u2500 hooks\n  \u2502\u00a0\u00a0 \u251c\u2500\u2500 applypatch-msg.sample\n  \u2502\u00a0\u00a0 \u251c\u2500\u2500 commit-msg.sample\n  \u2502\u00a0\u00a0 \u251c\u2500\u2500 fsmonitor-watchman.sample\n  \u2502\u00a0\u00a0 \u251c\u2500\u2500 post-update.sample\n  \u2502\u00a0\u00a0 \u251c\u2500\u2500 pre-applypatch.sample\n  \u2502\u00a0\u00a0 \u251c\u2500\u2500 pre-commit.sample\n  \u2502\u00a0\u00a0 \u251c\u2500\u2500 prepare-commit-msg.sample\n  \u2502\u00a0\u00a0 \u251c\u2500\u2500 pre-push.sample\n  \u2502\u00a0\u00a0 \u251c\u2500\u2500 pre-rebase.sample\n  \u2502\u00a0\u00a0 \u251c\u2500\u2500 pre-receive.sample\n  \u2502\u00a0\u00a0 \u2514\u2500\u2500 update.sample\n  \u251c\u2500\u2500 info\n  \u2502\u00a0\u00a0 \u2514\u2500\u2500 exclude\n  \u251c\u2500\u2500 objects\n  \u2502\u00a0\u00a0 \u251c\u2500\u2500 info\n  \u2502\u00a0\u00a0 \u2514\u2500\u2500 pack\n  \u2514\u2500\u2500 refs\n      \u251c\u2500\u2500 heads\n      \u2514\u2500\u2500 tags\n\n  9 directories, 15 files\n</code></pre> <ul> <li>C\u00f9ng \u0111\u1ec3 \u00fd t\u1edbi folder <code>refs</code>. N\u00f3 vi\u1ebft t\u1eaft c\u1ee7a <code>refernces</code> v\u00e0 \u0111\u00f3 c\u0169ng l\u00e0 n\u01a1i git l\u01b0u tr\u1eef c\u00e1c con tr\u1ecf c\u1ee7a branch.</li> <li>Ch\u00fang ta ch\u01b0a commit g\u00ec c\u1ea3, b\u1edfi v\u1eady <code>refs</code> ch\u1ed1ng r\u1ed7ng, c\u00f9ng thay \u0111\u1ed5i n\u00f3 n\u00e0o, b\u1eb1ng c\u00e1ch t\u1ea1o v\u00e0 commit m\u1ed9t v\u00e0i file.</li> </ul> <pre><code>  $ echo \"Hello World\" &gt; helloEarth.txt\n  $ git add .\n  $ git commit -m \"Hello World Commit\"\n  [master (root-commit) 38de966] Hello World Commit\n  1 file changed, 1 insertion(+)\n  create mode 100644 helloEarth.txt\n\n  $ echo \"Hello Mars\" &gt; helloMars.txt\n  $ git add .\n  $ git commit -m \"Hello Mars Commit\"\n  [master 7ad6ee6] Hello Mars Commit\n  1 file changed, 1 insertion(+)\n  create mode 100644 helloMars.txt\n\n  $ echo \"Hello Saturn\" &gt; helloSaturn.txt\n  $ git add .\n  $ git commit -m \"Hello Saturn Commit\"\n  [master 1c13b07] Hello Saturn Commit\n  1 file changed, 1 insertion(+)\n  create mode 100644 helloSaturn.txt\n</code></pre> <ul> <li>C\u00f9ng ki\u1ec3m tra xem ch\u00fang ta \u0111ang \u1edf \u0111\u00e2u v\u1edbi <code>git branch</code>:</li> </ul> <pre><code>  $ git branch\n  * master\n</code></pre> <ul> <li>\u0110i\u1ec1u n\u00e0y c\u00f3 ngh\u0129a ch\u00fang ta \u0111ang \u1edf nh\u00e1nh master(nguy\u00ean nh\u00e2n do git t\u1ea1o t\u1ef1 \u0111\u1ed9ng d\u1ef1a tr\u00ean l\u1ea7n commit \u0111\u1ea7u ti\u00ean c\u1ee7a ch\u00fang ta).</li> <li>Gi\u1edd h\u00e3y c\u00f9ng ki\u1ec3m tra l\u1ea1i <code>.git/refs</code>:</li> </ul> <pre><code>  \u2514\u2500\u2500 refs\n    \u251c\u2500\u2500 heads\n    \u2502\u00a0\u00a0 \u2514\u2500\u2500 master\n    \u2514\u2500\u2500 tags\n</code></pre> <ul> <li>\u0110\u1ec3 \u00fd <code>master</code> trong folder <code>refs/heads</code> r\u1ea5t gi\u1ed1ng branch ch\u00fang ta :D. C\u00f9ng ki\u1ec3m tra n\u1ed9i dung c\u1ee7a n\u00f3 n\u00e0o:</li> </ul> <pre><code>  $ cat .git/refs/heads/master\n  1c13b0776353a951d3b1a5c74f89c0bee810f2b9\n</code></pre> <ul> <li>V\u00e0 n\u1ebfu ch\u00fang ta check log:</li> </ul> <pre><code>  git log\n</code></pre> <ul> <li>\u0110\u00e2y l\u00e0 ph\u1ea7n \u0111\u1ea7u c\u1ee7a output:</li> </ul> <pre><code>  commit 1c13b0776353a951d3b1a5c74f89c0bee810f2b9 (HEAD -&gt; master)\n  Author: fenixpapu &lt;phucluongngoc@gmail.com&gt;\n  Date:   Sat Jun 22 23:27:15 2019 +0700\n\n      Hello Saturn Commit\n</code></pre> <ul> <li>YEAH! B\u1ea1n th\u1ea5y \u0111\u00f3. M\u1ed9t branch trong git \u0111\u01a1n gi\u1ea3n ch\u1ec9 l\u00e0 m\u1ed9t file ch\u1ee9a checksum c\u1ee7a commit cu\u1ed1i c\u00f9ng tr\u00ean branch \u0111\u00f3. Hay \u0111\u01a1n gi\u1ea3n: m\u1ed9t con tr\u1ecf t\u1edbi m\u1ed9t commit :D.</li> <li>N\u1ebfu ch\u00fang ta t\u1ea1o v\u00e0 checkout ra m\u1ed9t branch m\u1edbi v\u00e0 ki\u1ec3m tra th\u01b0 m\u1ee5c <code>.git/refs</code></li> </ul> <pre><code>  git checkout -b feature\n  Switched to a new branch 'feature'\n  $ tree .git/refs/\n  .git/refs/\n  \u251c\u2500\u2500 heads\n  \u2502\u00a0\u00a0 \u251c\u2500\u2500 feature\n  \u2502\u00a0\u00a0 \u2514\u2500\u2500 master\n  \u2514\u2500\u2500 tags\n\n  2 directories, 2 files\n</code></pre> <ul> <li>Gi\u1edd ch\u00fang ta c\u00f3 th\u00eam <code>feature</code>. V\u00e0 ki\u1ec3m tra checksum(pointer) n\u00e0o:</li> </ul> <pre><code>  $ cat .git/refs/heads/feature\n  1c13b0776353a951d3b1a5c74f89c0bee810f2b9\n</code></pre> <ul> <li>Do ch\u00fang ta kh\u00f4ng c\u00f3 th\u00eam commit n\u00e0o tr\u00ean nh\u00e1nh n\u00e0y n\u00ean c\u1ea3 <code>feature</code> v\u00e0 <code>master</code> \u0111ang tr\u1ecf t\u1edbi c\u00f9ng m\u1ed9t commit.</li> <li> <p>\u0110\u00f3 l\u00e0 c\u00e1ch nhanh g\u1ecdn v\u00e0 hi\u1ec7u qu\u1ea3 m\u00e0 git t\u1ea1o ra m\u1ed9t branch: t\u1ea1o m\u1ed9t text file v\u00e0 c\u1eadp nh\u1eadt v\u00e0o n\u00f3 v\u1edbi checksum c\u1ee7a commit hi\u1ec7n t\u1ea1i.</p> </li> <li> <p>M\u1ed9t c\u00e2u h\u1ecfi \u0111\u1eb7t ra, ch\u00fang ta \u0111ang c\u00f3 2 branch, l\u00e0m th\u1ebf n\u00e0o git bi\u1ebft ch\u00fang ta \u0111ang checked tr\u00ean branch n\u00e0o? C\u00f3 m\u1ed9t con tr\u1ecf \u0111\u1eb7c bi\u1ec7t h\u01a1n m\u1ed9t ch\u00fat <code>HEAD</code>. N\u00f3 \u0111\u1eb7c bi\u1ec7t v\u00ec n\u00f3 th\u01b0\u1eddng kh\u00f4ng tr\u1ecf t\u1edbi m\u1ed9t object commit, nh\u01b0ng tr\u1ecf t\u1edbi <code>ref(branch)</code> v\u00e0 git d\u00f9ng n\u00f3 \u0111\u1ec3 theo d\u00f5i branch n\u00e0o hi\u1ec7n t\u1ea1i \u0111ang \u0111\u01b0\u1ee3c checkout.</p> </li> <li> <p>N\u00f3 \u1edf \u0111\u00e2y n\u00e8:</p> </li> </ul> <pre><code>  $ cat .git/HEAD\n  ref: refs/heads/feature\n</code></pre> <ul> <li>Th\u1eed chuy\u1ec3n branch \u0111\u1ec3 ki\u1ec3m tra l\u1ea1i nh\u00e9:</li> </ul> <pre><code>  $ git checkout master\n  Switched to branch 'master'\n  $ cat .git/HEAD\n  ref: refs/heads/master\n</code></pre> <ul> <li>Nh\u01b0 b\u1ea1n th\u1ea5y \u0111\u00f3 gi\u1edd HEAD chuy\u1ec3n qua master.</li> <li>Ch\u1ec9 \u0111\u01a1n gi\u1ea3n v\u1eady th\u00f4i, nh\u01b0ng l\u1ea1i kh\u00e1 quan tr\u1ecdng cho ch\u00fang ta \u0111\u1ec3 hi\u1ec3u c\u00e1c ho\u1ea1t \u0111\u1ed9ng c\u1ee7a git khi thao t\u00e1c tr\u00ean \u0111\u1ed3 th\u1ecb c\u00e1c branch n\u00e0y (nh\u01b0 merge, rebase, checkout, revert...).</li> </ul>"},{"location":"blog/2019/07/02/js-es6/","title":"JS-ES6","text":""},{"location":"blog/2019/07/02/js-es6/#this","title":"This","text":"<ul> <li> <p>JS l\u00e0 ng\u00f4n ng\u1eef k\u1ecbch b\u1ea3n, tr\u00ecnh th\u00f4ng d\u1ecbch s\u1ebd \u0111\u1ecdc v\u00e0 th\u1ef1c thi code theo t\u1eebng d\u00f2ng. <code>M\u00f4i tr\u01b0\u1eddng (enviroment- scope)</code> t\u1ea1i d\u00f2ng \u0111ang \u0111\u01b0\u1ee3c th\u1ef1c thi \u0111\u01b0\u1ee3c g\u1ecdi l\u00e0 <code>Excution Context</code>. <code>This</code> thay \u0111\u1ed5i m\u1ed7i khi <code>excution context</code> b\u1ecb thay \u0111\u1ed5i. (this in Javascript)</p> </li> <li> <p>M\u1ed9t c\u00e1ch d\u1ec5 h\u00ecnh dung h\u01a1n: gi\u00e1 tr\u1ecb bi\u1ebfn <code>this</code> ph\u1ee5 thu\u1ed9c xem function \u0111\u01b0\u1ee3c th\u1ef1c thi nh\u01b0 th\u1ebf n\u00e0o, \u1edf \u0111\u00e2u v\u00e0 khi n\u00e0o (how - when - where) kh\u00f4ng ph\u1ea3i c\u00e1ch function \u0111\u00f3 \u0111\u01b0\u1ee3c khai b\u00e1o ho\u1eb7c \u0111\u1ecbnh ngh\u0129a.</p> </li> <li> <p>V\u00ed d\u1ee5 <code>this</code> ph\u1ee5 thu\u1ed9c how-when-where function \u0111\u01b0\u1ee3c th\u1ef1c thi.</p> </li> </ul> <pre><code>// Where #######################################################\n\n// in browser\nthis === window; // true\n\n// in Node\nthis === global; // true\n\nvar name = \"Global\";\n\nfunction printName() {\n  console.log(this.name);\n}\n\nconst objA = {\n  name: \"objA\",\n  printName: printName,\n};\n\nconst objB = {\n  name: \"objB\",\n  printName: printName,\n};\nprintName();\nobjA.printName();\nobjB.printName();\n\n// How #######################################################\nobjA.printName.apply(objB);\n\n// When #######################################################\n\nconst objA = {\n  name: \"objA\",\n  printName: function () {\n    console.log(this.name);\n  },\n};\n\nconst objB = {\n  name: \"objB\",\n  printName: objA.printName,\n};\n</code></pre> <ul> <li>KL: <code>this</code> s\u1ebd kh\u00f4ng \u0111\u01b0\u1ee3c g\u00e1n gi\u00e1 tr\u1ecb cho t\u1edbi khi function n\u01a1i <code>this</code> \u0111\u1ecbnh ngh\u0129a <code>this</code> \u0111\u01b0\u1ee3c th\u1ef1c thi.</li> </ul>"},{"location":"blog/2019/07/02/js-es6/#apply-call-bind","title":"Apply - Call - Bind","text":"<ul> <li>V\u1edbi <code>apply</code> - <code>call</code> - <code>bind</code> ch\u00fang ta s\u1ebd ch\u1ec9 r\u00f5 <code>function</code> \u0111ang th\u1ef1c thi tr\u00ean object n\u00e0o?</li> </ul> <pre><code>const person = {\n  printName: function () {\n    console.log(this.name);\n  },\n  printInfo: function (phone, age) {\n    console.log(`name; ${this.name} - phone: ${phone} - age:  ${age}`);\n  },\n};\n\nconst personA = {\n  name: \"AAA\",\n};\nperson.printName.call(personA);\nperson.printName.apply(personA);\nconst bindA = person.printName.bind(personA);\nbindA();\n\nperson.printInfo.call(personA, \"789\", 23);\nperson.printInfo.apply(personA, [\"789\", 23]);\nconst bindA = person.printInfo.bind(personA, \"789\", 23);\nbindA();\n</code></pre>"},{"location":"blog/2019/07/02/js-es6/#closure","title":"Closure","text":"<ul> <li>B\u00e0i to\u00e1n ch\u00fang ta mu\u1ed1n s\u1eed d\u1ee5ng m\u1ed9t bi\u1ebfn \u0111\u1ec3 \u0111\u1ebfm (counting) th\u1ee9 g\u00ec \u0111\u00f3, v\u00e0 counter n\u00e0y ph\u1ea3i c\u00f3 th\u1ec3 truy xu\u1ea5t b\u1edfi t\u1ea5t c\u1ea3 c\u00e1c h\u00e0m.</li> </ul> <pre><code>// Initiate counter\nvar counter = 0;\n\n// Function to increment counter\nfunction add() {\n  counter += 1;\n}\n\n// Call add() 3 times\nadd();\nadd();\nadd();\n\n// The counter should now be 3\n</code></pre> <ul> <li> <p>C\u00f3 1 v\u1ea5n \u0111\u1ec1 v\u1edbi gi\u1ea3i ph\u00e1p tr\u00ean. B\u1ea5t k\u1ef3 \u0111o\u1ea1n code n\u00e0o c\u0169ng c\u00f3 th\u1ec3 thay \u0111\u1ed5i gi\u00e1 tr\u1ecb bi\u1ebfn counter. M\u00e0 kh\u00f4ng c\u1ea7n g\u1ecdi t\u1edbi add();</p> </li> <li> <p>Ch\u00fang ta c\u0169ng kh\u00f4ng th\u1ec3 cho bi\u1ebfn counter v\u00e0o trong add \u0111\u01b0\u1ee3c. B\u1edfi n\u00f3 <code>local</code> v\u00e0 gi\u00e1 tr\u1ecb counter s\u1ebd b\u1ecb reset m\u1ed7i khi add \u0111\u01b0\u1ee3c g\u1ecdi.</p> </li> <li> <p>Inner function(closures) c\u00f3 th\u1ec3 gi\u1ea3i quy\u1ebft b\u00e0i to\u00e1n n\u00e0y.</p> </li> </ul> <pre><code>const myClosure = () =&gt; {\n  let counter = 0;\n  return () =&gt; {\n    counter += 1;\n    return counter;\n  };\n};\nconst add = myClosure();\nadd();\nadd();\nadd();\n\nconst myFirstInner = myClosure();\nconst mySecondInner = myClosure();\n</code></pre> <ul> <li>C\u00f3 th\u1ec3 s\u1eed d\u1ee5ng <code>closure</code> cho nh\u01b0 vi\u1ec7c cung c\u1ea5p private properties c\u1ee7a object.</li> </ul>"},{"location":"blog/2019/07/02/js-es6/#callback","title":"Callback","text":"<ul> <li>Function \u0111\u01b0\u1ee3c truy\u1ec1n v\u00e0o nh\u01b0 tham s\u1ed1 c\u1ee7a function kh\u00e1c: <code>callback function</code></li> </ul> <pre><code>const printContext = (txt) =&gt; {\n  console.log(txt);\n};\nconst sayHello = (mess, cb) =&gt; {\n  cb(mess);\n};\nsayHello(\"Happy Monday!!!!\", printContext);\n</code></pre> <ul> <li> <p>T\u1ea1i sao c\u1ea7n callback:</p> </li> <li> <p>Browser khi request th\u00f4ng tin t\u1eeb server trong th\u1eddi gian ch\u1edd kh\u00f4ng th\u1ec3 \u0111\u1ec3 giao di\u1ec7n b\u1ecb treo t\u1ea1i \u0111\u00f3 \u0111\u01b0\u1ee3c. C\u1ea7n th\u1ef1c hi\u1ec7n vi\u1ec7c kh\u00e1c lu\u00f4n v\u00e0 khi c\u00f3 d\u1eef li\u1ec7u th\u00ec s\u1ebd fill l\u00ean giao di\u1ec7n sau.</p> </li> <li> <p>Ph\u00eda server \u0111\u00e2y l\u00e0 \u0111i\u1ec3m m\u1ea1nh c\u1ee7a Node gi\u00fap Node c\u00f3 th\u1ec3 x\u1eed l\u00fd c\u00f9ng l\u00fac nhi\u1ec1u request t\u1eeb ph\u00eda client ( l\u00fd do d\u00f9ng node).</p> </li> <li> <p>\u0110i\u1ec3m l\u01b0u \u00fd <code>callback</code> callback-hell</p> </li> </ul> <pre><code>const verifyUser = function (username, password, callback) {\n  dataBase.verifyUser(username, password, (error, userInfo) =&gt; {\n    if (error) {\n      callback(error);\n    } else {\n      dataBase.getRoles(username, (error, roles) =&gt; {\n        if (error) {\n          callback(error);\n        } else {\n          dataBase.logAccess(username, (error) =&gt; {\n            if (error) {\n              callback(error);\n            } else {\n              callback(null, userInfo, roles);\n            }\n          });\n        }\n      });\n    }\n  });\n};\n</code></pre> <ul> <li>Remind <code>setTimeOut</code>:</li> </ul> <pre><code>setTimeout(() =&gt; console.log(\"Hi Im setTimeout\"), 5000);\n</code></pre>"},{"location":"blog/2019/07/02/js-es6/#promise","title":"Promise","text":"<ul> <li>Promise \u0111\u01b0\u1ee3c \u0111\u01b0a v\u00e0o JS t\u1eeb ES6 \u0111\u01b0\u1ee3c coi m\u1ed9t k\u1ef9 thu\u1eadt gi\u00fap x\u1eed l\u00fd v\u1ea5n \u0111\u1ec1 b\u1ea5t \u0111\u1ed3ng b\u1ed9 hi\u1ec7u qu\u1ea3 h\u01a1n.</li> </ul> <pre><code>let myPromise = new Promise((resolve, reject) =&gt; {\n  // do something here. Example get data from db;\n  const isSuccess = true;\n  if (isSuccess) return resolve(\"success\");\n  return reject(\"Error\");\n});\nmyPromise\n  .then((data) =&gt; {\n    console.log(\"send to client\");\n  })\n  .catch((err) =&gt; {\n    console.log(\"handled error\", err);\n  });\n\n// Question\nlet myFirstPromise = new Promise((resolve, reject) =&gt; {\n  // do something here success and return;\n  return resolve(`userInfo`);\n});\nlet mySecondPromise = new Promise((resolve, reject) =&gt; {\n  // do something here failed and return;\n  return reject(`ERROR mat roi!`);\n});\n\nmyFirstPromise\n  .then((data) =&gt; {\n    console.log(`myFirstPromise: ${data}`);\n  })\n  .catch((err) =&gt; {\n    console.log(`myFirstPromise error content: ${err}`);\n  });\nmySecondPromise\n  .then((data) =&gt; {\n    console.log(`mySecondPromise: ${data}`);\n  })\n  .catch((err) =&gt; {\n    console.log(`mySecondPromise error content: ${err}`);\n  });\n\nconst delay = (ms) =&gt; {\n  return new Promise((resolve, reject) =&gt; {\n    setTimeout(() =&gt; {\n      return resolve(\"success\");\n    }, ms);\n  });\n};\n</code></pre> <ul> <li>Promise chain vs Promise.all and Promise.race</li> </ul> <pre><code>const myFirstPromise = (data) =&gt; {\n  return new Promise((resolve, reject) =&gt; {\n    console.log(\"Data receive in myFirstPromise: \", data);\n    return resolve(\"1111\");\n  });\n};\n\nconst mySecondPromise = (data) =&gt; {\n  return new Promise((resolve, reject) =&gt; {\n    console.log(\"Data received in mySecondPromise: \", data);\n    return resolve(\"2222\");\n  });\n};\n\nconst myThirdPromise = (data) =&gt; {\n  return new Promise((resolve, reject) =&gt; {\n    console.log(\"Data received in myThirdPromise: \", data);\n    return resolve(\"3333\");\n  });\n};\n\nmyFirstPromise(\"started\")\n  .then((firstData) =&gt; {\n    return mySecondPromise(firstData);\n  })\n  .then((secondData) =&gt; {\n    return myThirdPromise(secondData);\n  })\n  .then((thidData) =&gt; {\n    console.log(`return from myThirdPromise: ${thidData}`);\n  })\n  .catch((err) =&gt; {\n    console.log(\"handled err\");\n  });\n\nPromise.all([myFirstPromise(), mySecondPromise(), myThirdPromise()])\n  .then((data) =&gt; {\n    console.log(data);\n  })\n  .catch((err) =&gt; cosole.log(\"err haneld\"));\n\nPromise.race([myFirstPromise(), mySecondPromise(), myThirdPromise()])\n  .then((data) =&gt; {\n    console.log(data);\n  })\n  .catch((err) =&gt; cosole.log(\"err haneld\"));\n</code></pre> <ul> <li>Promise chain vs Promise.all</li> </ul> <pre><code>const getUserInfo = (ms) =&gt;\n  new Promise((res) =&gt; {\n    setTimeout(() =&gt; res(\"userInfo\"), ms);\n  });\nconst getBalance = (ms) =&gt;\n  new Promise((res) =&gt; {\n    setTimeout(() =&gt; res(\"balance\"), ms);\n  });\nconst getTransaction = (ms) =&gt;\n  new Promise((res) =&gt; {\n    setTimeout(() =&gt; res(\"transaction\"), ms);\n  });\n</code></pre> <pre><code>// Promise chain ~ 10s\nconst start = Date.now();\ngetUserInfo(2000)\n  .then((res) =&gt; {\n    console.log(\"getUserInfo: \", res);\n    return getBalance(3000);\n  })\n  .then((res) =&gt; {\n    console.log(\"getBalance: \", res);\n    return getTransaction(5000);\n  })\n  .then((res) =&gt; {\n    console.log(\"getTransaction: \", res);\n    const end = Date.now();\n    console.log(`Total time: ${end - start}`);\n  })\n  .catch((err) =&gt; {\n    console.log(\"error handled: \", err);\n  });\n</code></pre> <pre><code>// Promise.all ~ 5s\nconst start = Date.now();\nPromise.all([getUserInfo(2000), getBalance(3000), getTransaction(5000)])\n  .then((result) =&gt; {\n    console.log(\"Result: \", result);\n    const end = Date.now();\n    console.log(`Total time: ${end - start}`);\n  })\n  .catch((err) =&gt; {\n    console.log(\"Error handled: \", err);\n  });\n</code></pre> <ul> <li>illustration</li> <li></li> </ul>"},{"location":"blog/2019/07/02/js-es6/#async-await","title":"Async-await","text":"<ul> <li>Async and Await are extensions of promises</li> </ul> <pre><code>const getUserInfo = (ms) =&gt;\n  new Promise((res) =&gt; {\n    setTimeout(() =&gt; res(\"userInfo\"), ms);\n  });\n\nconst report = async () =&gt; {\n  const data = await getUserInfo(2000);\n  console.log(\"send data to client: \", data);\n  // console.log('Do other thing');\n};\nreport();\n</code></pre> <ul> <li>Async/await vs callback</li> </ul> <pre><code>const callBack = (text) =&gt; {\n  console.log(\"send data to client: \", text);\n};\n\nconst getUserInfo = (ms, cb) =&gt; {\n  setTimeout(() =&gt; cb(\"userInfo\"), ms);\n};\n\nconst report = (cb) =&gt; {\n  getUserInfo(2000, cb);\n  // console.log('Do other thing');\n};\nreport(callBack);\n</code></pre> <ul> <li>About <code>await</code> keyword</li> </ul> <pre><code>const delay = (ms) =&gt; {\n  return new Promise((res) =&gt; setTimeout(res, ms));\n};\n\nconst doSomething = async () =&gt; {\n  console.time(\"delay10s\");\n  await delay(2000);\n  await delay(3000);\n  await delay(5000);\n  console.timeEnd(\"delay10s\");\n};\ndoSomething();\n</code></pre> <pre><code>const delay = (ms) =&gt; {\n  return new Promise((res) =&gt; setTimeout(res, ms));\n};\nconst doSomething = async () =&gt; {\n  console.time(\"delay5s\");\n  let getUserInfo = delay(2000);\n  let getBalance = delay(3000);\n  let getTransaction = delay(5000);\n  await getUserInfo;\n  await getBalance;\n  await getTransaction;\n  console.timeEnd(\"delay5s\");\n};\ndoSomething();\n</code></pre>"},{"location":"blog/2019/08/04/react-redux-connect-explained/","title":"React-Redux Connect Explained","text":"<ul> <li> <p>About a year after Redux came out, Dan Abramov wrote a gist entitled connect.js explained</p> </li> <li> <p>Trong qu\u00e1 tr\u00ecnh t\u00ecm hi\u1ec3u: React, Redux, React-Redux, Redux-Saga c\u00f3 r\u1ea5t nhi\u1ec1u ch\u1ed7 m\u00ecnh c\u00f2n ch\u01b0a hi\u1ec3u t\u1ea1i sao. V\u00e0 code d\u01b0\u1edbi \u0111\u00e2y gi\u1ea3i th\u00edch 1 trong c\u00e1c ph\u1ea7n \u0111\u00f3: <code>connect</code> trong Redux.</p> </li> </ul> <pre><code>  // connect() l\u00e0 m\u1ed9t function, `injects` nh\u1eefng th\u1ee9 Redux li\u00ean quan props v\u00e0o trong component c\u1ee7a b\u1ea1n.\n// B\u1ea1n c\u00f3 th\u1ec3  `injects` d\u1eef li\u1ec7u v\u00e0 callbacks nh\u01b0ng thay \u0111\u1ed5i gi\u1eef li\u1ec7u n\u00e0y b\u1eb1ng c\u00e1ch dispatching actions\n\nfunction connect(mapStateToProps, mapDispatchToProps) {\n  //  Function cho ph\u00e9p ch\u00fang ta `inject` component v\u00e0o b\u01b0\u1edbc cu\u1ed1i c\u00f9ng v\u00ec v\u1eady m\u1ecdi ng\u01b0\u1eddi c\u00f3 th\u1ec3 d\u00f9ng n\u00f3 nh\u01b0 m\u1ed9t v\u1eadt trang tr\u00ed(kh\u00f4ng hi\u1ec3u \u00fd t\u00e1c gi\u1ea3 l\u1eafm :v)\n  // Th\u00f4ng th\u01b0\u1eddng th\u00ec ch\u00fang ta kh\u00f4ng c\u1ea7n b\u1eadn t\u00e2m v\u1ec1 n\u00f3\n  return function (WrappedComponent) {\n    // Return m\u1ed9t component\n    return class extends React.Component {\n      render() {\n        return (\n          // c\u00e1i n\u00e0y Render component c\u1ee7a b\u1ea1n\n          &lt;WrappedComponent\n            {/** v\u1edbi props c\u1ee7a component */}\n            {...this.props}\n            {/** v\u00e0 th\u00eam props \u0111\u01b0\u1ee3c t\u00ednh t\u1eeb Redux store */}\n            {...mapStateToProps(store.getState(), this.props)}\n            {...mapDispatchToProps(store.dispatch, this.props)}\n          /&gt;\n        )\n      }\n\n      componentDidMount() {\n        // connect s\u1ebd subscribe \u0111\u1ebfn store \u0111\u1ec3 ko b\u1ecb thi\u1ebfu vi\u1ec7c updates\n        this.unsubscribe = store.subscribe(this.handleChange.bind(this))\n      }\n\n      componentWillUnmout() {\n        // v\u00e0 unsubscribe sau \u0111\u00f3\n        this.unsubscribe()\n      }\n\n      handleChange() {\n        // v\u00e0 b\u1ea5t c\u1ee9 khi n\u00e0o store state thay \u0111\u1ed5i. it s\u1ebd render l\u1ea1i.\n        this.forceUpdate()\n      }\n    }\n  }\n}\n\n// \u0110\u00e2y kh\u00f4ng ph\u1ea3i l\u00e0 code implement th\u1ef1c t\u1ebf nh\u01b0ng theo \u00fd t\u01b0\u1edfng nh\u01b0 n\u00e0y.\n// B\u1ecf qua c\u00e2u h\u1ecfi: \"Ch\u00fang ta l\u1ea5y store t\u1eeb \u0111\u00e2u\" (answer: &lt;Provider&gt; \u0111\u01b0a n\u00f3 v\u00e0o trong React context)\n// v\u00e0 b\u1ecf qua v\u1ec1 t\u1ed1i \u01b0u hi\u1ec7u n\u0103ng ( connect() trong th\u1ef1c t\u1ebf \u0111\u1ea3m b\u1ea3m kh\u00f4ng render l\u1ea1i m\u1ed9t c\u00e1ch v\u00f4 \u00edch)\n\n// M\u1ee5c \u0111\u00edch c\u1ee7a connect() l\u00e0 b\u1ea1n kh\u00f4ng c\u1ea7n ph\u1ea3i suy ngh\u0129 v\u1ec1 subscribing t\u1edbi `store` ho\u1eb7c t\u1ef1 t\u1ed1i \u01b0u h\u00f3a,\n// v\u00e0 thay v\u00ec \u0111\u00f3 b\u1ea1n ch\u1ec9 \u0111\u1ecbnh c\u00e1ch l\u1ea5y props d\u1ef1a tr\u00ean state c\u1ee7a Redux store.\n\n\nconst ConnectedCounter = connect(\n  // \u0110\u01b0a v\u00e0o Redux state, tr\u1ea3 l\u1ea1i props\n  state =&gt; ({\n    value: state.counter,\n  }),\n  // \u0110\u01b0a v\u00e0o Redux dispatch, tr\u1ea3 l\u1ea1i callback props\n  dispatch =&gt; ({\n    onIncrement() {\n      dispatch({ type: 'INCREMENT' })\n    }\n  })\n)(Counter);\n</code></pre>"},{"location":"blog/2019/09/21/understanding-react-component-life-cycle/","title":"Understanding react component life cycle","text":""},{"location":"blog/2019/09/21/understanding-react-component-life-cycle/#introduction","title":"Introduction","text":"<ul> <li> <p>React cung c\u1ea5p c\u00e1c developers r\u1ea5t nhi\u1ec1u c\u00e1c <code>method</code> ho\u1eb7c <code>hooks</code> \u0111\u01b0\u1ee3c th\u1ef1c thi trong su\u1ed1t <code>life-cycle</code> c\u1ee7a m\u1ed9t component, c\u00e1c ph\u01b0\u01a1ng th\u1ee9c n\u00e0y s\u1ebd c\u1eadp nh\u1eadt UI c\u0169ng nh\u01b0 state c\u1ee7a \u1ee9ng d\u1ee5ng. Hi\u1ec3u c\u00e1ch c\u00e1c life-cycle n\u00e0y ho\u1ea1t \u0111\u1ed9ng s\u1ebd gi\u00fap ch\u00fang ta l\u00e0m vi\u1ec7c v\u1edbi React m\u1ed9t c\u00e1ch nh\u1eb9 nh\u00e0ng h\u01a1n.</p> </li> <li> <p>React li\u00ean t\u1ee5c c\u1eadp nh\u1eadt v\u00e0 <code>kh\u00f4ng d\u00f9ng - deprecated</code> m\u1ed9t v\u00e0i life-cycle \u0111\u00e3 gi\u1edbi thi\u1ec7u tr\u01b0\u1edbc \u0111\u00f3. Nh\u01b0ng trong b\u00e0i n\u00e0y v\u1eabn li\u1ec7t k\u00ea. ( c\u00f3 th\u1ec3 do code c\u0169 c\u1ee7a d\u1eef \u00e1n \u0111\u00e3 d\u00f9ng - vi\u1ec7c hi\u1ec3u ch\u00fang c\u0169ng c\u00f3 l\u1ee3i).</p> </li> </ul>"},{"location":"blog/2019/09/21/understanding-react-component-life-cycle/#life-cycle","title":"Life-cycle","text":""},{"location":"blog/2019/09/21/understanding-react-component-life-cycle/#constructor","title":"constructor","text":"<ul> <li> <p>N\u1ebfu kh\u00f4ng d\u00f9ng t\u1edbi <code>state</code> v\u00e0 kh\u00f4ng truy\u1ec1n ph\u01b0\u01a1ng th\u1ee9c, ch\u00fang ta kh\u00f4ng c\u1ea7n g\u1ecdi h\u00e0m n\u00e0y cho component.</p> </li> <li> <p>Trong <code>constructor</code> ch\u00fang ta n\u00ean g\u1ecdi <code>super(props)</code> tr\u01b0\u1edbc b\u1ea5t k\u1ef3 c\u00e2u l\u1ec7nh n\u00e0o. N\u1ebfu kh\u00f4ng <code>this.props</code> s\u1ebd <code>undifined</code>, \u0111i\u1ec1u n\u00e0y c\u00f3 th\u1ec3 t\u1ea1o ra bugs.</p> </li> <li> <p>DO</p> </li> <li> <p>Kh\u1edfi t\u1ea1o gi\u00e1 tr\u1ecb initial state (n\u1ebfu b\u1ea1n d\u00f9ng local state). \u0110\u00e2y c\u0169ng l\u00e0 n\u01a1i duy nh\u1ea5t g\u00e1n <code>this.state</code>. T\u1ea1i c\u00e1c v\u1ecb tr\u00ed c\u00f2n l\u1ea1i h\u00e3y s\u1eed d\u1ee5ng <code>this.setState</code>.</p> </li> <li> <p>DON'T</p> </li> <li> <p>Kh\u00f4ng th\u1ef1c hi\u1ec7n b\u1ea5t k\u1ef3 <code>side effects</code> n\u00e0o t\u1ea1i \u0111\u00e2y (AJAX calls etc.).</p> </li> </ul>"},{"location":"blog/2019/09/21/understanding-react-component-life-cycle/#componentwillmount-deprecated","title":"componentWillMount - deprecated","text":"<ul> <li> <p><code>componentWillMount</code> kh\u00f4ng kh\u00e1c nhi\u1ec1u l\u1eafm so v\u1edbi <code>constructor</code> - n\u00f3 c\u0169ng \u0111\u01b0\u1ee3c g\u1ecdi ch\u1ec9 1 l\u1ea7n khi component \u0111\u01b0\u1ee3c mount. Do v\u1eady n\u00f3 \u0111\u01b0\u1ee3c coi <code>deprecated</code>. H\u00e0m n\u00e0y c\u00f2n \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng t\u1edbi version 17.</p> </li> <li> <p><code>setState</code> \u0111\u01b0\u1ee3c g\u1ecdi trong function n\u00e0y s\u1ebd kh\u00f4ng <code>trigger</code> component <code>re-render</code>.</p> </li> <li> <p>DO</p> </li> <li> <p>C\u1eadp nh\u1eadt <code>state</code> b\u1eb1ng <code>this.setState</code>.</p> </li> <li> <p>C\u00f3 th\u1ec3 s\u1eed d\u1ee5ng side-effects ( AJAX call \u1edf \u0111\u00e2y) ch\u1ec9 v\u1edbi tr\u01b0\u1eddng h\u1ee3p server-side-rendering</p> </li> <li> <p>DON'T</p> </li> <li> <p>Kh\u00f4ng t\u1ea1o ra side-effects ( call AJAX ) n\u1ebfu ph\u00eda client.</p> </li> </ul>"},{"location":"blog/2019/09/21/understanding-react-component-life-cycle/#componentwillreceivepropsnextprops","title":"componentWillReceiveProps(nextProps)","text":"<ul> <li> <p>Function n\u00e0y s\u1ebd \u0111\u01b0\u1ee3c g\u1ecdi m\u1ed7i khi props c\u00f3 s\u1ef1 thay \u0111\u1ed5i( kh\u00f4ng ph\u00e2n bi\u1ec7t gi\u00e1 tr\u1ecb c\u1ee7a props c\u00f3 thay \u0111\u1ed5i hay kh\u00f4ng).</p> </li> <li> <p>Nh\u1edb r\u1eb1ng function n\u00e0y \u0111\u01b0\u1ee3c g\u1ecdi v\u1edbi t\u1ea5t c\u1ea3 props do \u0111\u00f3 developer c\u1ea7n check xem c\u00f3 th\u1ef1c s\u1ef1 thay \u0111\u1ed5i hay kh\u00f4ng v\u00ed d\u1ee5:</p> </li> </ul> <pre><code>  componentWillReceiveProps(nextProps) {\n    if(nextProps.myProp !== this.props.myProps) {\n      // nextProps.myProp has a different value than our current prop\n      // so we can perform some calculations based on the new value\n    }\n  }\n</code></pre> <ul> <li> <p>DO</p> </li> <li> <p>\u0110\u1ed3ng b\u1ed9 state v\u1edbi props</p> </li> <li> <p>DON'T</p> </li> <li> <p>Th\u1ef1c hi\u1ec7n call API \u1edf \u0111\u00e2y.</p> </li> </ul>"},{"location":"blog/2019/09/21/understanding-react-component-life-cycle/#shouldcomponentupdatenextprops-nextstate-nextcontext","title":"shouldComponentUpdate(nextProps, nextState, nextContext)","text":"<ul> <li> <p>Theo m\u1eb7c \u0111\u1ecbnh c\u00e1c class component s\u1ebd t\u1ef1 render l\u1ea1i m\u1ed7i khi prop, state, ho\u1eb7c context c\u1ee7a ch\u00fang b\u1ecb thay \u0111\u1ed5i. N\u1ebfu th\u1ef1c hi\u1ec7n th\u01b0\u1eddng xuy\u00ean vi\u1ec7c n\u00e0y s\u1ebd \u1ea3nh h\u01b0\u1edfng t\u1edbi hi\u1ec7u n\u0103ng.</p> </li> <li> <p><code>shouldComponentUpdate</code> s\u1eed d\u1ee5ng m\u1ed9t trong props, state ho\u1eb7c context \u0111\u1ec3 x\u00e1c \u0111\u1ecbnh component c\u00f3 n\u00ean render l\u1ea1i hay kh\u00f4ng d\u1ef1a v\u00e0o gi\u00e1 tr\u1ecb return c\u1ee7a function n\u00e0y.</p> </li> <li> <p>B\u1ea1n c\u00f3 th\u1ec3 n\u00ean xem x\u00e9t s\u1eed d\u1ee5ng: <code>PureComponent</code> h\u01a1n <code>shouldComponentUpdate</code> n\u1ebfu mu\u1ed1n t\u0103ng hi\u1ec7u n\u0103ng c\u1ee7a vi\u1ec7c render.</p> </li> <li> <p>DO</p> </li> <li> <p>S\u1eed d\u1ee5ng t\u0103ng hi\u1ec7u n\u0103ng ( h\u1ea1n ch\u1ebf vi\u1ec7c render li\u00ean t\u1ee5c).</p> </li> <li> <p>DON'T</p> </li> <li> <p>call API ( side effect).</p> </li> <li>s\u1eed d\u1ee5ng <code>this.setState</code> vi\u1ec7c n\u00e0y c\u00f3 th\u1ec3 t\u1ea1o n\u00ean l\u1eb7p v\u00f4 t\u1eadn.</li> </ul>"},{"location":"blog/2019/09/21/understanding-react-component-life-cycle/#componentwillupdate-nextprops-nextstate-deprecated","title":"componentWillUpdate (nextProps, nextState) - deprecated","text":"<ul> <li> <p>N\u1ebfu <code>shouldComponentUpdate</code> kh\u00f4ng \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng, ho\u1eb7c n\u00f3 x\u00e1c \u0111\u1ecbnh componnent n\u00ean update, c\u00e1c function life-cycle kh\u00e1c s\u1ebd \u0111\u01b0\u1ee3c g\u1ecdi. <code>componentWillUpdate</code> th\u01b0\u1eddng \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng \u0111\u1ed3ng b\u1ed9 gi\u1eefa <code>state</code> v\u00e0 <code>props</code> khi m\u1ed9t ph\u1ea7n <code>state</code> c\u1ee7a b\u1ea1n d\u1ef1a tr\u00ean <code>props</code>.</p> </li> <li> <p>V\u1edbi tr\u01b0\u1eddng h\u1ee3p <code>shouldComponentUpdate</code> \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng, function n\u00e0y c\u00f3 th\u1ec3 s\u1eed d\u1ee5ng thay cho <code>componentWillReceiveProps</code> v\u00e0 ch\u1ec9 \u0111\u01b0\u1ee3c g\u1ecdi khi component th\u1ef1c s\u1ef1 re-render.</p> </li> <li> <p>T\u01b0\u01a1ng t\u1ef1 nh\u01b0 t\u1ea5t c\u1ea3 c\u00e1c h\u00e0m <code>componentWill*</code>, h\u00e0m n\u00e0y c\u00f3 th\u1ec3 b\u1ecb g\u1ecdi nhi\u1ec1u l\u1ea7n tr\u01b0\u1edbc khi <code>render</code> v\u00ec v\u1eady kh\u00f4ng n\u00ean th\u1ef1c hi\u1ec7n side-effect trong \u0111\u00e2y.</p> </li> <li> <p>DO</p> </li> <li> <p>\u0110\u1ed3ng b\u1ed9 state v\u00e0 props</p> </li> <li> <p>DON'T</p> </li> <li> <p>call API ( cause side effect).</p> </li> </ul>"},{"location":"blog/2019/09/21/understanding-react-component-life-cycle/#componentdidupdate-prevprops-prevstate-prevcontext","title":"componentDidUpdate (prevProps, prevState, prevContext)","text":"<ul> <li> <p>H\u00e0m n\u00e0y \u0111\u01b0\u1ee3c g\u1ecdi ngay sau khi vi\u1ec7c c\u1eadp nh\u1eadt x\u1ea3y ra. N\u00f3 kh\u00f4ng \u0111\u01b0\u1ee3c g\u1ecdi cho l\u1ea7n \u0111\u1ea7u ti\u00ean render.</p> </li> <li> <p>H\u00e0m n\u00e0y \u0111\u01b0\u1ee3c g\u1ecdi m\u1ed9t l\u1ea7n trong m\u1ed7i l\u1ea7n <code>re-render</code>, \u0111\u00e2y ch\u00ednh n\u01a1i th\u1ef1c hi\u1ec7n c\u00e1c l\u1eddi g\u1ecdi API ( ho\u1eb7c side effects).</p> </li> <li> <p>H\u00e0m n\u00e0y nh\u1eadn v\u00e0o ba tham s\u1ed1 (prevProps, prevState, prevContext) cho ph\u00e9p ch\u00fang ta t\u1ef1 ki\u1ec3m tra c\u00e1c gi\u00e1 tr\u1ecb b\u1ecb thay \u0111\u1ed5i v\u00e0 ch\u1ec9 th\u1ef1c hi\u1ec7n m\u1ed9t s\u1ed1 c\u1eadp nh\u1eadt nh\u1ea5t \u0111\u1ecbnh t\u00f9y \u00fd:</p> </li> </ul> <pre><code>componentDidUpdate(prevProps) {\n  if(prevProps.myProps !== this.props.myProp) {\n    // this.props.myProp has a different value\n    // we can perform any operations that would\n    // need the new value and/or cause side-effects\n    // like AJAX calls with the new value - this.props.myProp\n  }\n}\n</code></pre> <ul> <li> <p><code>componentDidUpdate()</code> s\u1ebd kh\u00f4ng \u0111\u01b0\u1ee3c g\u1ecdi n\u1ebfu <code>shouldComponentUpdate()</code> return false</p> </li> <li> <p>DO</p> </li> <li> <p>Th\u1ef1c hi\u1ec7n g\u1ecdi API ho\u1eb7c c\u00e1c side-effects</p> </li> <li> <p>DON'T</p> </li> <li> <p>G\u1ecdi <code>this.setState</code> n\u00f3 s\u1ebd l\u00e0m componnent re-render l\u1ea1i.</p> </li> </ul>"},{"location":"blog/2019/09/21/understanding-react-component-life-cycle/#componentdidmount","title":"componentDidMount","text":"<ul> <li>H\u00e0m n\u00e0y \u0111\u01b0\u1ee3c g\u1ecdi ch\u1ec9 m\u1ed9t l\u1ea7n trong su\u1ed1t life-cycle c\u1ee7a component.</li> <li> <p>Do n\u00f3 ch\u1ec9 \u0111\u01b0\u1ee3c g\u1ecdi duy nh\u1ea5t m\u1ed9t l\u1ea7n n\u00ean \u0111\u00e2y l\u00e0 n\u01a1i ho\u00e0n h\u1ea3o \u0111\u1ec3 th\u1ef1c hi\u1ec7n call API, hay side-effects.</p> </li> <li> <p>DO</p> </li> <li> <p>call API, side effects.</p> </li> <li> <p>DON'T</p> </li> <li> <p>g\u1ecdi <code>this.setState</code> n\u00f3 l\u00e0m component re-render.</p> </li> </ul>"},{"location":"blog/2019/09/21/understanding-react-component-life-cycle/#componentwillunmount","title":"componentWillUnmount","text":"<ul> <li> <p>H\u00e0m n\u00e0y \u0111\u01b0\u1ee3c g\u1ecdi ngay tr\u01b0\u1edbc khi component \u0111\u01b0\u1ee3c g\u1ee1 v\u00e0 h\u1ee7y kh\u1ecfi DOM. Gi\u00fap d\u1ecdn d\u1eb9p ( v\u00ed d\u1ee5 clear setTimout, setInterval), close / remove c\u00e1c sockets khi kh\u00f4ng c\u00f2n s\u1eed d\u1ee5ng n\u1eefa.</p> </li> <li> <p>DO</p> </li> <li> <p>x\u00f3a c\u00e1c timers v\u00e0 listeners \u0111\u01b0\u1ee3c t\u1ea1o trong life-cycle c\u1ee7a component.</p> </li> <li> <p>DON'T</p> </li> <li> <p>g\u1ecdi <code>this.setState</code> n\u00f3 s\u1ebd kh\u1edfi t\u1ea1o m\u1edbi m\u1ed9t listenner ho\u1eb7c timers.</p> </li> </ul>"},{"location":"blog/2019/09/21/understanding-react-component-life-cycle/#component-cycles","title":"Component cycles","text":"<ul> <li>C\u00f3 r\u1ea5t nhi\u1ec1u l\u00fd do \u0111\u1ec3 c\u00e1c component c\u00f3 th\u1ec3 re-render, v\u1edbi m\u1ed7i c\u00e1c l\u00fd do \u0111\u00f3 , c\u00e1c function kh\u00e1c nhau c\u00f3 th\u1ec3 \u0111\u01b0\u1ee3c g\u1ecdi, cho ph\u00e9p ch\u00fang ta c\u1eadp nh\u1eadt m\u1ed9t ph\u1ea7n c\u1ee7a Component.</li> </ul>"},{"location":"blog/2019/10/20/webpack-getting-stared/","title":"Webpack getting stared","text":""},{"location":"blog/2019/10/20/webpack-getting-stared/#introduction","title":"Introduction","text":"<ul> <li>Hi guys! v\u1edbi m\u1ee5c \u0111\u00edch c\u00e1 nh\u00e2n: t\u00ecm hi\u1ec3u webpack l\u00e0 g\u00ec? B\u01b0\u1edbc \u0111\u1ea7u c\u1ea5u h\u00ecnh webpack nh\u01b0 th\u1ebf n\u00e0o? B\u00e0i vi\u1ebft n\u00e0y s\u1ebd tr\u00ecnh b\u00e0y c\u00e1c b\u01b0\u1edbc c\u01a1 b\u1ea3n \u0111\u1ec3 c\u00e1u h\u00ecnh m\u1ed9t webpack v\u00e0 c\u00e1c kh\u00e1i ni\u1ec7m c\u1ea7n bi\u1ebft c\u1ee7a webpack.</li> </ul>"},{"location":"blog/2019/10/20/webpack-getting-stared/#before-we-start","title":"Before we start","text":"<ul> <li> <p>\u01a0 nh\u01b0ng t\u1ea1i sao c\u1ea7n d\u00f9ng webpack? v\u00e0 n\u00f3 l\u00e0 g\u00ec?</p> </li> <li> <p>N\u1ebfu kh\u00f4ng s\u1eed d\u1ee5ng webpack. Khi vi\u1ebft code ph\u00eda <code>client-side</code>, gi\u1ea3 s\u1eed ch\u00fang ta c\u00f3 r\u1ea5t nhi\u1ec1u file, module c\u1ea7n import, t\u01b0\u01a1ng \u1ee9ng v\u1edbi m\u1ed7i file browser s\u1ebd c\u1ea7n t\u1ea3i v\u1ec1, \u0111i\u1ec1u n\u00e0y l\u00e0m gi\u1ea3m hi\u1ec7u n\u0103ng c\u0169ng nh\u01b0 tr\u1ea3i nghi\u1ec7m ph\u00eda ng\u01b0\u1eddi d\u00f9ng (t\u1ed1n t\u00e0i nguy\u00ean m\u1ea1ng, b\u1ed9 x\u1eed l\u00fd). Khi s\u1eed d\u1ee5ng webpack c\u00e1c g\u00f3i ph\u1ee5 thu\u1ed9c s\u1ebd \u0111\u01b0\u1ee3c gom l\u1ea1i th\u00e0nh 1 file duy nh\u1ea5t v\u00e0 client ch\u1ec9 c\u1ea7n t\u1ea3i 1 l\u1ea7n.</p> </li> </ul>"},{"location":"blog/2019/10/20/webpack-getting-stared/#goal","title":"Goal","text":"<ul> <li> <p>Trong b\u00e0i n\u00e0y m\u00ecnh s\u1ebd s\u1eed d\u1ee5ng webpack gom (<code>bundle</code>) c\u00e1c file: Javascript, styles(may-be), images, v\u00e0 fonts(may-be) v\u00e0o trong th\u01b0 m\u1ee5c <code>dist</code>.</p> </li> <li> <p>C\u00f9ng b\u1eaft \u0111\u1ea7u: Kh\u1edfi t\u1ea1o folder <code>webpack-demo</code> b\u00ean trong khai b\u00e1o 2 folder <code>dist</code> v\u00e0 <code>src</code> v\u00e0 c\u00e1c th\u01b0 m\u1ee5c con nh\u01b0 b\u00ean d\u01b0\u1edbi.</p> </li> </ul> <pre><code>\u251c\u2500\u2500 dist\n\u2514\u2500\u2500 src\n    \u251c\u2500\u2500 fonts\n    \u251c\u2500\u2500 images\n    \u251c\u2500\u2500 javascript\n    \u2514\u2500\u2500 sass\n</code></pre> <ul> <li>Webpack s\u1ebd t\u1ea1o ra 1 file Javascript v\u00e0 1 file CSS \u0111\u00e3 \u0111\u01b0\u1ee3c <code>bundle</code>. Ch\u00fang ta c\u00f3 th\u1ec3 \u0111\u01a1n gi\u1ea3n th\u00eam file \u0111\u00f3 v\u00e0o trong HTML file.</li> </ul>"},{"location":"blog/2019/10/20/webpack-getting-stared/#get-started","title":"Get started","text":""},{"location":"blog/2019/10/20/webpack-getting-stared/#install-webpack","title":"Install webpack","text":"<ul> <li>S\u1eed d\u1ee5ng npm: <code>npm init -y</code> \u0111\u1ec3 kh\u1edfi t\u1ea1o project v\u00e0 <code>package.json</code> file, c\u00e1c g\u00f3i ph\u1ee5 thu\u1ed9c c\u1ee7a JS s\u1ebd \u0111\u01b0\u1ee3c khai b\u00e1o trong file n\u00e0y. Sau \u0111\u00f3 ch\u00fang ta c\u00e0i \u0111\u1eb7t webpack v\u1edbi l\u1ec7nh: <code>npm i --save-dev webpack webpack-cli</code>. Sau 2 l\u1ec7nh n\u00e0y ch\u00fang ta c\u00f3 th\u01b0 m\u1ee5c nh\u01b0 d\u01b0\u1edbi(c\u00e1c l\u1ea7n sau m\u00ecnh s\u1ebd remove b\u1ecf <code>node_modules</code> trong c\u00e2y th\u01b0 m\u1ee5c):</li> </ul> <pre><code>\u251c\u2500\u2500 dist\n\u251c\u2500\u2500 node_modules\n\u251c\u2500\u2500 package.json\n\u251c\u2500\u2500 package-lock.json\n\u2514\u2500\u2500 src\n    \u251c\u2500\u2500 fonts\n    \u251c\u2500\u2500 images\n    \u251c\u2500\u2500 javascript\n    \u2514\u2500\u2500 sass\n</code></pre>"},{"location":"blog/2019/10/20/webpack-getting-stared/#create-entry-point-file","title":"Create entry point file","text":"<ul> <li>Webpack b\u1eaft \u0111\u1ea7u c\u00f4ng vi\u1ec7c c\u1ee7a m\u00ecnh t\u1eeb m\u1ed9t file Javascript \u0111\u01b0\u1ee3c g\u1ecdi l\u00e0 <code>entry point</code>. T\u1eeb \u0111\u00e2y n\u00f3 s\u1ebd t\u00ecm ra t\u1ea5t c\u00e1c c\u1ea3 g\u00f3i ph\u1ee5 thu\u1ed9c m\u00e0 ch\u01b0\u01a1ng tr\u00ecnh c\u1ea7n. Ch\u00fang ta t\u1ea1o m\u1ed9t file <code>index.js</code> trong th\u01b0 m\u1ee5c Javascript l\u00e0m entry point. Vi\u1ebft m\u1ed9t \u0111o\u1ea1n code n\u00e0o \u0111\u00f3 trong file n\u00e0y:</li> </ul> index.js<pre><code>console.log(`webpack is awesome!`);\n</code></pre> <pre><code>\u251c\u2500\u2500 dist\n\u251c\u2500\u2500 package.json\n\u251c\u2500\u2500 package-lock.json\n\u2514\u2500\u2500 src\n    \u251c\u2500\u2500 fonts\n    \u251c\u2500\u2500 images\n    \u251c\u2500\u2500 javascript\n    \u2502   \u2514\u2500\u2500 index.js\n    \u2514\u2500\u2500 sass\n</code></pre>"},{"location":"blog/2019/10/20/webpack-getting-stared/#create-webpackconfigjs","title":"Create webpack.config.js","text":"<ul> <li> <p>\u1ede th\u1eddi \u0111i\u1ec3m hi\u1ec7n t\u1ea1i webpack c\u00f3 th\u1ec3 ch\u1ea1y m\u00e0 kh\u00f4ng c\u1ea7n c\u1ea5u h\u00ecnh( n\u00f3 c\u00f3 c\u1ea5u h\u00ecnh m\u1eb7c \u0111\u1ecbnh), tuy nhi\u00ean \u0111\u1ec3 t\u1eadn d\u1ee5ng \u0111\u01b0\u1ee3c c\u00e1c t\u00ednh n\u0103ng, c\u0169ng nh\u01b0 s\u1ef1 linh ho\u1ea1t c\u1ee7a m\u1ed7i project. File c\u1ea5u h\u00ecnh s\u1ebd gi\u00fap webpack t\u01b0\u01a1ng th\u00edch t\u1ed1t nh\u1ea5t v\u1edbi d\u1ef1 \u00e1n c\u1ee7a ch\u00fang ta.</p> </li> <li> <p>\u0110\u00e2y l\u00e0 m\u1ed9t v\u00ed d\u1ee5 v\u1ec1 b\u01b0\u1edbc \u0111\u1ea7u c\u1ea5u h\u00ecnh webpack:</p> </li> </ul> webpack.config.js<pre><code>// Webpack s\u1eed d\u1ee5ng path \u0111\u1ec3 l\u00e0m vi\u1ec7c v\u1edbi th\u01b0 m\u1ee5c\nconst path = require(\"path\");\n\n// D\u01b0\u1edbi \u0111\u00e2y s\u1ebd ch\u1ee9a ph\u1ea7n c\u1ea5u h\u00ecnh ch\u00ednh c\u1ee7a webpack\n// B\u1ea1n s\u1ebd vi\u1ebft c\u00e1c c\u1ea5u h\u00ecnh kh\u00e1c nhau d\u1ef1a theo m\u1ed7i d\u1ef1 \u00e1n v\u00e0 ch\u1ec9 r\u00f5 cho webpack bi\u1ebft // n\u00f3 ph\u1ea3i l\u00e0m g\u00ec\nmodule.exports = {\n  // \u0110\u01b0\u1eddng d\u1eabn t\u1edbi th\u01b0 m\u1ee5c `entry point`. `Webpack` s\u1ebd b\u1eaft \u0111\u1ea7u c\u00f4ng vi\u1ec7c c\u1ee7a m\u00ecnh //// t\u1eeb \u0111\u00e2y\n  entry: \"./src/javascript/index.js\",\n\n  // \u0110\u01b0\u1eddng d\u1eabn v\u00e0 t\u00ean file sau khi \u0111\u00e3 \u0111\u01b0\u1ee3c `bundle`\n  // Webpack s\u1ebd bundle t\u1ea5t c\u1ea3 JS v\u00e0o trong file n\u00e0y.\n  output: {\n    path: path.resolve(__dirname, \"dist\"),\n    filename: \"bundle.js\",\n  },\n\n  // M\u1eb7c \u0111\u1ecbnh webpack l\u00e0 mode production.\n  // T\u00f9y thu\u1ed9c v\u00e0o mode m\u00e0 webpack s\u1ebd bundle ra c\u00e1c file kh\u00e1c nhau:\n  // Th\u01b0\u1eddng th\u00ec v\u1edbi mode production ch\u00fang ta s\u1ebd c\u1ea5u h\u00ecnh \u0111\u1ec3 bundle ra file c\u00f3 dung /// l\u01b0\u1ee3ng nh\u1ecf nh\u1ea5t. Trong khi \u0111\u00f3 mode development ch\u00fang ta mu\u1ed1n xem log \u0111\u1ec3 debug.\n  mode: \"development\",\n};\n</code></pre> <pre><code>\u251c\u2500\u2500 dist\n\u251c\u2500\u2500 package.json\n\u251c\u2500\u2500 package-lock.json\n\u251c\u2500\u2500 src\n\u2514\u2500\u2500 webpack.config.js\n</code></pre>"},{"location":"blog/2019/10/20/webpack-getting-stared/#add-npm-script-in-packagejson-to-run-webpack","title":"Add npm script in <code>package.json</code> to run Webpack","text":"<ul> <li>\u0110\u1ec3 ch\u1ea1y \u0111\u01b0\u1ee3c webpack ch\u00fang ta c\u1ea7n c\u00f3 script cho npm v\u1edbi c\u00e2u l\u1ec7nh \u0111\u01a1n gi\u1ea3n <code>webpack</code> v\u00e0 \u0111\u01b0\u1ee3c c\u1ea5u h\u00ecnh:</li> </ul> package.json<pre><code>\"scripts\": {\n    \"test\": \"echo \\\"Error: no test specified\\\" &amp;&amp; exit 1\",\n    \"build\": \"webpack --config webpack.config.js\"\n  },\n</code></pre>"},{"location":"blog/2019/10/20/webpack-getting-stared/#run-webpack","title":"Run Webpack","text":"<ul> <li>V\u1edbi c\u1ea5u h\u00ecnh c\u01a1 b\u1ea3n nh\u01b0 tr\u00ean ch\u00fang ta c\u00f3 th\u1ec3 ch\u1ea1y webpack: <code>npm run build</code>. Webpack s\u1ebd t\u00ecm ki\u1ebfm trong entry file, v\u00e0 t\u00ecm ra t\u1ea5t c\u1ea3 c\u00e1c g\u00f3i ph\u1ee5 thu\u1ed9c \u0111\u01b0\u1ee3c import b\u00ean trong \u0111\u00f3 v\u00e0 <code>bundle</code> ch\u00fang v\u00e0o 1 file <code>.js</code> trong th\u01b0 m\u1ee5c <code>dist</code>. M\u00e0n h\u00ecnh sau khi ch\u1ea1y l\u1ec7nh build nh\u01b0 th\u1ebf n\u00e0y:</li> </ul> <pre><code>&gt; webpack --config webpack.config.js\n\nHash: ce0af5daa3e00f4bfac5\nVersion: webpack 4.41.2\nTime: 78ms\nBuilt at: 10/20/2019 4:08:06 PM\n    Asset      Size  Chunks             Chunk Names\nbundle.js  3.87 KiB    main  [emitted]  main\nEntrypoint main = bundle.js\n[./src/javascript/index.js] 36 bytes {main} [built]\n</code></pre>"},{"location":"blog/2019/10/20/webpack-getting-stared/#loaders","title":"Loaders","text":"<ul> <li> <p>Great! Ch\u00fang ta \u0111\u00e3 bundled trong JS. Nh\u01b0ng n\u1ebfu ch\u00fang ta mu\u1ed1n ch\u1ea1y code ES6( ho\u1eb7c m\u1edbi h\u01a1n) v\u00e0 mu\u1ed1n t\u01b0\u01a1ng th\u00edch v\u1edbi tr\u00ecnh duy\u1ec7t? L\u00e0m sao ch\u00fang ta n\u00f3i \u0111\u01b0\u1ee3c v\u1edbi webpack \u0111\u1ec3 chuy\u1ec3n \u0111\u1ed5i (transform | transpile) code ES6 sang code t\u01b0\u01a1ng th\u00edch v\u1edbi tr\u00ecnh duy\u1ec7t ?</p> </li> <li> <p>Gi\u1edd l\u00e0 l\u00fac <code>Loaders</code> ph\u00e1t huy t\u00e1c d\u1ee5ng. Loaders l\u00e0 m\u1ed9t trong nh\u1eefng t\u00ednh n\u0103ng ch\u00ednh c\u1ee7a webpack. C\u00f9ng th\u00eam v\u00e0o trong <code>webpack.config.js</code> m\u1ed9t t\u00f9y ch\u1ecdn <code>module.rules</code>. V\u1edbi t\u00f9y ch\u1ecdn n\u00e0y ch\u00fang ta n\u00f3i cho webpack bi\u1ebft ch\u00ednh x\u00e1c n\u00ean chuy\u1ec3n \u0111\u1ed5i c\u00e1c \u0111\u1ecbnh d\u1ea1ng file kh\u00e1c nhau nh\u01b0 th\u1ebf n\u00e0o?</p> </li> </ul>"},{"location":"blog/2019/10/20/webpack-getting-stared/#babel-loader","title":"babel-loader","text":"<ul> <li>Babel l\u00e0 tr\u00ecnh chuy\u1ec3n \u0111\u1ed5i JS t\u1ed1t nh\u1ea5t hi\u1ec7n c\u00f3. Ta s\u1ebd n\u00f3i v\u1edbi webpack s\u1eed d\u1ee5ng babel \u0111\u1ec3 chuy\u1ec3n \u0111\u1ed5i code JS t\u01b0\u01a1ng th\u00edch c\u00e1c tr\u00ecnh duy\u1ec7t. \u0110\u1ea7u ti\u00ean c\u00e0i \u0111\u1eb7t babel:</li> </ul> <pre><code>npm i --save-dev babel-loader @babel/core @babel/preset-env\n</code></pre> <ul> <li>Gi\u1edd h\u00e3y c\u00f9ng th\u00eam rule cho nh\u1eefng file JS.</li> </ul> <pre><code>rules: [\n    {\n      test: / \\.js$/,\n      exclude: /(node_modules)/,\n      use: {\n        loader: \"babel-loader\",\n        options: {\n          preset: [\"@babel/preset-env\"]\n        }\n      }\n    }\n  ],\n</code></pre> <ul> <li> <p>C\u00f9ng nh\u00ecn l\u1ea1i 1 ch\u00fat:</p> </li> <li> <p><code>test</code> l\u00e0 m\u1ed9t regular expression cho \u0111\u1ecbnh d\u1ea1ng file. V\u1edbi tr\u01b0\u1eddng h\u1ee3p n\u00e0y n\u00f3 \u00e1m ch\u1ec9 c\u00e1c file JS</p> </li> <li> <p><code>exclude</code>c\u0169ng l\u00e0 m\u1ed9t regular expression, ch\u1ec9 cho Webpack bi\u1ebft ph\u1ea7n n\u00e0o n\u00ean \u0111\u01b0\u1ee3c b\u1ecf qua khi chuy\u1ec3n \u0111\u1ed5i file JS. \u1ede \u0111\u00e2y webpack s\u1ebd b\u1ecf qua th\u01b0 m\u1ee5c <code>node_modules</code></p> </li> <li> <p><code>use</code> l\u00e0 ph\u1ea7n ch\u00ednh c\u1ee7a rule n\u00e0y. Webpack s\u1ebd \u00e1p d\u1ee5ng rule trong ph\u1ea7n <code>loader</code> cho nh\u1eefng file trong ph\u1ea7n <code>test</code>.</p> </li> <li> <p><code>options</code>: ph\u1ee5 thu\u1ed9c v\u00e0o c\u00e1c loader. T\u01b0\u01a1ng \u1ee9ng m\u1ed7i <code>loader</code> ch\u00fang ta c\u00f3 th\u1ec3 t\u00ecm hi\u1ec3u s\u00e2u h\u01a1n khi s\u1eed d\u1ee5ng trong d\u1ef1 \u00e1n th\u1ef1c t\u1ebf.</p> </li> </ul>"},{"location":"blog/2019/10/20/webpack-getting-stared/#plugins","title":"Plugins","text":"<ul> <li>Plugins l\u00e0 x\u01b0\u01a1ng s\u1ed1ng c\u1ee7a webpack, b\u1ea3n th\u00e2n webpack c\u0169ng \u0111\u01b0\u1ee3c x\u00e2y d\u1ef1ng d\u1ef1a tr\u00ean c\u00f9ng m\u1ed9t <code>plugin system</code> (c\u00e1c b\u1ea1n c\u00f3 th\u1ec3 th\u1ea5y \u0111i\u1ec1u n\u00e0y trong file config c\u1ee7a webpack). M\u1ee5c \u0111\u00edch c\u1ee7a <code>Plugins</code> l\u00e0 l\u00e0m c\u00e1c ph\u1ea7n vi\u1ec7c m\u00e0 loaders kh\u00f4ng th\u1ec3.</li> </ul>"},{"location":"blog/2019/10/20/webpack-getting-stared/#more-loaders-images-and-fonts","title":"More loaders: images and fonts","text":"<ul> <li>H\u00e3y c\u00f9ng th\u1eed l\u00e0m vi\u1ec7c v\u1edbi <code>file-loader</code></li> </ul>"},{"location":"blog/2019/10/20/webpack-getting-stared/#file-loader","title":"file-loader","text":"<ul> <li>Install v\u1edbi</li> </ul> <pre><code>npm i --save-dev file-loader\n</code></pre> <ul> <li>Sau \u0111\u00f3 th\u00eam m\u1edbi rule cho file <code>webpack.config.js</code> nh\u01b0 d\u01b0\u1edbi:</li> </ul> <pre><code>{\n      test: /\\.(png|jpe?g|gif|svg)$/,\n      use: [\n      \"file-loader\",\n      ]\n    }\n</code></pre> <ul> <li>C\u00f9ng th\u00eam file <code>icon.png</code> trong project nh\u01b0 d\u01b0\u1edbi:</li> </ul> <pre><code>.\n\u251c\u2500\u2500 dist\n\u2502   \u2514\u2500\u2500 bundle.js\n\u251c\u2500\u2500 package.json\n\u251c\u2500\u2500 package-lock.json\n\u251c\u2500\u2500 src\n\u2502   \u251c\u2500\u2500 fonts\n\u2502   \u251c\u2500\u2500 icon.png\n\u2502   \u251c\u2500\u2500 images\n\u2502   \u251c\u2500\u2500 javascript\n\u2502   \u2514\u2500\u2500 sass\n\u2514\u2500\u2500 webpack.config.js\n</code></pre> <ul> <li>V\u00e0 thay \u0111\u1ed5i code trong file <code>index.js</code> nh\u01b0 d\u01b0\u1edbi:</li> </ul> <pre><code>import Icon from \"../icon.png\";\n\nconst component = () =&gt; {\n  const myIcon = new Image();\n  myIcon.src = Icon;\n  Element.appendChild(myIcon);\n  return Element;\n};\ndocument.body.appendChild(component());\n</code></pre> <ul> <li>Ch\u1ea1y l\u1ea1i <code>webpack</code> : <code>npm run build</code>. Terminal t\u01b0\u01a1ng t\u1ef1 nh\u01b0 d\u01b0\u1edbi:</li> </ul> <pre><code>&gt; webpack --config webpack.config.js\n\nHash: 99e14bd8069d9d883131\nVersion: webpack 4.41.2\nTime: 214ms\nBuilt at: 10/20/2019 5:03:27 PM\n                              Asset      Size  Chunks             Chunk Names\n76f686ca7590b10beaa3064309902337.png  2.93 KiB          [emitted]\n                          bundle.js  4.75 KiB    main  [emitted]  main\nEntrypoint main = bundle.js\n[./src/icon.png] 82 bytes {main} [built]\n[./src/javascript/index.js] 202 bytes {main} [built]\n</code></pre> <ul> <li>V\u00e0 n\u1ebfu b\u1ea1n nh\u00ecn v\u00e0o trong th\u01b0 m\u1ee5c <code>dist</code> s\u1ebd th\u1ea5y xu\u1ea5t hi\u1ec7n th\u00eam 1 file <code>76f686ca7590b10beaa3064309902337.png</code> ( t\u00ean file c\u00f3 th\u1ec3 kh\u00e1c m\u1ed9t ch\u00fat). B\u00ean trong file <code>bundle.js</code> 1 d\u00f2ng:</li> </ul> <pre><code>eval(\"module.exports = __webpack_require__.p + \\\"76f686ca7590b10beaa3064309902337.png\\\";\\n\\n//# sourceURL=webpack:///./src/icon.png?\");\n</code></pre> <ul> <li>Nh\u01b0 v\u1eady webpack \u0111\u00e3 chuy\u1ec3n \u0111\u1ed5i th\u00e0nh c\u00f4ng route <code>../icon.png</code> trong <code>index.js</code> th\u00e0nh <code>dist/76f686ca7590b10beaa3064309902337.png</code> khi bundle.</li> </ul>"},{"location":"blog/2019/10/20/webpack-getting-stared/#wrapping-up","title":"Wrapping up","text":"<ul> <li> <p>Tr\u00ean \u0111\u00e2y m\u00ecnh \u0111\u00e3 tr\u00ecnh b\u00e0y m\u1ed9t v\u00e0i b\u01b0\u1edbc ban \u0111\u1ea7u c\u1ee7a c\u1ea5u h\u00ecnh webpack. C\u00e1c kh\u00e1i ni\u1ec7m c\u01a1 b\u1ea3n <code>entry point</code>, <code>loaders</code>, v\u00e0 <code>plugins</code> c\u00e1ch webpack chuy\u1ec3n \u0111\u1ed5i v\u00e0 bundle c\u00e1c file. Tuy nhi\u00ean v\u1eabn c\u00f2n nhi\u1ec1u th\u1ee9 ph\u1ea3i xem \u0111\u1ec3 c\u00f3 th\u1ec3 hi\u1ec3u k\u1ef9 h\u01a1n v\u1ec1 webpack. Tr\u01b0\u1edbc h\u1ebft l\u00e0 c\u00e1c kh\u00e1i ni\u1ec7m c\u01a1 b\u1ea3n trong webpack. Ngo\u00e0i 3 kh\u00e1i ni\u1ec7m tr\u00ean c\u00f2n c\u00f3 <code>output</code>, <code>mode</code>, <code>modules</code> <code>target</code>, <code>Dependency Graph</code>. N\u1ebfu mu\u1ed1n b\u1ea1n c\u00f3 th\u1ec3 truy c\u1eadp link tr\u00ean \u0111\u1ec3 \u0111\u00e0o s\u00e2u t\u00ecm hi\u1ec3u.</p> </li> <li> <p>Sau khi \u0111\u00e3 hi\u1ec3u c\u00e1c kh\u00e1i ni\u1ec7m c\u01a1 b\u1ea3n ch\u00fang ta c\u00f3 th\u1ec3 th\u1ef1c h\u00e0nh. Webpack c\u00f3 r\u1ea5t nhi\u1ec1u loaders, plugin hay ho gi\u00fap ch\u00fang ta l\u00e0m vi\u1ec7c v\u1edbi c\u00e1c \u0111\u1ecbnh d\u1ea1ng file kh\u00e1c nhau.</p> </li> <li> <p>Sau c\u00f9ng ch\u00fang ta c\u00f3 th\u1ec3 t\u00ecm hi\u1ec3u \u0111\u1ebfn configuration \u0111\u1ec3 c\u1ea5u h\u00ecnh linh ho\u1ea1t ph\u00f9 h\u1ee3p v\u1edbi d\u1ef1 \u00e1n. V\u00e0 tham kh\u1ea3o ph\u1ea7n guides \u0111\u1ec3 th\u1ea5y \u0111\u01b0\u1ee3c ch\u00fang ta c\u00f3 th\u1ec3 t\u1ed1i \u01b0u c\u00e1ch x\u1eed d\u1ee5ng webpack (webpack-dev-server hay code splitting kh\u00f4ng b\u1ecb d\u01b0 th\u1eeba khi bundle).</p> </li> <li> <p>Tr\u00ean \u0111\u00e2y l\u00e0 ph\u1ea7n t\u00ecm hi\u1ec3u c\u1ee7a m\u00ecnh v\u1ec1 webpack. C\u1ea3m \u01a1n m\u1ecdi ng\u01b0\u1eddi \u0111\u00e3 theo d\u00f5i t\u1edbi \u0111\u00e2y.</p> </li> <li> <p><code>Happy configuring!!!</code></p> </li> </ul>"},{"location":"blog/2020/01/09/improve-your-nodejs-performance-with-redis/","title":"Improve your nodejs performance with redis","text":""},{"location":"blog/2020/01/09/improve-your-nodejs-performance-with-redis/#introduction","title":"Introduction","text":"<ul> <li>D\u1ef1 \u00e1n m\u00ecnh \u0111ang l\u00e0m c\u00f3 li\u00ean quan redis, n\u00ean ti\u1ec7n th\u1ec3 note l\u1ea1i m\u1ed9t ch\u00fat th\u1ef1c h\u00e0nh lu\u00f4n.</li> <li>B\u00e0i n\u00e0y m\u00ecnh s\u1ebd kh\u00f4ng tr\u00ecnh b\u00e0y: Redis l\u00e0 g\u00ec?. V\u00ec sao n\u00ean d\u00f9ng redis.</li> <li>B\u00e0i vi\u1ebft n\u00e0y ch\u1ec9 \u0111\u01b0a ra k\u1ebft qu\u1ea3 so s\u00e1nh khi chuy\u1ec3n sang d\u00f9ng redis l\u00e0m cache ho\u1eb7c thay th\u1ebf c\u00e1c ki\u1ec3u d\u1eef li\u1ec7u truy\u1ec1n th\u1ed1ng (SQL v\u00e0 NoSQL).</li> </ul>"},{"location":"blog/2020/01/09/improve-your-nodejs-performance-with-redis/#redis-as-cache","title":"Redis as cache","text":"<ul> <li> <p>C\u00f9ng xem v\u00ed d\u1ee5 nodejs app tr\u1ea3 v\u1ec1 th\u00f4ng tin s\u00e1ch th\u00f4ng qua d\u1eef li\u1ec7u c\u1ee7a google api.</p> </li> <li> <p>Kh\u00f4ng s\u1eed d\u1ee5ng Redis:</p> </li> </ul> withoutRedisAsCache.js<pre><code>//Define all dependencies needed\nconst express = require(\"express\");\nconst responseTime = require(\"response-time\");\nconst axios = require(\"axios\");\n\n//Load Express Framework\nvar app = express();\n\n//Create a middleware that adds a X-Response-Time header to responses.\napp.use(responseTime());\n\nconst getBook = (req, res) =&gt; {\n  let isbn = req.query.isbn;\n  let url = `https://www.googleapis.com/books/v1/volumes?q=isbn:${isbn}`;\n  axios\n    .get(url)\n    .then((response) =&gt; {\n      let book = response.data.items;\n      res.send(book);\n    })\n    .catch((err) =&gt; {\n      res.send(\"The book you are looking for is not found !!!\");\n    });\n};\n\napp.get(\"/book\", getBook);\n\napp.listen(3000, function () {\n  console.log(\"Your node is running on port 3000 !!!\");\n});\n</code></pre> <ul> <li>C\u00f3 s\u1eed d\u1ee5ng redis l\u00e0m cache:</li> </ul> withRedisAsCache.js<pre><code>const express = require(\"express\");\nconst responseTime = require(\"response-time\");\nconst axios = require(\"axios\");\nconst redis = require(\"redis\");\nconst client = redis.createClient();\n\n// Load express Framework\nconst app = express();\n\n// Create a middleware that adds a X-Response-Time header to response.\napp.use(responseTime());\n\nconst getBook = (req, res) =&gt; {\n  let isbn = req.query.isbn;\n  let url = `https://wwww.googleapis.com/books/v1/volumes?q=isbn:${isbn}`;\n  return axios\n    .get(url)\n    .then((response) =&gt; {\n      let book = response.data.items;\n      // Set the string-key: isbn in our cache. With his contents of the cache: title\n      // Set cache expirations to 1 hour (60minutes)\n      client.setex(isbn, 3600, JSON.stringify(book));\n\n      res.send(book);\n    })\n    .catch((err) =&gt; {\n      res.send(\"The book you are looking for is not found!!!\");\n    });\n};\n\nconst getCache = (req, res) =&gt; {\n  let isbn = req.query.isbn;\n  //Check the cache data from the server redis\n  client.get(isbn, (err, result) =&gt; {\n    if (result) {\n      res.send(result);\n    } else {\n      getBook(req, res);\n    }\n  });\n};\napp.get(\"/book\", getCache);\napp.listen(3000, () =&gt; {\n  console.log(`Your node is running on port 3000!!!`);\n});\n</code></pre> <ul> <li>Khi nh\u1eadn \u0111\u01b0\u1ee3c request t\u1eeb client. Server v\u1edbi <code>withoutRedisAsCache.js</code> s\u1ebd call api b\u00ean th\u1ee9 ba (\u1edf \u0111\u00e2y l\u00e0 google) v\u00e0 tr\u1ea3 v\u1ec1 cho ng\u01b0\u1eddi d\u00f9ng. Server v\u1edbi <code>withRedisAsCache.js</code> s\u1ebd check redis tr\u01b0\u1edbc kh\u00f4ng c\u00f3 m\u1edbi g\u1ecdi api google ( v\u00e0 s\u1ebd \u0111\u01b0\u1ee3c c\u1eadp nh\u1eadt v\u00e0o redis cho l\u1ea7n g\u1ecdi sau).</li> <li> <p>\u0110\u1ec3 ch\u1ea1y ph\u00eda server ngo\u00e0i kh\u1edfi t\u1ea1o 2 file nh\u01b0 tr\u00ean. M\u00ecnh c\u00e0i \u0111\u1eb7t 1 s\u1ed1 th\u1ee9:</p> </li> <li> <p><code>npm init -y</code> kh\u1edfi t\u1ea1o project</p> </li> <li>C\u00e0i \u0111\u1eb7t c\u00e1c module c\u1ea7n thi\u1ebft: <code>npm i express axios response-time redis</code></li> <li> <p>Kh\u1edfi ch\u1ea1y ph\u00eda server side v\u1edbi <code>node withoutRedisAsCache.js</code> ho\u1eb7c <code>node withRedisAsCache.js</code>.</p> </li> <li> <p>Gi\u1edd c\u00f9ng xem th\u1eddi gian ph\u1ea3n h\u1ed3i c\u1ee7a m\u1ed7i api nh\u01b0 n\u00e0o. V\u1edbi c\u00f9ng m\u1ed9t truy v\u1ea5n t\u1edbi server. \u1ede \u0111\u00e2y m\u00ecnh mu\u1ed1n check th\u1eddi gian server ph\u1ea3n h\u1ed3i. N\u1ebfu b\u1ea1n mu\u1ed1n xem full response th\u00ec b\u1ecf option <code>--head</code> l\u00e0 \u0111\u01b0\u1ee3c:</p> </li> </ul> <pre><code>curl --head --request GET 'http://localhost:3000/book?isbn=0747532699'\n</code></pre> <ul> <li>Khi kh\u00f4ng c\u00f3 redis th\u1eddi gian server x\u1eed l\u00fd 748.695ms:</li> </ul> <pre><code>curl --head --request GET 'http://localhost:3000/book?isbn=0747532699'\nHTTP/1.1 200 OK\nX-Powered-By: Express\nContent-Type: application/json; charset=utf-8\nContent-Length: 5555\nETag: W/\"15b3-oclsTdp62saXpCDwbRd1UpovElU\"\nX-Response-Time: 748.695ms\nDate: Tue, 04 Feb 2020 21:47:10 GMT\nConnection: keep-alive\n</code></pre> <ul> <li>Khi c\u00f3 redis l\u00e0m cache th\u1eddi gian x\u1eed l\u00fd 151.236ms:</li> </ul> <pre><code>curl --head --request GET 'http://localhost:3000/book?isbn=0747532699'\nHTTP/1.1 200 OK\nX-Powered-By: Express\nContent-Type: text/html; charset=utf-8\nContent-Length: 44\nETag: W/\"2c-MIHHo48jJM1V6k/iF6QDT81JmfU\"\nX-Response-Time: 151.236ms\nDate: Tue, 04 Feb 2020 21:45:40 GMT\nConnection: keep-alive\n</code></pre>"},{"location":"blog/2020/01/09/improve-your-nodejs-performance-with-redis/#redis-as-db","title":"Redis as DB","text":"<ul> <li> <p>M\u1ed9t v\u00ed d\u1ee5 th\u1ee9 hai, m\u1ed9t s\u1ed1 tr\u01b0\u1eddng h\u1ee3p thay v\u00ec l\u01b0u v\u00e0o db truy\u1ec1n th\u1ed1ng SQL hay noSQL ch\u00fang ta c\u00f3 th\u1ec3 s\u1eed d\u1ee5ng redis thay th\u1ebf.</p> </li> <li> <p>S\u1eed d\u1ee5ng mongodb:</p> </li> </ul> mongoDB.js<pre><code>const mongoose = require(\"mongoose\");\nconst express = require(\"express\");\nconst responseTime = require(\"response-time\");\n\nconst mongoDB = \"mongodb://127.0.0.1/test\";\nmongoose.connect(mongoDB, { useNewUrlParser: true });\n\nconst app = express();\napp.use(responseTime());\n\n// create a Schema\nconst UserSchema = new mongoose.Schema({\n  name: String,\n  lastLogin: { type: String, index: true },\n});\n\n// create model from Schema\nconst UserModel = mongoose.model(\"Users\", UserSchema);\n\n// run this block only one time to create new User\n// start block create user\nconst newUser = UserModel({\n  name: \"Asterisk\",\n  lastLogin: `${new Date().getTime()}`,\n});\nnewUser.save((err) =&gt; {\n  if (err) console.error(`save to db error: `, err);\n  console.log(\"User created\");\n});\n// end block create user\n\napp.get(\"/user\", (req, res) =&gt; {\n  UserModel.findOne({ name: \"Asterisk\" }, (err, response) =&gt; {\n    res.json(response);\n  });\n});\n\napp.listen(3000, () =&gt; {\n  console.log(`Your node runiing on port 3000!`);\n});\n</code></pre> <ul> <li>\u1ede \u0111\u00e2y m\u00ecnh t\u1ea1o 1 collection <code>User</code> v\u1edbi m\u1ed9t document \u0111\u01a1n gi\u1ea3n {name: Asterisk, lastLogin: string} v\u1edbi lastLogin l\u00e0 time theo mili gi\u00e2y.</li> <li>C\u00e0i \u0111\u1eb7t g\u00f3i mongoose: <code>npm i mongoose</code>.</li> <li>Ch\u1ea1y server: <code>node mongoDB.js</code>.</li> <li>Check response t\u1eeb ph\u00eda server:</li> </ul> <pre><code>$ curl --request GET 'http://localhost:3000/user'\n{\"_id\":\"5e39ef517017466d73374df9\",\"name\":\"Asterisk\",\"lastLogin\":\"1580855121662\",\"__v\":0}\n</code></pre> <ul> <li>Check Header xem th\u1eddi gian ph\u1ea3n h\u1ed3i:</li> </ul> <pre><code>curl --head --request GET 'http://localhost:3000/user'\nHTTP/1.1 200 OK\nX-Powered-By: Express\nContent-Type: application/json; charset=utf-8\nContent-Length: 88\nETag: W/\"58-tbwvkcJnjDHdbM+ylOQJecz0iEs\"\nX-Response-Time: 2.821ms\nDate: Tue, 04 Feb 2020 22:35:27 GMT\nConnection: keep-alive\n</code></pre> <ul> <li> <p>Nh\u01b0 v\u1eady v\u1edbi m\u1ed9t b\u1ea3n ghi, \u0111\u00e3 \u0111\u01b0\u1ee3c index, th\u1eddi gian c\u1ee1 kho\u1ea3ng 2.821ms</p> </li> <li> <p>N\u1ebfu c\u00f9ng m\u1ee5c \u0111\u00edch s\u1eed d\u1ee5ng l\u01b0u lastLogin nh\u01b0ng l\u1ea7n n\u00e0y m\u00ecnh s\u1ebd l\u01b0u trong redis th\u00ec sao:</p> </li> <li>S\u1eed d\u1ee5ng redis:</li> </ul> redisDB.js<pre><code>const express = require(\"express\");\nconst responseTime = require(\"response-time\");\nconst axios = require(\"axios\");\nconst redis = require(\"redis\");\nconst client = redis.createClient();\n\nconst app = express();\napp.use(responseTime());\n\n// Run this line only one time to set for redis\nclient.set(`Asterisk`, `${new Date().getTime()}`);\n\napp.get(\"/user\", (req, res) =&gt; {\n  client.get(`Asterisk`, (err, result) =&gt; {\n    if (err) console.error(err);\n    res.send(result);\n  });\n});\napp.listen(3000, () =&gt; {\n  console.log(`Your node is running on port 3000!!!`);\n});\n</code></pre> <ul> <li>Test th\u1eed response t\u1eeb ph\u00eda server:</li> </ul> <pre><code>$ curl --request GET 'http://localhost:3000/user'\n1580857007517\n</code></pre> <ul> <li>Check header xem th\u1eddi gian ph\u1ea3n h\u1ed3i 0.384ms:</li> </ul> <pre><code>curl --head --request GET 'http://localhost:3000/user'\nHTTP/1.1 200 OK\nX-Powered-By: Express\nContent-Type: text/html; charset=utf-8\nContent-Length: 13\nETag: W/\"d-JS5kVrHA/I/MbbqfR1u35i9JqlI\"\nX-Response-Time: 0.384ms\nDate: Tue, 04 Feb 2020 23:04:12 GMT\nConnection: keep-alive\n</code></pre>"},{"location":"blog/2020/01/09/improve-your-nodejs-performance-with-redis/#conclusion","title":"Conclusion","text":"<ul> <li>Ph\u1ea7n tr\u00ean m\u00ecnh demo 2 v\u00ed d\u1ee5 thay \u0111\u1ed5i th\u1eddi gian ph\u1ea3n h\u1ed3i server t\u1edbi client:</li> <li>Khi d\u00f9ng redis l\u00e0m cache th\u1eddi gian gi\u1ea3m: 748.695ms -&gt; 151.236ms.</li> <li>Khi d\u00f9ng redis l\u00e0m db th\u1eddi gian gi\u1ea3m: 2.821ms -&gt; 0.384ms.</li> <li>Hai thay \u0111\u1ed5i v\u1ec1 th\u1eddi gian tr\u00ean ch\u1ec9 mang t\u00ednh t\u01b0\u01a1ng \u0111\u1ed1i v\u00ec m\u1ed7i l\u1ea7n ch\u1ea1y th\u1eddi gian c\u00f3 thay \u0111\u1ed5i \u0111\u00f4i ch\u00fat. Nh\u01b0ng d\u00f9 sao c\u0169ng th\u1ea5y \u0111\u01b0\u1ee3c t\u1ec9 l\u1ec7 thay \u0111\u1ed5i kh\u00e1 r\u00f5 d\u1ec7t v\u1ec1 m\u1eb7t th\u1eddi gian ph\u1ea3n h\u1ed3i.</li> <li>Khi c\u00e1c k\u1ebft qu\u1ea3 tr\u1ea3 v\u1ec1 client \u00edt thay \u0111\u1ed5i ch\u00fang ta c\u00f3 th\u1ec3 xem x\u00e9t vi\u1ec7c d\u00f9ng Redis l\u00e0m cache v\u00e0 c\u1eadp nh\u1eadt l\u1ea1i khi c\u00f3 thay \u0111\u1ed5i v\u00ed d\u1ee5: th\u00f4ng tin ng\u01b0\u1eddi d\u00f9ng, ho\u1eb7c trong v\u00ed d\u1ee5 tr\u00ean th\u00f4ng tin m\u1ed9t quy\u1ec3n s\u00e1ch: t\u00e1c gi\u1ea3, n\u0103m ph\u00e1t h\u00e0nh ...</li> <li>Khi API \u01b0u ti\u00ean t\u00ednh th\u1eddi gian th\u1ef1c ph\u1ea3n h\u1ed3i nhanh nh\u01b0 trong v\u00ed d\u1ee5 2 ch\u00fang ta c\u00f3 c\u0169ng th\u1ebf xem x\u00e9t l\u01b0u m\u1ed9t s\u1ed1 th\u00f4ng tin trong redis thay v\u00ec db th\u00f4ng th\u01b0\u1eddng. D\u00f9 m\u1ed7i lo\u1ea1i DB v\u1eabn c\u00f3 \u0111i\u1ec3m m\u1ea1nh ri\u00eang ch\u00fang ta c\u1ea7n c\u00e2n nh\u1eafc khi ch\u1ecdn l\u1ef1a</li> </ul>"},{"location":"blog/2020/01/09/improve-your-nodejs-performance-with-redis/#bonus-redis-command-exec-on","title":"Bonus Redis command exec on:","text":"<ul> <li> <p>String:</p> </li> <li> <p><code>GET</code>: l\u1ea5y ra gi\u00e1 tr\u1ecb c\u1ee7a key (get value of key) tr\u1ea3 v\u1ec1 nil n\u1ebfu key kh\u00f4ng t\u1ed3n t\u1ea1i v\u00e0 error n\u1ebfu g\u00eda tr\u1ecb l\u01b0u trong key kh\u00f4ng ph\u1ea3i string. GET ch\u1ec9 handle gi\u00e1 tr\u1ecb l\u00e0 string.</p> </li> <li><code>SET</code>: g\u00e1n gi\u00e1 tr\u1ecb (ki\u1ec3u string ) cho m\u1ed9t key. N\u1ebfu key \u0111\u00e3 c\u00f3 gi\u00e1 tr\u1ecb n\u00f3 s\u1ebd b\u1ecb ghi \u0111\u00e8 ( kh\u00f4ng quan t\u00e2m ki\u1ec3u tr\u01b0\u1edbc \u0111\u00f3 l\u00e0 g\u00ec). C\u00e1c options:<ul> <li>EX gi\u00e2y: th\u1eddi gian b\u1ecb h\u1ebft h\u1ea1n theo gi\u00e2y.</li> <li>PX mili gi\u00e2y: th\u1eddi gian b\u1ecb h\u1ebft h\u1ea1n theo mili gi\u00e2y.</li> <li>NX: Ch\u1ec9 x\u00e9t khi key ch\u01b0a ch\u1ee9a gi\u00e1 tr\u1ecb.</li> <li>XX: Ch\u1ec9 x\u00e9t n\u1ebfu key \u0111\u00e3 ch\u01b0a gi\u00e1 tr\u1ecb.</li> </ul> </li> <li>Do SET c\u00f3 c\u00e1c options nh\u01b0 tr\u00ean n\u00ean c\u00e1c c\u00e2u l\u1ec7nh nh\u01b0 sau c\u00f3 th\u1ec3 b\u1ecb b\u1ecf trong t\u01b0\u01a1ng l\u1ea1i: SETEX, SETNX, PSETEX.</li> <li><code>INCR</code>: T\u0103ng s\u1ed1 \u0111ang \u0111\u01b0\u1ee3c l\u01b0u trong key l\u00ean m\u1ed9t. N\u1ebfu key kh\u00f4ng c\u00f3 gi\u00e1 tr\u1ecb n\u00f3 \u0111\u01b0\u1ee3c g\u00e1n v\u1ec1 0 v\u00e0 t\u0103ng l\u00ean 1 ( t\u1ee9c = 1).Tr\u1ea3 v\u1ec1 l\u1ed7i n\u1ebfu gi\u00e1 tr\u1ecb l\u01b0u trong key kh\u00f4ng ph\u1ea3i l\u00e0 string ho\u1eb7c string kh\u00f4ng chuy\u1ec3n th\u00e0nh s\u1ed1 \u0111\u01b0\u1ee3c. Ph\u00e9p c\u1ed9ng 1 gi\u1edbi h\u1ea1n b\u1edfi 64 bit signed integers.</li> <li> <p><code>DECR</code>: T\u01b0\u01a1ng t\u1ef1 <code>INCR</code> nh\u01b0ng th\u1eb1ng n\u00e0y tr\u1eeb 1.</p> </li> <li> <p>List:</p> </li> <li> <p><code>LRANGE</code> KEY START STOP: \u0110\u1ed9 ph\u1ee9c t\u1ea1p c\u00e2u l\u1ec7nh n\u00e0y: <code>O(S+N)</code>: S \u0111\u1ed9 l\u1ec7ch gi\u1eefa <code>START</code> v\u00e0 0. N s\u1ed1 ph\u1ea7n t\u1eed trong list. L\u1ec7nh n\u00e0y tr\u1ea3 v\u1ec1 m\u1ed9t danh s\u00e1ch (array) c\u00e1c ph\u1ea7n t\u1eed \u0111\u01b0\u1ee3c l\u01b0u trong key. \u0110\u1ed9 l\u1ec7ch c\u1ee7a <code>START</code> v\u00e0 <code>STOP</code> \u0111\u01b0\u1ee3c t\u00ednh t\u1eeb <code>0</code>. T\u1ee9c ko l\u00e0 ph\u1ea7n t\u1eed \u0111\u1ea7u ti\u00ean. C\u0169ng c\u00f3 th\u1ec3 l\u1ea5y t\u1eeb cu\u1ed1i danh s\u00e1ch tr\u1edf \u0111i v\u1edbi <code>-1</code> l\u00e0 ph\u1ea7n t\u1eed cu\u1ed1i c\u00f9ng. Out of range s\u1ebd kh\u00f4ng tr\u1ea3 v\u1ec1 m\u1ed9t <code>error</code>. Start l\u1edbn h\u01a1n ph\u1ea7n t\u1eed cu\u1ed1i c\u00f9ng m\u1ea3ng r\u1ed7ng s\u1ebd \u0111\u01b0\u1ee3c tr\u1ea3 v\u1ec1. Stop l\u1edbn h\u01a1n ph\u1ea7n t\u1eed cu\u1ed1i c\u00f9ng, Redis s\u1ebd tr\u1ea3 v\u1ec1 t\u1edbi ph\u1ea7n t\u1eed cu\u1ed1i c\u00f9ng.</p> </li> <li><code>RPUSH</code> KEY ELEMENT [ELEMENT...]: \u0110\u1ed9 ph\u1ee9c t\u1ea1p <code>O(1)</code> cho m\u1ed7i ph\u1ea7n t\u1eed \u0111\u01b0\u1ee3c th\u00eam m\u1edbi, n\u00ean O(N) v\u1edbi N ph\u1ea7n t\u1eed \u0111\u01b0\u1ee3c th\u00eam v\u00e0o. Th\u00eam t\u1ea5t c\u1ea3 c\u00e1c gi\u00e1 tr\u1ecb v\u00e0o \u0111u\u00f4i c\u1ee7a list \u0111\u01b0\u1ee3c l\u01b0u b\u1edfi key. Key kh\u00f4ng t\u1ed3n t\u1ea1i n\u00f3 s\u1ebd \u0111\u01b0\u1ee3c t\u1ea1o m\u1edbi v\u00e0 ch\u00e8n d\u1eef li\u1ec7u v\u00e0o. N\u1ebfu Key l\u01b0u gi\u00e1 tr\u1ecb kh\u00f4ng ph\u1ea3i list, error s\u1ebd \u0111\u01b0\u1ee3c tr\u1ea3 v\u1ec1.</li> <li> <p><code>LPUSH</code> KEY ELEMENT [ELEMENT...]: \u0110\u1ed9 ph\u00fac t\u1ea1p t\u01b0\u01a1ng t\u1ef1 <code>RPUSH</code>. T\u01b0\u01a1ng t\u1ef1 <code>RPUSH</code> kh\u00e1c insert t\u1eeb \u0111\u1ea7u (HEAD) thay v\u00ec \u0111u\u00f4i (tail).</p> </li> <li> <p>HASHES:</p> </li> <li> <p><code>hgetall</code>: \u0110\u1ed9 ph\u1ee9c t\u1ea1p <code>O(N)</code> N l\u00e0 k\u00edch th\u01b0\u1edbc hash. Tr\u1ea3 v\u1ec1 t\u1ea5t c\u1ea3 c\u00e1c field v\u00e0 value c\u1ee7a ch\u00fang \u0111\u01b0\u1ee3c l\u01b0u trong hash. Gi\u00e1 tr\u1ecb tr\u1ea3 v\u1ec1 field \u0111\u01b0\u1ee3c theo value c\u1ee7a ch\u00fang -&gt; g\u1ea5p \u0111\u00f4i k\u00edch th\u01b0\u1edbc hash.</p> </li> <li><code>hmget</code>: \u0110\u1ed9 ph\u1ee9c t\u1ea1p <code>O(N)</code> N l\u00e0 k\u00edch th\u01b0\u1edbc fields \u0111\u01b0\u1ee3c truy v\u1ea5n. Tr\u1ea3 v\u1ec1 c\u00e1c gi\u00e1 tr\u1ecb (value) t\u01b0\u01a1ng \u1ee9ng v\u1edbi fields c\u1ee7a hash \u0111\u01b0\u1ee3c l\u01b0u trong key. Request field kh\u00f4ng t\u1ed3n t\u1ea1i s\u1ebd nh\u1eadn v\u1ec1 nil.</li> <li><code>hmset</code>: \u0110\u1ed9 ph\u1ee9c t\u1ea1p <code>O(N)</code> N l\u00e0 s\u1ed1 field \u0111\u01b0\u1ee3c set. Set c\u00e1c gi\u00e1 tr\u1ecb cho c\u00e1c hash fields. Ver <code>4.0.0</code> <code>hmset</code> deprecated \u0111\u01b0\u1ee3c thay m\u1edfi <code>hset</code>.</li> <li> <p><code>hdel</code>: \u0110\u1ed9 ph\u1ee9c t\u1ea1p <code>O(N)</code> N k\u00edch th\u01b0\u1edbc s\u1ed1 fields x\u00f3a b\u1ecf. X\u00f3a m\u1ed9t ho\u1eb7c nhi\u1ec1u fields trong hash. Fields kh\u00f4ng t\u1ed3n t\u1ea1i \u0111\u01a1n gi\u1ea3n b\u1ecb b\u1ecf qua. Nh\u01b0ng n\u1ebfu Key kh\u00f4ng t\u1ed3n t\u1ea1i \u0111\u01b0\u1ee3c xem nh\u01b0 m\u1ed9t hash r\u1ed7ng v\u00e0 tr\u1ea3 v\u1ec1 0.</p> </li> <li> <p>SET:</p> </li> <li> <p><code>SMEMBERS</code> KEY: \u0110\u1ed9 ph\u1ee9c t\u1ea1p <code>O(N)</code>. L\u1ea5y t\u1ea5t c\u1ea3 members trong set.</p> </li> <li><code>SADD</code> KEY member [members...]: \u0110\u1ed9 ph\u1ee9c t\u1ea1p <code>O(1)</code> v\u1edbi m\u1ed7i member \u0111\u01b0\u1ee3c th\u00eam m\u1edbi n\u00ean <code>O(N)</code> v\u1edbi N ph\u1ea7n t\u1eed th\u00eam m\u1edbi. <code>Sound like: set add</code>. Th\u00eam m\u1ed9t ho\u1eb7c nhi\u1ec1u member v\u00e0o set.</li> <li> <p><code>SREM</code> key member [members...]: \u0110\u1ed9 ph\u1ee9c t\u1ea1p <code>O(N)</code> v\u1edbi N l\u00e0 s\u1ed1 ph\u1ea7n t\u1eed b\u1ecb x\u00f3a. X\u00f3a c\u00e1c members kh\u1ecfi set. C\u00e1c member kh\u00f4ng thu\u1ed9c set \u0111\u01a1n gi\u1ea3n b\u1ecb b\u1ecf qua. N\u1ebfu key kh\u00f4ng t\u1ed3n t\u1ea1i tr\u1ea3 v\u1ec1 0 (coi nh\u01b0 empty set). Tr\u1ea3 v\u1ec1 l\u1ed7i n\u1ebfu gi\u00e1 tr\u1ecb l\u01b0u trong key kh\u00f4ng ph\u1ea3i set.</p> </li> <li> <p>ZSET:</p> </li> <li> <p><code>ZRANGE</code> KEY START STOP [WITHSCORE...]: \u0110\u1ed9 ph\u1ee9c t\u1ea1p <code>O(log(N) + M)</code>: v\u1edbi N s\u1ed1 ph\u1ea7n t\u1eed trong set, M s\u1ed1 c\u00e1c ph\u1ea7n t\u1eed tr\u1ea3 v\u1ec1. Tr\u1ea3 v\u1ec1 m\u1ea3ng c\u00e1c ph\u1ea7n t\u1eed trong set. C\u00e1c ph\u1ea7n t\u1eed \u0111\u01b0\u1ee3c s\u1eafp x\u1ebfp t\u1eeb \u0111i\u1ec3m (score) th\u1ea5p nh\u1ea5t t\u1edbi cao nh\u1ea5t.</p> </li> <li> <p>Chi ti\u1ebft t\u1ea5t c\u1ea3 c\u00e1c command trong redis c\u00f3 th\u1ec3 tra c\u1ee9u t\u1ea1i \u0111\u00e2y :D</p> </li> <li> <p>Happy using Redis!!!</p> </li> </ul>"},{"location":"blog/2020/01/26/the-differences-between-a-junior-mid-level-and-senior-developerhttpsmediumcombetter-programmingthe-differences-between-a-junior-mid-level-and-senior-developer-bb2cb2eb000d/","title":"The differences between a junior, mid level, and senior developer","text":"<ul> <li> <p>Tr\u1edf th\u00e0nh m\u1ed9t junior, mid-level, hay senior developer kh\u00f4ng \u0111\u01a1n thu\u1ea7n ch\u1ec9 l\u00e0 l\u00e0m l\u1eadp tr\u00ecnh trong nhi\u1ec1u n\u0103m. M\u1ed9t junior c\u00f3 th\u1ec3 gi\u00e0 h\u01a1n m\u1ed9t senior. T\u1ea5t c\u1ea3 d\u1ef1a tr\u00ean k\u0129 n\u0103ng. Vi\u1ec7c n\u00e0y kh\u00f4ng c\u00f3 ngh\u0129a senior ph\u1ea3i l\u00e0 chuy\u00ean gia trong m\u1ecdi th\u1ee9, nh\u01b0ng ch\u00ednh x\u00e1c khi n\u00f3i l\u1eadp tr\u00ecnh vi\u00ean senior \u0111\u01b0\u1ee3c trang b\u1ecb nhi\u1ec1u k\u0129 n\u0103ng h\u01a1n nhi\u1ec1u so v\u1edbi junior v\u00e0 mid-level.</p> </li> <li> <p>Kh\u00e1c nhau gi\u1eefa senior v\u00e0 junior, mid-level kh\u00f4ng ch\u1ec9 ri\u00eang k\u0129 n\u0103ng code. V\u1eady ch\u00ednh x\u00e1c kh\u00e1c nhau v\u1ec1 nh\u1eefng g\u00ec ?</p> </li> </ul>"},{"location":"blog/2020/01/26/the-differences-between-a-junior-mid-level-and-senior-developerhttpsmediumcombetter-programmingthe-differences-between-a-junior-mid-level-and-senior-developer-bb2cb2eb000d/#knowledge","title":"Knowledge","text":"<ul> <li> <p>Ch\u1eafc ch\u1eafn senior c\u00f3 nhi\u1ec1u ki\u1ebfn th\u1ee9c h\u01a1n junior v\u00e0 mid-level. Hi\u1ec3u bi\u1ebft v\u1ec1 design patterns, ki\u1ebfn tr\u00fac (Architecture), automating testing, hi\u1ec7u n\u0103ng ( performance), security, etc...l\u00e0 c\u00e1ch t\u1ed1t \u0111\u1ec3 juninor c\u00f3 th\u1ec3 thu h\u1eb9p kho\u1ea3ng c\u00e1ch v\u1edbi mid-level v\u00e0 senior.</p> </li> <li> <p>\u0110i\u1ec1u quan tr\u1ecdng l\u00e0 bi\u1ebft m\u1ecdi th\u1ee9 trong ph\u00e1t tri\u1ec3n ph\u1ea7n m\u1ec1m n\u00ean \u0111\u01b0\u1ee3c th\u1ef1c hi\u1ec7n nh\u01b0 th\u1ebf n\u00e0o. Tuy nhi\u00ean bi\u1ebft t\u1ea5t c\u1ea3 c\u00e1c th\u1ee9 n\u00e0y kh\u00f4ng khi\u1ebfn b\u1ea1n tr\u1edf th\u00e0nh m\u1ed9t senior. Ki\u1ebfn th\u1ee9c, hi\u1ec3u bi\u1ebft kh\u00f4ng ph\u1ea3i l\u00e0 s\u1ef1 kh\u00e1c bi\u1ec7t l\u1edbn gi\u1eefa c\u00e1c l\u1eadp tr\u00ecnh vi\u00ean, n\u00f3 ch\u1ec9 l\u00e0 m\u1ed9t trong c\u00e1c nh\u00e2n t\u1ed1 ch\u00ednh.</p> </li> </ul>"},{"location":"blog/2020/01/26/the-differences-between-a-junior-mid-level-and-senior-developerhttpsmediumcombetter-programmingthe-differences-between-a-junior-mid-level-and-senior-developer-bb2cb2eb000d/#coding","title":"Coding","text":"<ul> <li> <p>M\u1eb7c d\u00f9 h\u1ea7u h\u1ebft m\u1ecdi ng\u01b0\u1eddi ngh\u0129, coding kh\u00f4ng ph\u1ea3i ch\u1ec9 v\u1ec1 giao ti\u1ebfp v\u1edbi m\u00e1y t\u00ednh. Coding c\u00f2n v\u1ec1 vi\u1ec7c giao ti\u1ebfp v\u1edbi m\u1ecdi ng\u01b0\u1eddi v\u00e0 l\u00e0m vi\u1ec7c v\u1edbi m\u00e1y t\u00ednh. D\u00f9 code \u0111\u01b0\u1ee3c bi\u00ean d\u1ecbch v\u00e0 d\u1ecbch th\u00e0nh 0 v\u00e0 1.</p> </li> <li> <p>Code c\u1ea7n c\u00f3 ngh\u0129a cho c\u00e1c l\u1eadp tr\u00ecnh vi\u00ean kh\u00e1c, nh\u1eefng dev s\u1ebd l\u00e0m vi\u1ec7c v\u1edbi n\u00f3 trong t\u01b0\u01a1ng lai. M\u1ed9t team ch\u01b0a t\u1eebng nh\u00ecn th\u1ea5y code n\u00e0y tr\u01b0\u1edbc \u0111\u00f3 c\u1ea7n c\u00f3 th\u1ec3 m\u1edf code v\u00e0 b\u1eaft \u0111\u1ea7u l\u00e0m vi\u1ec7c tr\u00ean t\u00ednh n\u0103ng m\u1edbi hay fix c\u00e1c bug. \u0110\u00f3 l\u00e0 nh\u1eefng s\u1ef1 kh\u00e1c bi\u1ec7t l\u1edbn gi\u1eefa junior v\u00e0 senior.</p> </li> <li> <p>T\u00f4i s\u1ebd b\u1ecf qua mid-level trong so s\u00e1nh n\u00e0y v\u00ec mid-level l\u00e0 v\u00f9ng x\u00e1m ( giao thoa junior v\u00e0 senior) khi n\u00f3i t\u1edbi k\u0129 n\u0103ng code. R\u00f5 r\u00e0ng n\u00f3 \u1edf \u0111\u00e2u \u0111\u00f3 gi\u1eefa junior v\u00e0 senior. Kh\u1ea3 n\u0103ng nghi\u00eang v\u1ec1 ph\u00eda senior. \u0110i\u1ec1u n\u00e0y li\u00ean quan ch\u1ee7 y\u1ebfu t\u1edbi kinh nghi\u1ec7m, v\u00ec c\u00e1c senior \u0111\u00e3 tr\u1ea3i qua to\u00e0n b\u1ed9 chu tr\u00ecnh ph\u00e1t tri\u1ec3n ph\u1ea7n m\u1ec1m \u00edt nh\u1ea5t m\u1ed9t l\u1ea7n. H\u1ecd ph\u1ea1m r\u1ea5t nhi\u1ec1u sai l\u1ea7m \u0111\u01a1n gi\u1ea3n v\u00e0 c\u0169ng h\u1ecdc h\u1ecfi t\u1eeb \u0111\u00f3.</p> </li> </ul>"},{"location":"blog/2020/01/26/the-differences-between-a-junior-mid-level-and-senior-developerhttpsmediumcombetter-programmingthe-differences-between-a-junior-mid-level-and-senior-developer-bb2cb2eb000d/#how-to-sniff-out-the-junior-developer-lam-sao-e-anh-hoi-phat-hien-ra-cac-junior","title":"How to sniff out the junior developer? (l\u00e0m sao \u0111\u1ec3 \u0111\u00e1nh h\u01a1i ( ph\u00e1t hi\u1ec7n) ra c\u00e1c junior ?)","text":"<ul> <li> <p>Junior th\u00ec kh\u00f4ng c\u00f3 kinh nghi\u1ec7m. M\u1ed9t v\u00e0i ch\u1ec9 m\u1edbi t\u1ed1t nghi\u1ec7p v\u00e0 b\u1eaft \u0111\u1ea7u c\u00f4ng vi\u1ec7c full-time. T\u01b0 duy c\u1ee7a junior th\u01b0\u1eddng ch\u1ec9 l\u00e0 l\u00e0m cho code ch\u1ea1y. Ph\u1ea7n m\u1ec1m ch\u1ea1y \u0111\u01b0\u1ee3c v\u00e0 ph\u1ea7n m\u1ec1m t\u1ed1t v\u1edbi h\u1ecd l\u00e0 nh\u01b0 nhau.</p> </li> <li> <p>L\u1eadp tr\u00ecnh v\u1edbi code \u0111\u01a1n gi\u1ea3n th\u00ec kh\u00f3 v\u1edbi h\u1ecd. \u0110\u00f4i khi junior kh\u00f4ng l\u00e0m n\u00f3. Junior vi\u1ebft code h\u1ecd m\u00e0u m\u00e8. B\u1ea1n c\u00f3 th\u1ec3 nh\u1eadn ra junior v\u1edbi c\u00e1c d\u00f2ng code k\u1ef3 qu\u1eb7c v\u00e0 c\u00e1c l\u1edbp tr\u1eebu t\u01b0\u1ee3ng qu\u00e1 ph\u1ee9c t\u1ea1p. \u0110\u00f3 l\u00e0 c\u00e1ch m\u00e0 c\u00e1c junior cho m\u1ecdi ng\u01b0\u1eddi th\u1ea5y h\u1ecd c\u00f3 th\u1ec3 code t\u1ed1t nh\u01b0 th\u1ebf n\u00e0o. Nh\u01b0ng c\u00e1ch n\u00e0y th\u00ec sai :D.</p> </li> <li> <p>Junior t\u1eadp trung v\u1ec1 ph\u00eda m\u00e1y t\u00ednh c\u1ee7a code (computer side) nh\u01b0ng kh\u00f3 cho ng\u01b0\u1eddi \u0111\u1ecdc.</p> </li> </ul>"},{"location":"blog/2020/01/26/the-differences-between-a-junior-mid-level-and-senior-developerhttpsmediumcombetter-programmingthe-differences-between-a-junior-mid-level-and-senior-developer-bb2cb2eb000d/#and-what-about-the-senior-developer","title":"And what about the senior developer?","text":"<ul> <li> <p>Khi nh\u00ecn v\u00e0o code c\u1ee7a senior, b\u1ea1n c\u00f3 th\u1ec3 ngh\u0129: t\u1ea5t c\u1ea3 ch\u1ec9 c\u00f3 th\u1ebf th\u00f4i sao? Ph\u1ea7n c\u00f2n l\u1ea1i \u0111\u00e2u? M\u1ed9t senior vi\u1ebft code \u0111\u01a1n gi\u1ea3n, minh b\u1ea1ch, v\u00e0 c\u00f3 th\u1ec3 th\u1eadm ch\u00ed h\u01a1i tr\u00ec \u0111\u1ed9n(\u0111\u01a1n gi\u1ea3n qu\u00e1 ) m\u1ed9t ch\u00fat. \u0110\u00e2y l\u1ea1i ch\u00ednh l\u00e0 ch\u1ea5t l\u01b0\u1ee3ng l\u1edbn nh\u1ea5t m\u1ed9t dev c\u00f3 th\u1ec3 khi l\u1eadp tr\u00ecnh. M\u1ed9t senior the s\u00e1t nguy\u00ean t\u1eafc: KISS : Keep it simple, stupid.</p> </li> <li> <p>M\u1ed9t senior ngh\u0129 v\u1ec1 code c\u1ee7a h\u1ecd theo c\u00e1ch kh\u00e1c v\u1edbi junior. Code \u0111\u01b0\u1ee3c vi\u1ebft b\u1edfi m\u1ed9t senior s\u1ebd \u0111\u01b0\u1ee3c t\u1ea1o v\u1edbi kh\u1ea3 n\u0103ng maintain v\u00e0 m\u1edf r\u1ed9ng ngay t\u1eeb trong t\u00e2m tr\u00ed. \u0110\u00e2y l\u00e0 s\u1ef1 kh\u00e1c bi\u1ec7t ho\u00e0n to\u00e0n trong t\u01b0 duy m\u00e0 junior c\u00f3, senior ngh\u0129 v\u1ec1 nh\u1eefng ng\u01b0\u1eddi ph\u1ea3i s\u1ebd l\u00e0m vi\u1ec7c v\u1edbi code khi junior ngh\u0129 v\u1ec1 ch\u1ea1y \u0111\u01b0\u1ee3c cho computer.</p> </li> </ul>"},{"location":"blog/2020/01/26/the-differences-between-a-junior-mid-level-and-senior-developerhttpsmediumcombetter-programmingthe-differences-between-a-junior-mid-level-and-senior-developer-bb2cb2eb000d/#more-than-just-coding-skills","title":"More than just coding skills","text":"<ul> <li> <p>B\u00ean c\u1ea1nh k\u0129 n\u0103ng code, c\u00f2n c\u00f3 nh\u1eefng nh\u00e2n t\u1ed1 kh\u00e1c c\u00f3 th\u1ec3 ch\u1ec9 cho b\u1ea1n th\u1ea5y m\u1ed9t ng\u01b0\u1eddi \u0111ang thu\u1ed9c h\u1ea1ng n\u00e0o: junior, mid-level, senior.</p> </li> <li> <p>Junior, th\u01b0\u1eddng , l\u00e0m c\u00e1c task \u0111\u01a1n gi\u1ea3n nh\u1ea5t, ho\u1eb7c task v\u1edbi c\u00e1c t\u00e1c \u0111\u1ed9ng nh\u1ecf nh\u1ea5t. H\u1ecd kh\u00f4ng tham gia thi\u1ebft k\u1ebf ki\u1ebfn tr\u00fac. Mid-level c\u0169ng kh\u00f4ng tham gia thi\u1ebft k\u1ebf gi\u1ea3i ph\u00e1p, h\u1ecd \u0111\u01a1n gi\u1ea3n ch\u1ec9 l\u00e0m c\u00e1c task, nh\u01b0ng \u00edt b\u1ecb gi\u00e1m s\u00e1t h\u01a1n. Senior t\u1ef1 h\u1ecd c\u00f3 th\u1ec3 ph\u00e1t tri\u1ec3n m\u1ed9t \u1ee9ng d\u1ee5ng ho\u00e0n ch\u1ec9nh.</p> </li> <li> <p>Tuy v\u1eady n\u00f3 kh\u00f4ng c\u00f3 ngh\u0129a senior kh\u00f4ng c\u00f3 b\u1ea5t k\u1ef3 c\u00e2u h\u1ecfi n\u00e0o. M\u1ecdi l\u1eadp tr\u00ecnh vi\u00ean lu\u00f4n c\u00f3 h\u00e0ng t\u00e1 c\u00e2u h\u1ecfi m\u1ed7i ng\u00e0y v\u00e0 \u0111i\u1ec1u n\u00e0y kh\u00f4ng thay \u0111\u1ed5i. Vi\u1ec7c n\u00e0y kh\u00f4ng c\u00f3 s\u1ef1 kh\u00e1c bi\u1ec7t gi\u1eefa c\u00e1c l\u1eadp tr\u00ecnh vi\u00ean.</p> </li> <li> <p>S\u1ef1 kh\u00e1c bi\u1ec7t n\u1eb1m \u1edf ch\u1ed7 senior bi\u1ebft c\u00e1ch h\u1ecfi v\u00e0 c\u00e1ch c\u00e1c c\u00e2u h\u1ecfi \u0111\u01b0\u1ee3c gi\u1ea3i quy\u1ebft. Mid-level c\u00f3 th\u1ec3 h\u1ecfi \u0111\u00fang c\u00e2u h\u1ecfi khi h\u1ecd g\u1eb7p ph\u1ea3i v\u1edbi c\u00e1c task, nh\u01b0ng c\u1ea7n s\u1ef1 tr\u1ee3 gi\u00fap v\u1edbi c\u00e1c task ph\u1ee9c t\u1ea1p.</p> </li> <li> <p>Senior kh\u00f4ng bao gi\u1edd m\u1ea5t d\u1ea5u v\u00e0 bi\u1ebft c\u00e1ch theo d\u1ea5u c\u00e1c c\u00e2u h\u1ecfi( t\u00ecm ra c\u00e2u tr\u1ea3 l\u1eddi) v\u1edbi h\u00e0nh \u0111\u1ed9ng \u0111\u00fang. \u0110i\u1ec1u n\u00e0y c\u0169ng kh\u00f4ng c\u00f3 ngh\u0129a senior kh\u00f4ng y\u00eau c\u1ea7u s\u1ef1 tr\u1ee3 gi\u00fap t\u1eeb c\u00e1c dev kh\u00e1c. \u0110\u00f4i khi c\u00e1ch t\u1ed1t nh\u1ea5t l\u00e0 h\u1ecfi c\u00e1c dev kh\u00e1c c\u00f3 kinh nghi\u1ec7m trong c\u00f9ng c\u00f4ng ty.</p> </li> <li> <p>Mid-level c\u0169ng n\u00ean h\u1ecfi \u0111\u00fang c\u00e2u h\u1ecfi, mi\u1ec5n sao anh ta kh\u00f4ng b\u1ecb g\u00e1n m\u1ed9t task qu\u00e1 ph\u1ee9c t\u1ea1p, y\u00eau c\u1ea7u m\u1ed9t s\u1ef1 hi\u1ec3u bi\u1ebft s\u00e2u.</p> </li> <li> <p>B\u1ea1n kh\u00f4ng n\u00ean mong ch\u1edd m\u1ed9t junior h\u1ecfi \u0111\u00fang c\u00e2u h\u1ecfi ngay t\u1eeb \u0111\u1ea7u. V\u00ec junior kh\u00f4ng c\u00f3 kinh nghi\u1ec7m, h\u1ecd c\u1ea7n \u0111\u01b0\u1ee3c h\u01b0\u1edbng d\u1eabn t\u1eeb c\u00e1c dev gi\u00e0u kinh nghi\u1ec7m h\u01a1n. Junior n\u00ean \u0111\u01b0\u1ee3c cung c\u1ea5p \u0111\u00fang t\u00e0i nguy\u00ean, m\u1ed9t c\u00fa h\u00edch v\u1ec1 \u0111\u00fang h\u01b0\u1edbng c\u1ea7n \u0111i.</p> </li> </ul>"},{"location":"blog/2020/01/26/the-differences-between-a-junior-mid-level-and-senior-developerhttpsmediumcombetter-programmingthe-differences-between-a-junior-mid-level-and-senior-developer-bb2cb2eb000d/#getting-to-the-next-level","title":"Getting to the Next level","text":"<ul> <li>T\u1ea5t c\u1ea3 ch\u00fang ta mu\u1ed1n ph\u00e1t tri\u1ec3n b\u1ea3n th\u00e2n c\u0169ng nh\u01b0 tr\u1edf th\u00e0nh m\u1ed9t l\u1eadp tr\u00ecnh vi\u00ean t\u1ed1t h\u01a1n. Nh\u01b0ng ch\u00fang ta c\u00f3 th\u1ec3 l\u00e0m g\u00ec \u0111\u1ec3 \u0111\u1eb7t t\u1edbi c\u1ea5p \u0111\u1ed9 ti\u1ebfp theo?</li> </ul>"},{"location":"blog/2020/01/26/the-differences-between-a-junior-mid-level-and-senior-developerhttpsmediumcombetter-programmingthe-differences-between-a-junior-mid-level-and-senior-developer-bb2cb2eb000d/#junior-to-mid-level","title":"Junior to mid-level","text":"<ul> <li> <p>V\u00ec junior thi\u1ebfu kinh nghi\u1ec7m, h\u1ecd n\u00ean tr\u1ea3i qua to\u00e0n b\u1ed9 chu tr\u00ecnh ph\u00e1t tri\u1ec3n ph\u1ea7n m\u1ec1m \u00edt nh\u1ea5t m\u1ed9t v\u00e0i l\u1ea7n. B\u1eb1ng c\u00e1ch n\u00e0y b\u1ea1n s\u1ebd ph\u1ea1m ph\u1ea3i nh\u1eefng l\u1ed7i v\u00e0 h\u1ecdc c\u00e1ch tr\u00e1nh ph\u1ea1m ph\u1ea3i trong c\u00e1c l\u1ea7n ti\u1ebfp theo.</p> </li> <li> <p>Khi code, b\u1ea1n n\u00ean h\u1ecdc c\u00e1ch vi\u1ebft code \u0111\u01a1n gi\u1ea3n. Ngh\u0129 v\u1ec1 nh\u1eefng ng\u01b0\u1eddi ti\u1ebfp theo s\u1ebd l\u00e0m vi\u1ec7c v\u1edbi code b\u1ea1n \u0111\u00e3 vi\u1ebft ra. B\u1ea1n c\u0169ng n\u00ean h\u1ecdc c\u00e1ch debug, v\u00ec \u0111\u00e2y l\u00e0 c\u00e1ch gi\u00fap b\u1ea1n hi\u1ec3u r\u00f5 h\u01a1n v\u1ec1 nh\u1eefng g\u00ec \u0111ang x\u1ea3y ra trong ch\u01b0\u01a1ng tr\u00ecnh.</p> </li> <li> <p>H\u01a1n n\u1eefa, b\u1ea1n n\u00ean l\u00e0m quen v\u1edbi c\u00e1c th\u1ef1c h\u00e0nh t\u1ed1t ( best practices) v\u00e0 h\u1ecdc v\u1ec1 ki\u1ebfn tr\u00fac, hi\u1ec7u n\u0103ng, b\u1ea3o m\u1eadt, ...vv. H\u1ecdc h\u1ecfi ki\u1ebfn th\u1ee9c \u0111\u1ec3 \u0111\u1ea1t \u0111\u01b0\u1ee3c m\u1ee9c mid-level.</p> </li> </ul>"},{"location":"blog/2020/01/26/the-differences-between-a-junior-mid-level-and-senior-developerhttpsmediumcombetter-programmingthe-differences-between-a-junior-mid-level-and-senior-developer-bb2cb2eb000d/#mid-level-to-senior","title":"Mid-level to senior","text":"<ul> <li> <p>\u0110\u1ea1t t\u1eeb mid-level t\u1edbi senior c\u00f3 th\u1ec3 kh\u00f3. M\u1ed9t v\u00e0i l\u1eadp tr\u00ecnh tr\u00ecnh vi\u00ean s\u1ebd d\u1eebng l\u1ea1i t\u1ea1i mid-level trong su\u1ed1t s\u1ef1 nghi\u1ec7p c\u1ee7a h\u1ecd.</p> </li> <li> <p>L\u1eadp tr\u00ecnh vi\u00ean senior bi\u1ebft ph\u1ea7n n\u00e0o c\u00f3 th\u1ec3 b\u1ecf, v\u00e0 ph\u1ea7n n\u00e0o kh\u00f4ng th\u1ec3 thi\u1ebfu. \u0110\u00e2y l\u00e0 nh\u1eefng b\u00e0i h\u1ecdc kh\u00f3 \u0111\u01b0\u1ee3c h\u1ecdc b\u1eb1ng c\u00e1ch ph\u1ea1m ph\u1ea3i trong qu\u00e1 kh\u1ee9.</p> </li> <li> <p>N\u1ebfu b\u1ea1n mu\u1ed1n tr\u1ea1m t\u1edbi m\u1ee9c senior, b\u1ea1n ph\u1ea3i chu\u1ea9n b\u1ecb \u0111\u1ec3 nh\u1eadn nh\u1eefng task kh\u00f4ng ai bi\u1ebft fix nh\u01b0 n\u00e0o? B\u1ea1n n\u00ean bi\u1ebft nhi\u1ec1u h\u01a1n l\u00e0 l\u00e0m th\u1ebf n\u00e0o \u0111\u1ec3 ho\u00e0n th\u00e0nh c\u00f4ng vi\u1ec7c.</p> </li> <li> <p>L\u00e0 m\u1ed9t senior c\u00f4ng vi\u1ec7c c\u1ee7a b\u1ea1n c\u00f2n bao g\u1ed3m vi\u1ec7c gi\u00fap c\u00e1c l\u1eadp tr\u00ecnh vi\u00ean \u00edt king nghi\u1ec7m h\u01a1n. B\u1ea1n ch\u00ednh l\u00e0 ph\u01b0\u01a1ng \u00e1n d\u1ef1 ph\u00f2ng cho c\u00e1c l\u1eadp tr\u00ecnh vi\u00ean kh\u00e1c khi h\u1ecd kh\u00f4ng bi\u1ebft ph\u1ea3i l\u00e0m nh\u01b0 th\u1ebf n\u00e0o v\u1edbi task c\u1ee7a m\u00ecnh.</p> </li> <li> <p>V\u00e0 ch\u1eafc b\u1ea1n c\u0169ng kh\u00f4ng ng\u1ea1c nhi\u00ean, senior ph\u1ea3i th\u00f4ng th\u1ea1o ho\u00e0n to\u00e0n tech stack c\u1ee7a m\u00ecnh. \u0110i\u1ec1u n\u00e0y nhi\u1ec1u h\u01a1n l\u00e0 ch\u1ec9 c\u00f3 code. Hi\u1ec3u bi\u1ebft t\u1ea5t c\u1ea3 c\u00e1c c\u00f4ng c\u1ee5, v\u00e0 \u1ee9ng d\u1ee5ng \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng c\u00f4ng ty m\u00e0 b\u1ea1n \u0111ang l\u00e0m vi\u1ec7c cho.</p> </li> </ul>"},{"location":"blog/2020/01/26/the-differences-between-a-junior-mid-level-and-senior-developerhttpsmediumcombetter-programmingthe-differences-between-a-junior-mid-level-and-senior-developer-bb2cb2eb000d/#conclusion","title":"Conclusion","text":"<ul> <li> <p>S\u1ef1 kh\u00e1c bi\u1ec7t gi\u1eefa junior, mid-level, v\u00e0 senior kh\u00f4ng ch\u1ec9 l\u00e0 con s\u1ed1 n\u0103m l\u00e0m vi\u1ec7c nh\u01b0 m\u1ed9t l\u1eadp tr\u00ecnh vi\u00ean. C\u00f3 th\u1ec3 ch\u1eafc ch\u1eafn, senior th\u00ec \u0111\u01b0\u1ee3c trang b\u1ecb nhi\u1ec1u k\u0129 n\u0103ng h\u01a1n junior v\u00e0 mid-level. Nh\u01b0ng ki\u1ebfn th\u1ee9c kh\u00f4ng ph\u1ea3i nh\u00e2n t\u1ed1 quan tr\u1ecdng nh\u1ea5t.</p> </li> <li> <p>Senior vi\u1ebft code d\u1ec5 d\u00e0ng v\u00e0 v\u1edbi m\u1ed9t t\u01b0 duy kh\u00e1c so v\u1edbi junior. Nh\u01b0ng kh\u00f4ng ch\u1ec9 c\u00f3 k\u0129 n\u0103ng code. Hi\u1ec3u vi\u1ec7c n\u00ean h\u1ecfi c\u00e2u h\u1ecfi n\u00e0o v\u00e0 l\u00e0m th\u1ebf n\u00e0o \u0111\u1ec3 theo d\u00f5i nh\u01b0ng c\u00e2u h\u1ecfi \u0111\u00f3 l\u00e0 \u0111i\u1ec1u c\u1ea7n thi\u1ebft. V\u00e0 \u0111\u00f4i khi ch\u1ec9 nh\u1eefng senior, v\u1edbi kinh nghi\u1ec7m phong ph\u00fa c\u1ee7a h\u1ecd, bi\u1ebft c\u00e1ch x\u1eed l\u00fd trong m\u1ecdi t\u00ecnh hu\u1ed1ng.</p> </li> <li> <p>L\u00e0 m\u1ed9t junior b\u1ea1n n\u00ean t\u1eadp trung vi\u1ebft code \u0111\u01a1n gi\u1ea3n v\u00e0 \u0111i qua c\u00e0ng nhi\u1ec1u chu tr\u00ecnh ph\u00e1t tri\u1ec3n ph\u1ea7n m\u1ec1m c\u00e0ng t\u1ed1t. \u0110\u1ec3 t\u1eeb mid-level t\u1edbi senior b\u1ea1n n\u00ean t\u1eadp trung h\u1ecdc nhi\u1ec1u h\u01a1n ch\u1ec9 fix c\u00e1c task th\u01b0\u1eddng ng\u00e0y. B\u1ea1n n\u00ean vui v\u1ebb nh\u1eadn c\u00e1c task kh\u00f3 nh\u1ea5t, v\u00e0 th\u00e0nh th\u1ea1o tech stack c\u1ee7a m\u00ecnh. M\u1ed9t tr\u00e1ch nhi\u1ec7m kh\u00e1c c\u1ee7a senior lu\u00f4n l\u00e0 ph\u01b0\u01a1ng \u00e1n d\u1ef1 ph\u00f2ng c\u1ee7a c\u00e1c dev \u00edt kinh nghi\u1ec7m h\u01a1n.</p> </li> <li> <p>T\u00f4i \u0111\u1ec3 l\u1ea1i \u0111\u00e2y m\u1ed9t c\u00e2u n\u00f3i c\u1ee7a Martin Fowler: \"Any fool can write code that a computer can understand. Good programmers write code that hummans can understand.\" ( \u0110\u1ecbnh d\u1ecbch c\u00e2u n\u00e0y m\u00e0 th\u1ea5y kh\u00f4ng c\u1ea7n thi\u1ebft).</p> </li> <li> <p>Happy become a developer!!!</p> </li> </ul>"},{"location":"blog/2020/02/22/nodejs-upload-files-to-aws/","title":"Nodejs upload files to aws","text":""},{"location":"blog/2020/02/22/nodejs-upload-files-to-aws/#introdution","title":"Introdution","text":"<ul> <li>B\u00e0i n\u00e0y m\u00ecnh s\u1ebd vi\u1ebft v\u1ec1 c\u00e1ch upload files l\u00ean S3 c\u1ee7a Amazon.</li> <li>S3 l\u00e0 d\u1ecbch v\u1ee5 l\u01b0u tr\u1eef file c\u1ee7a AWS. Tr\u01b0\u1edbc khi s\u1eed d\u1ee5ng d\u1ecbch v\u1ee5 ta c\u1ea7n t\u1ea1o Bucket( n\u01a1i s\u1ebd ch\u1ee9a c\u00e1c file ch\u00fang ta upload l\u00ean).</li> <li>FYI: Khi t\u1ea1o t\u00e0i kho\u1ea3n AWS m\u1ed9t s\u1ed1 d\u1ecbch v\u1ee5 s\u1ebd free trong 12 th\u00e1ng: EC2, S3, RDS, CloudFront ( nh\u1edb \u0111\u1ecdc k\u1ef9 free nh\u01b0 th\u1ebf n\u00e0o v\u00ed S3 s\u1ebd free 5GB, 20k GET request v\u00e0 2k PUT request - ch\u1ec9 th\u1ebf th\u00f4i, h\u01a1n t\u00ednh ph\u00ed \u0111\u1ea5y n\u00ean c\u1ea9n th\u1eadn). Tuy nhi\u00ean nhi\u00ean m\u1ed9t s\u1ed1 d\u1ecbch v\u1ee5 kh\u00e1c l\u1ea1i lu\u00f4n lu\u00f4n mi\u1ec5n ph\u00ed ( k\u1ec3 c\u1ea3 sau 12 th\u00e1ng - n\u00ean tha h\u1ed3 ngh\u1ecbch): DynamoDB, Lamda..</li> </ul>"},{"location":"blog/2020/02/22/nodejs-upload-files-to-aws/#before-start","title":"Before start","text":"<ul> <li>Tr\u01b0\u1edbc khi b\u1eaft \u0111\u1ea7u ta c\u1ea7n c\u00f3 1 t\u00e0i kho\u1ea3n AWS ( n\u1ebfu b\u1ea1n ch\u01b0a c\u00f3 th\u00ec t\u1ea1o nha).</li> <li>T\u1ea1o m\u1edbi (n\u1ebfu b\u1ea1n ch\u01b0a c\u00f3) m\u1ed9t AWS Access Key.</li> </ul>"},{"location":"blog/2020/02/22/nodejs-upload-files-to-aws/#create-bucket","title":"Create Bucket","text":"<ul> <li>Sau khi c\u00f3 t\u00e0i kho\u1ea3n v\u00e0 Access Key ch\u00fang ta c\u1ea7n t\u1ea1o Bucket \u0111\u1ec3 test upload file.</li> <li> <p>C\u00f3 nhi\u1ec1u c\u00e1ch \u0111\u1ec3 c\u00f3 th\u1ec3 t\u1ea1o Bucket:</p> </li> <li> <p>B\u1ea1n c\u00f3 th\u1ec3 t\u1ea1o tr\u1ef1c ti\u1ebfp tr\u00ean trang AWS</p> </li> <li> <p>Ho\u1eb7c c\u00f3 th\u1ec3 t\u1ea1o b\u1eb1ng AWS cli v\u1edbi l\u1ec7nh: <code>aws s3 mb s3://created-by-cli</code> \u1edf \u0111\u00e2y <code>created-by-cli</code> l\u00e0 t\u00ean c\u1ee7a Bucket b\u1ea1n mu\u1ed1n \u0111\u1eb7t. ( <code>mb</code> t\u1eaft make bucket).</p> </li> <li> <p>T\u1ea1o b\u1eb1ng API</p> </li> <li> <p>Khi t\u1ea1o Bucket c\u00f2n r\u1ea5t nhi\u1ec1u thi\u1ebft l\u1eadp (t\u1ea1o th\u1eed \u0111i s\u1ebd th\u1ea5y :) ) nh\u01b0 region, public, CORS.. theo m\u00ecnh c\u00e1ch 1 v\u00e0 2 (t\u1ea1o tr\u00ean trang AWS, aws cli) ch\u1ec9 n\u00ean th\u1ef1c hi\u1ec7n test cho bi\u1ebft. C\u00f2n l\u1ea1i n\u00ean t\u1ea1o b\u1eb1ng API nh\u01b0 v\u1eady c\u00e1c th\u00f4ng s\u1ed1 thi\u1ebft l\u1eadp s\u1ebd \u0111\u01b0\u1ee3c l\u01b0u l\u1ea1i kh\u00f4ng c\u1ea7n ph\u1ea3i nh\u1edb.</p> </li> <li> <p>Tr\u01b0\u1edbc khi b\u1eaft \u0111\u1ea7u ch\u00fang ta set up project m\u1ed9t ch\u00fat.</p> </li> <li> <p>T\u1ea1o folder, kh\u1edfi t\u1ea1p project, kh\u1edfi t\u1ea1o git v\u1edbi c\u00e1c l\u1ec7nh</p> </li> </ul> <pre><code>mkdir nodejs-aws-s3\ncd nodejs-aws-s3\nnpm init -y\ngit init\n</code></pre> <ul> <li>T\u1ea1o file <code>config.json</code> v\u1edbi n\u1ed9i dung:</li> </ul> <pre><code>{\n  \"BUCKET\": \"created-by-api\",\n  \"REGION\": \"ap-southeast-1\",\n  \"AWS_ACCESS_KEY\": \"NHAP_ACCESS_KEY_CUA_BAN_VAO_DAY\",\n  \"AWS_SECRET_KEY\": \"NHAP_SECRET_CUA_BAN_VAO_DAY\"\n}\n</code></pre> <ul> <li>T\u1ea1o m\u1ed9t file <code>makeBucket.js</code> (cho tr\u00f9ng v\u1edbi l\u1ec7nh t\u1ea1o bucket trong aws-cli)</li> </ul> <pre><code>const AWS = require(\"aws-sdk\");\nconst config = require(\"./config.json\");\n\nconst REGION = config.REGION;\nconst ACCESS_KEY = config.AWS_ACCESS_KEY;\nconst SECRET_KEY = config.AWS_SECRET_KEY;\n\nAWS.config.update({\n  accessKeyId: ACCESS_KEY,\n  secretAccessKey: SECRET_KEY,\n  region: REGION,\n});\n\nvar s3 = new AWS.S3();\n\nconst params = {\n  Bucket: config.BUCKET,\n};\n\nconst editBucketCORS = () =&gt;\n  s3.putBucketCors(\n    {\n      Bucket: config.BUCKET,\n      CORSConfiguration: {\n        CORSRules: [\n          {\n            AllowedHeaders: [\"*\"],\n            AllowedMethods: [\"PUT\", \"POST\", \"DELETE\"],\n            AllowedOrigins: [\"*\"],\n          },\n          {\n            AllowedMethods: [\"GET\"],\n            AllowedOrigins: [\"*\"],\n          },\n        ],\n      },\n    },\n    (err) =&gt; {\n      if (err) console.log(err, err.stack);\n      else console.log(`Edit Bucket CORS succeed!`);\n    }\n  );\n\ns3.createBucket(params, (err, data) =&gt; {\n  if (err) console.log(err, err.stack);\n  else {\n    console.log(data);\n    editBucketCORS();\n  }\n});\n</code></pre> <ul> <li>C\u1ea5u tr\u00fac th\u01b0 m\u1ee5c hi\u1ec7n t\u1ea1i \u0111ang ntn:</li> </ul> <pre><code>.\n\u251c\u2500\u2500 config.json\n\u251c\u2500\u2500 makeBucket.js\n\u251c\u2500\u2500 node_modules\n\u251c\u2500\u2500 package.json\n\u2514\u2500\u2500 package-lock.json\n</code></pre> <ul> <li>File <code>makeBucket.js</code> s\u1ebd l\u1ea5y c\u1ea5u h\u00ecnh trong <code>config.json</code> v\u00e0 t\u1ea1o m\u1edbi m\u1ed9t Bucket v\u1edbi t\u00ean <code>created-by-api</code>. Sau \u0111\u00f3 ch\u1ec9nh l\u1ea1i c\u00e0i \u0111\u1eb7t <code>CORS</code> c\u1ee7a bucket v\u1edbi h\u00e0m <code>editBucketCORS</code>. M\u00ecnh \u0111\u00e3 th\u1eed setup ngay l\u00fac t\u1ea1o bucket nh\u01b0ng ko \u0111\u01b0\u1ee3c. Search th\u1eed doc th\u00ec ch\u1ec9 c\u00f3 1 pha edit sau khi \u0111\u00e3 t\u1ea1o bucket t\u1ea1i \u0111\u00e2y th\u00f4i :).</li> <li>C\u00e0i \u0111\u1eb7t g\u00f3i ph\u1ee5 thu\u1ed9c <code>npm i aws-sdk</code>, c\u1ea5u h\u00ecnh key ch\u00ednh x\u00e1c, ta ch\u1ea1y file v\u1edbi: <code>node makeBucket.js</code> s\u1ebd c\u00f3 output nh\u01b0 sau l\u00e0 t\u1ea1o th\u00e0nh c\u00f4ng:</li> </ul> <pre><code>node makeBucket.js\n{ Location: 'http://created-by-api.s3.amazonaws.com/' }\nEdit Bucket CORS succeed!\n</code></pre> <ul> <li>Ta c\u0169ng c\u00f3 th\u1ec3 ki\u1ec3m tra b\u1eb1ng giao di\u1ec7n web ho\u1eb7c cli, b\u1eb1ng cli s\u1ebd c\u00f3 output d\u1ea1ng nh\u01b0 th\u1ebf n\u00e0y:</li> </ul> <pre><code>$ aws s3 ls\n2020-02-18 23:05:59 craft-created\n2020-02-22 22:28:01 created-by-api\n2020-02-22 10:49:55 created-by-cli\n</code></pre> <ul> <li> <p>Ch\u1ec9 ch\u1ea1y 1 file <code>makeBucket.js</code> th\u00f4i sao ph\u1ea3i c\u1ea5u h\u00ecnh project, config c\u00e1c th\u1ee9 l\u00e0m g\u00ec? H\u00e3y l\u00e0m quen v\u1edbi c\u00e1ch qu\u1ea3n l\u00fd c\u00e1c file c\u1ea5u h\u00ecnh li\u00ean quan t\u1edbi Key c\u1ee7a c\u00e1c d\u1ecbch v\u1ee5 nh\u01b0 AWS hay Google... m\u1ed9t c\u00e1ch l\u00e0 b\u1ea1n l\u01b0u v\u00e0o file config v\u00e0 add file \u0111\u00f3 v\u00e0o trong .gitignore. ( N\u1ebfu tri\u1ec3n khai tr\u00ean cloud th\u00ec c\u00e1c file c\u1ea5u h\u00ecnh n\u00e0y n\u00ean \u0111\u01b0\u1ee3c l\u01b0u v\u00e0o v\u00f9ng c\u00f3 m\u00e3 h\u00f3a v\u00e0 h\u1ea1n ch\u1ebf quy\u1ec1n truy xu\u1ea5t nh\u01b0 v\u1eady s\u1ebd an to\u00e0n h\u01a1n). Sau \u0111\u00f3 b\u1ea1n c\u00f3 th\u1ec3 y\u00ean t\u00e2m \u0111\u1ea9y project c\u1ee7a m\u00ecnh l\u00ean github ho\u1eb7c share link repo cho ng\u01b0\u1eddi kh\u00e1c.</p> </li> <li> <p>File .gitignore ntn:</p> </li> </ul> <pre><code>config.json\nnode_modules/\n</code></pre>"},{"location":"blog/2020/02/22/nodejs-upload-files-to-aws/#upload-file","title":"Upload file","text":"<ul> <li> <p><code>Bucket</code> \u0111\u00e3 c\u00f3 ta s\u1ebd test upload file l\u00ean S3</p> </li> <li> <p>T\u00f9y thu\u1ed9c d\u1ecbch v\u1ee5 c\u1ee7a m\u00ecnh m\u00e0 ch\u00fang ta c\u00f3 c\u00e1c c\u00e1ch upload file l\u00ean S3 kh\u00e1c nhau.</p> </li> </ul>"},{"location":"blog/2020/02/22/nodejs-upload-files-to-aws/#direct-upload","title":"Direct upload","text":"<ul> <li> <p>B\u00e0i t\u00e1n th\u1ee9 nh\u1ea5t: gi\u1ea3 s\u1eed server c\u1ee7a b\u1ea1n t\u1ef1 t\u1ea1o <code>invoice - h\u00f3a \u0111\u01a1n</code> khi \u0111\u00f3 ch\u00fang ta c\u1ea7n \u0111\u1ea9y tr\u1ef1c ti\u1ebfp file l\u00ean S3 v\u00e0 tr\u1ea3 v\u1ec1 link cho kh\u00e1ch h\u00e0ng xem h\u00f3a \u0111\u01a1n.</p> </li> <li> <p>\u0110\u1ec3 server tr\u1ef1c ti\u1ebfp \u0111\u1ea9y file l\u00ean S3. Ch\u00fang ta t\u1ea1o file <code>directUpload.js</code> v\u1edbi n\u1ed9i dung nh\u01b0 sau:</p> </li> </ul> <pre><code>const AWS = require(\"aws-sdk\");\nconst fs = require(\"fs\");\nconst config = require(\"./config.json\");\n\nconst BUCKET = config.BUCKET;\nconst REGION = config.REGION;\nconst ACCESS_KEY = config.AWS_ACCESS_KEY;\nconst SECRET_KEY = config.AWS_SECRET_KEY;\n\nconst localImage = \"./cat.jpeg\";\nconst imageRemoteName = `directUpload_catImage_${new Date().getTime()}.jpeg`;\n\nAWS.config.update({\n  accessKeyId: ACCESS_KEY,\n  secretAccessKey: SECRET_KEY,\n  region: REGION,\n});\n\nvar s3 = new AWS.S3();\n\ns3.putObject({\n  Bucket: BUCKET,\n  Body: fs.readFileSync(localImage),\n  Key: imageRemoteName,\n})\n  .promise()\n  .then((res) =&gt; {\n    console.log(`Upload succeeded - `, res);\n  })\n  .catch((err) =&gt; {\n    console.log(\"Upload failed:\", err);\n  });\n</code></pre> <ul> <li>Th\u01b0 m\u1ee5c l\u00fac n\u00e0y th\u00eam 2 file: <code>directUpload.js</code> v\u00e0 <code>cat.jpg</code></li> </ul> <pre><code>.\n\u251c\u2500\u2500 cat.jpg\n\u251c\u2500\u2500 config.json\n\u251c\u2500\u2500 directUpload.js\n\u251c\u2500\u2500 makeBucket.js\n\u251c\u2500\u2500 node_modules\n\u251c\u2500\u2500 package.json\n\u2514\u2500\u2500 package-lock.json\n\n1 directory, 6 files\n</code></pre> <ul> <li>Ch\u1ea1y th\u1eed ch\u01b0\u01a1ng tr\u00ecnh, ok upload ngon l\u00e0nh:</li> </ul> <pre><code>node directUpload.js\nUpload succeeded -  { ETag: '\"550cf35812c2447027f8e4d547a78adb\"' }\n</code></pre>"},{"location":"blog/2020/02/22/nodejs-upload-files-to-aws/#upload-with-signedurl","title":"Upload with signedURL","text":"<ul> <li> <p>B\u00e0i to\u00e1n th\u1ee9 2: \u1ee8ng d\u1ee5ng c\u1ee7a b\u1ea1n cho ph\u00e9p ng\u01b0\u1eddi d\u00f9ng t\u1ea3i file tr\u1ef1c ti\u1ebfp l\u00ean S3. L\u00fac n\u00e0y kh\u00f4ng th\u1ec3 \u0111\u1ec3 ng\u01b0\u1eddi d\u00f9ng t\u1ea3i l\u00ean server r\u1ed3i server l\u1ea1i t\u1ea3i l\u00ean S3 \u0111\u01b0\u1ee3c. Thay v\u00ec th\u1ebf Client s\u1ebd call server \u0111\u1ec3 l\u1ea5y 1 <code>signedURL</code> v\u00e0 client d\u00f9ng n\u00f3 \u0111\u1ec3 t\u1ea3i file l\u00ean S3.</p> </li> <li> <p>\u0110\u1ea7u ti\u00ean \u1edf ph\u00eda server ch\u00fang ta t\u1ea1o 1 file: <code>uploadWithSignedURL.js</code> v\u1edbi n\u1ed9i dung nh\u01b0 sau:</p> </li> </ul> <pre><code>const cors = require(\"cors\");\nconst aws = require(\"aws-sdk\");\nconst express = require(\"express\");\nconst configAWS = require(\"./config\");\n\nconst app = express();\napp.use(cors());\napp.get(\"/sign-s3\", (req, res) =&gt; {\n  const s3 = new aws.S3();\n  const fileName = req.query[\"file-name\"];\n  const fileType = req.query[\"file-type\"];\n  const s3Params = {\n    Bucket: configAWS.BUCKET,\n    Key: fileName,\n    Expires: 60,\n    ContentType: fileType,\n    ACL: \"public-read\",\n  };\n\n  s3.getSignedUrl(\"putObject\", s3Params, (err, data) =&gt; {\n    if (err) {\n      console.log(`getSignedUrl error: `, err);\n      return res.end();\n    }\n    const returnData = {\n      signedRequest: data,\n      url: `https://${configAWS.BUCKET}.s3.amazonaws.com/${fileName}`,\n    };\n    res.write(JSON.stringify(returnData));\n    res.end();\n  });\n});\n\napp.listen(3000, () =&gt; {\n  console.log(\"come here babe...\");\n});\n</code></pre> <ul> <li> <p>\u0110o\u1ea1n server tr\u00ean l\u00e0m g\u00ec ? Kh\u1edfi t\u1ea1o m\u1ed9t api nh\u1eadn request v\u1edbi route <code>sign-s3</code> v\u00e0 c\u00e1c query: file-name, file-type. Sau \u0111\u00f3 request signedURL (v\u1edbi <code>s3.getSignedUrl</code>) v\u00e0 tr\u1ea3 v\u1ec1 cho client. Ok th\u1ebf l\u00e0 \u0111\u1ee7 r\u1ed3i, ph\u1ea7n c\u00f2n l\u1ea1i l\u00e0 c\u1ee7a client.</p> </li> <li> <p>\u1ede \u0111\u00e2y m\u00ecnh s\u1ebd t\u1ea1o m\u1ed9t file <code>ugly-client</code> <code>index.html</code> v\u1edbi n\u1ed9i dung nh\u01b0 d\u01b0\u1edbi:</p> </li> </ul> <pre><code>&lt;html&gt;\n  &lt;head&gt; &lt;/head&gt;\n  &lt;body&gt;\n    &lt;input type=\"file\" id=\"file-input\" /&gt;\n    &lt;p id=\"status\"&gt;Please select a file&lt;/p&gt;\n\n    &lt;script&gt;\n      (() =&gt; {\n        document.getElementById(\"file-input\").onchange = () =&gt; {\n          const files = document.getElementById(\"file-input\").files;\n          const file = files[0];\n          if (file == null) {\n            return alert(\"No file selected.\");\n          }\n          getSignedRequest(file);\n        };\n      })();\n      const getSignedRequest = (file) =&gt; {\n        const xhr = new XMLHttpRequest();\n        xhr.open(\n          \"GET\",\n          `http://localhost:3000/sign-s3?file-name=${file.name}&amp;file-type=${file.type}`\n        );\n        xhr.onreadystatechange = () =&gt; {\n          if (xhr.readyState === 4) {\n            if (xhr.status === 200) {\n              const response = JSON.parse(xhr.responseText);\n              uploadFile(file, response.signedRequest, response.url);\n            } else {\n              alert(\"Could not get signed URL.\");\n            }\n          }\n        };\n        xhr.send();\n      };\n      const uploadFile = (file, signedRequest, url) =&gt; {\n        const xhr = new XMLHttpRequest();\n        xhr.open(\"PUT\", signedRequest);\n        xhr.onreadystatechange = () =&gt; {\n          if (xhr.readyState === 4) {\n            if (xhr.status === 200) {\n              console.log(`Upload succeed to: ${url}`);\n            } else {\n              alert(\"Could not upload file.\");\n            }\n          }\n        };\n        xhr.send(file);\n      };\n    &lt;/script&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <ul> <li>\u0110\u1ebfn \u0111\u00e2y folder c\u00f3 th\u00eam 2 file m\u1edbi r\u1ed3i nha:</li> </ul> <pre><code>.\n\u251c\u2500\u2500 cat.jpg\n\u251c\u2500\u2500 config.json\n\u251c\u2500\u2500 directUpload.js\n\u251c\u2500\u2500 index.html\n\u251c\u2500\u2500 makeBucket.js\n\u251c\u2500\u2500 node_modules\n\u251c\u2500\u2500 package.json\n\u251c\u2500\u2500 package-lock.json\n\u2514\u2500\u2500 uploadWithSignedURL.js\n\n1 directory, 8 files\n</code></pre> <ul> <li> <p>N\u00f3i qua m\u1ed9t ch\u00fat. File ch\u1ec9 c\u00f3 1 th\u1ebb input \u0111\u1ec3 ng\u01b0\u1eddi d\u00f9ng ch\u1ecdn file. <code>Script</code> s\u1ebd l\u1eafng nghe <code>onchange</code> \u0111\u1ec3 g\u1eedi request t\u1edbi server b\u1eb1ng <code>getSignedRequest</code>. \u1ede \u0111\u00e2y m\u00ecnh \u0111ang fix c\u1ee9ng URL local nh\u01b0 b\u1ea1n th\u1ea5y: <code>http://localhost:3000/sign-s3?file-name=${file.name}&amp;file-type=${file.type}</code>. Sau khi nh\u1eadn \u0111\u01b0\u1ee3c signedURL do server tr\u1ea3 v\u1ec1 client s\u1ebd upload file l\u00ean S3 b\u1eb1ng: <code>uploadFile</code>.</p> </li> <li> <p>Ok! Ch\u1ea1y th\u1eed lu\u00f4n \u0111i. \u0110\u1ea7u ti\u00ean <code>npm i express cors</code>. Ch\u1ea1y server tr\u01b0\u1edbc:</p> </li> </ul> <pre><code>node uploadWithSignedURL.js\ncome here babe...\n</code></pre> <ul> <li>Sau \u0111\u00f3 m\u1edf file <code>index.html</code> b\u1eb1ng chrome v\u00e0 ch\u1ecdn file <code>cat.jpg</code> ch\u1edd m\u1ed9t l\u00e1t ki\u1ec3m tra tr\u00ean c\u1eeda s\u1ed5 <code>console</code> c\u1ee7a browser th\u1ea5y d\u1ea1ng nh\u01b0 d\u01b0\u1edbi l\u00e0 \u0111\u00e3 upload th\u00e0nh c\u00f4ng(n\u1ebfu th\u1ea5t b\u1ea1i b\u01b0\u1edbc n\u00e0o s\u1ebd b\u1eadt popup):</li> </ul> <pre><code>Upload succeed to: https://created-by-api.s3.amazonaws.com/cat.jpg\n</code></pre> <ul> <li>Ch\u1eafc c\u00fa b\u1ea1n c\u00f3 th\u1ec3 ki\u1ec3m tra l\u1ea1i tr\u00ean trang c\u1ee7a AWS, ho\u1eb7c nhanh h\u01a1n v\u1edbi aws-cli:</li> </ul> <pre><code>$ aws s3 ls s3://created-by-api\n2020-02-24 23:24:19      58836 cat.jpg\n2020-02-24 23:21:51      58836 directUpload_lovelyCat_1582561310482.jpg\n</code></pre> <ul> <li> <p>Nh\u01b0 b\u1ea1n th\u1ea5y c\u00f3 2 file 1 file <code>directUpload</code> t\u1eeb server nodejs v\u00e0 1 file upload t\u1eeb ph\u00eda client v\u1edbi signedURL.</p> </li> <li> <p>C\u1ea3m \u01a1n b\u1ea1n \u0111\u00e3 theo d\u00f5i t\u1edbi \u0111\u00e2y! Full code trong b\u00e0i n\u00e0y c\u00f3 t\u1ea1i \u0111\u00e2y nh\u1edb \u0111\u1ecdc qua ReadMe.md m\u1ed9t ch\u00fat n\u1ebfu c\u00f3 ch\u1ea1y!</p> </li> <li> <p>Happy using AWS service!</p> </li> </ul>"},{"location":"blog/2020/03/22/mongo-replica-set-on-docker/","title":"Mongo Replica Set on Docker","text":""},{"location":"blog/2020/03/22/mongo-replica-set-on-docker/#mongo-replica-set","title":"Mongo Replica Set","text":"<ul> <li> <p>M\u1ed9t Replica Set (m\u1ed9t b\u1ed9 c\u00e1c b\u1ea3n sao) l\u00e0 m\u1ed9t nh\u00f3m c\u00e1c th\u1ec3 hi\u1ec7n (instance) <code>mongod</code>, c\u00e1c th\u1ec3 hi\u1ec7n n\u00e0y l\u01b0u tr\u1eef b\u1ed9 d\u1eef li\u1ec7u ( data set) gi\u1ed1ng nhau.</p> </li> <li> <p>Trong m\u00f4i tr\u01b0\u1eddng product c\u00e1c t\u00ednh d\u1ef1 ph\u00f2ng v\u00e0 s\u1eb5n s\u00e0ng cao ( redundancy and high available) m\u00e0 mongo replica set cung c\u1ea5p l\u00e0 h\u1ebft s\u1ee9c c\u1ea7n thi\u1ebft. Kh\u00f4ng gi\u1ed1ng nh\u01b0 khi ch\u00fang ta ch\u1ea1y th\u1eed v\u1edbi m\u00f4i tr\u01b0\u1eddng <code>dev</code> ho\u1eb7c <code>test</code> th\u00ec c\u00f3 th\u1ec3 ch\u1ec9 c\u1ea7n m\u1ed9t <code>mongod</code> ch\u1ea1y l\u00e0 \u0111\u1ee7.</p> </li> </ul> <ul> <li> <p>M\u1ed9t mongo replica set s\u1ebd ch\u1ee9a c\u00e1c node mang d\u1eef li\u1ec7u (<code>data bearing node</code>) v\u00e0 c\u00f3 th\u1ec3 c\u00f3 m\u1ed9t node tr\u1ecdng t\u00e0i (<code>arbiter</code>), ri\u00eang <code>arbiter</code> kh\u00f4ng mang d\u1eef li\u1ec7u nhi\u1ec7m v\u1ee5 duy nh\u1ea5t c\u1ee7a n\u00f3 d\u00e0nh cho b\u00ecnh b\u1ea7u.</p> </li> <li> <p>Trong s\u1ed1 c\u00e1c <code>data bearing node</code> c\u00f3 duy nh\u1ea5t m\u1ed9t node <code>primary</code> c\u00f3 quy\u1ec1n ghi d\u1eef li\u1ec7u. Trong qu\u00e1 tr\u00ecnh ghi d\u1eef li\u1ec7u node primary n\u00e0y ghi l\u1ea1i to\u00e0n b\u1ed9 thay \u0111\u1ed5i l\u00ean d\u1eef li\u1ec7u c\u1ee7a n\u00f3 v\u00e0o trong operation log hay c\u00f2n g\u1ecdi oplog.</p> </li> <li> <p>Trong <code>data bearing node</code> ngo\u00e0i <code>primary</code> s\u1ebd c\u00f2n l\u1ea1i c\u00e1c <code>secondary</code> node, c\u00e1c <code>secondaries</code> n\u00e0y sao ch\u00e9p <code>oplog</code> c\u1ee7a primary v\u00e0 thao t\u00e1c tr\u00ean b\u1ed9 d\u1eef li\u1ec7u c\u1ee7a m\u00ecnh, \u0111\u00f3 l\u00e0 c\u00e1ch c\u00e1c node l\u01b0u tr\u1eef b\u1ed9 d\u1eef li\u1ec7u gi\u1ed1ng nhau.</p> </li> </ul> <p></p> <ul> <li> <p>Automatic Failover: l\u00e0 khi <code>primary</code> node down. C\u00e1c <code>secondaries</code> c\u00f2n l\u1ea1i s\u1ebd b\u00ecnh b\u1ea7u \u0111\u1ec3 m\u1ed9t node l\u00ean l\u00e0m primary. Ch\u00fang ta s\u1ebd kh\u00f4ng th\u1ec3 ghi d\u1eef li\u1ec7u cho t\u1edbi khi qu\u00e1 tr\u00ecnh n\u00e0y ho\u00e0n t\u1ea5t. Replica set c\u00f3 th\u1ec3 ti\u1ebfp t\u1ee5c ph\u1ee5c v\u1ee5 \u0111\u1ecdc d\u1eef li\u1ec7u n\u1ebfu \u0111\u01b0\u1ee3c c\u1ea5u h\u00ecnh run on secondaries khi primary offline.</p> </li> <li> <p>Write concern: M\u00f4 t\u1ea3 s\u1ed1 node c\u1ea7n acknowledge cho vi\u1ec7c ghi d\u1eef li\u1ec7u ho\u00e0n t\u1ea5t tr\u01b0\u1edbc khi vi\u1ec7c ghi d\u1eef li\u1ec7u \u0111\u01b0\u1ee3c th\u00f4ng b\u00e1o l\u1ea1i ph\u00eda client l\u00e0 th\u00e0nh c\u00f4ng( default 1).</p> </li> <li> <p>Read Operations ( Trade off): C\u00f3 t\u1ea5t c\u1ea3 5 t\u00f9y ch\u1ecdn cho vi\u1ec7c \u0111\u1ecdc d\u1eef li\u1ec7u v\u00e0 \u0111\u00e2y l\u00e0 m\u1ed9t s\u1ef1 \u0111\u00e1nh \u0111\u1ed5i ch\u00fang ta n\u00ean xem x\u00e9t \u0111\u1ec3 c\u00f3 c\u1ea5u h\u00ecnh ph\u00f9 h\u1ee3p v\u1edbi \u1ee9ng d\u1ee5ng c\u1ee7a m\u00ecnh nh\u1ea5t:</p> </li> <li> <p><code>primary</code>: M\u1eb7c \u0111\u1ecbnh lu\u00f4n l\u00e0 \u0111\u1ecdc d\u1eef li\u1ec7u t\u1eeb node <code>primary</code>. Multi-document transactions transactions thao t\u00e1c tr\u00ean nhi\u1ec1u b\u1ea3n ghi c\u00f3 ch\u1ee9a thao t\u00e1c \u0111\u1ecdc ph\u1ea3i s\u1eed d\u1ee5ng \u0111\u1ecdc t\u1eeb primary. C\u00e1c thao t\u00e1c trong m\u1ed9t transaction c\u1ea7n \u0111\u01b0\u1ee3c th\u1ef1c hi\u1ec7n tr\u00ean c\u00f9ng m\u1ed9t node. (Transaction v\u1eeba c\u00f3 thao t\u00e1c \u0111\u1ecdc, ghi c\u1ea7n thao t\u00e1c tr\u00ean c\u00f9ng node B. Kh\u00f4ng th\u1ec3 \u0111\u1ecdc tr\u00ean node B, ghi tr\u00ean node C).</p> </li> <li> <p><code>primaryPreferred</code>: Th\u00f4ng th\u01b0\u1eddng s\u1ebd \u0111\u1ecdc t\u1eeb node primary nh\u01b0ng n\u1ebfu primary offline th\u00ec c\u00f3 th\u1ec3 \u0111\u1ecdc t\u1eeb <code>secondaries</code>.</p> </li> <li> <p><code>secondary</code>: Lu\u00f4n \u0111\u1ecdc t\u1eeb c\u00e1c node secondaries.</p> </li> <li> <p><code>secondaryPreferred</code>: M\u1eb7c \u0111\u1ecbnh s\u1ebd \u0111\u1ecdc t\u1eeb secondaries nh\u01b0ng n\u1ebfu kh\u00f4ng c\u00f3 node n\u00e0o available th\u00ec s\u1ebd \u0111\u1ecdc t\u1eeb node primay.</p> </li> <li> <p><code>nearest</code>: S\u1ebd \u0111\u1ecdc t\u1eeb node g\u1ea7n n\u00f3 nh\u1ea5t. Trong mongo replica set. C\u00e1c node s\u1ebd \u0111\u01b0\u1ee3c l\u01b0u tr\u1eef tr\u00ean c\u00e1c Data center kh\u00e1c nhau ( theo thi\u1ebft k\u1ebf) th\u1eadm ch\u00ed kh\u00e1c c\u1ea3 khu v\u1ef1c \u0111\u1ecba l\u00fd ( ch\u00e2u \u00c2u, ch\u00e2u \u00c1). T\u00f9y ch\u1ecdn n\u00e0y s\u1ebd cho ph\u00e9p client l\u1ea5y d\u1eef li\u1ec7u t\u1eeb node n\u00f3 k\u1ebft n\u1ed1i m\u1ea1ng nhanh nh\u1ea5t.</p> </li> <li> <p>Nh\u1eadn x\u00e9t (quan \u0111i\u1ec3m c\u00e1 nh\u00e2n):</p> </li> <li> <p>Set \u0111\u1ecdc primary only c\u00f3 th\u1ec3 t\u0103ng t\u1ea3i tr\u00ean node primay ( v\u1eeba \u0111\u1ecdc v\u1eeba ghi). N\u1ebfu primary down kh\u00f4ng ch\u1ec9 kh\u00f4ng ghi \u0111\u01b0\u1ee3c d\u1eef li\u1ec7u l\u00fac n\u00e0y vi\u1ec7c \u0111\u1ecdc d\u1eef li\u1ec7u c\u0169ng t\u1ea1m th\u1eddi kh\u00f4ng th\u1ef1c hi\u1ec7n \u0111\u01b0\u1ee3c ( cho t\u1edbi khi primary m\u1edbi l\u00ean).</p> </li> <li> <p><code>primaryPreferred</code>: V\u1eabn l\u00e0 t\u0103ng t\u1ea3i tr\u00ean primary ( v\u1eeba \u0111\u1ecdc v\u1eeba ghi), kh\u1eafc ph\u1ee5c \u0111\u01b0\u1ee3c khi primary down ( s\u1ebd chuy\u1ec3n qua \u0111\u1ecdc t\u1eeb secondaries).</p> </li> <li> <p>N\u1ebfu \u0111\u1ecdc t\u1eeb secondaries gi\u1ea3m t\u1ea3i cho primay node ( l\u00fac n\u00e0y ch\u1ec9 c\u1ea7n ghi), tuy nhi\u00ean c\u00f3 th\u1ec3 x\u1ea3y ra tr\u01b0\u1eddng h\u1ee3p d\u1eef li\u1ec7u ch\u01b0a \u0111\u01b0\u1ee3c c\u1eadp nh\u1eadt. ( d\u1eef li\u1ec7u \u0111\u00e3 thay \u0111\u1ed5i tr\u00ean primary nh\u01b0ng ch\u01b0a c\u1eadp nh\u1eadt tr\u00ean secondaries)</p> </li> </ul>"},{"location":"blog/2020/03/22/mongo-replica-set-on-docker/#run-mongo-replica-set-on-docker","title":"Run mongo replica set on Docker","text":"<ul> <li> <p>Ph\u1ea7n n\u00e0y m\u00ecnh s\u1ebd ch\u1ea1y th\u1eed 1 replica set \u0111\u01a1n gi\u1ea3n tr\u00ean docker.</p> </li> <li> <p>D\u0129 nhi\u00ean tr\u00ean PC c\u1ee7a m\u00ecnh \u0111\u00e3 c\u00e0i docker ;). Ki\u1ec3m tra \u0111\u00e3 c\u00f3 image c\u1ee7a <code>mongo</code> ( nh\u01b0 b\u00ean d\u01b0\u1edbi mongo version latest c\u00f2n product ch\u00fang ta s\u1ebd ch\u1ec9 r\u00f5 version n\u00e0o (bow) ).</p> </li> </ul> <pre><code>root:~# docker images | grep mongo\nmongo               latest              bcef5fd2979d        4 weeks ago         386MB\n</code></pre> <ul> <li>Create network b\u1eb1ng l\u1ec7nh:</li> </ul> <pre><code>root:~# docker network create my-mongo-cluster\n</code></pre> <ul> <li>Ch\u1eafc ch\u1eafn ch\u00fang ta \u0111\u00e3 c\u00f3:</li> </ul> <pre><code>root:~# docker network ls | grep my\nd4b0ed47349c        my-mongo-cluster    bridge              local\n</code></pre> <ul> <li>Here we go, c\u00f9ng ch\u1ea1y <code>mongo1</code> \u0111\u1ea7u ti\u00ean:</li> </ul> <pre><code>docker run --name mongo1 --net my-mongo-cluster mongo mongod --replSet my-mongo-set\n</code></pre> <ul> <li> <p><code>docker run</code>: Start m\u1ed9t container t\u1eeb m\u1ed9t image</p> </li> <li> <p><code>--name mongo1</code>: \u0111\u1eb7t t\u00ean cho container \u0111\u1ea7u ti\u00ean n\u00e0y l\u00e0 : <code>mongo1</code>.</p> </li> <li> <p><code>--net my-mongo-cluster</code>: th\u00eam container n\u00e0y v\u00e0o network <code>my-mongo-cluster</code>.</p> </li> <li> <p><code>mongo</code>: file \u1ea3nh \u0111\u1ec3 ch\u1ea1y c\u00e1c container.</p> </li> <li> <p><code>mongod --replSet my-mongo-set</code>: join mongo1 v\u00e0o replSet c\u00f3 t\u00ean <code>my-mongo-set</code>.</p> </li> <li> <p>Ok! Gi\u1edd con th\u1ee9 2 v\u00e0 th\u1ee9 3 s\u1ebd \u0111\u01b0\u1ee3c ch\u1ea1y (\u1edf \u0111\u00e2y m\u00ecnh ch\u1ea1y tr\u00ean 3 c\u1eeda s\u1ed5 terminal kh\u00e1c nhau):</p> </li> </ul> <pre><code>docker run --name mongo1 --net my-mongo-cluster mongo mongod --replSet my-mongo-set\ndocker run --name mongo2 --net my-mongo-cluster mongo mongod --replSet my-mongo-set\ndocker run --name mongo3 --net my-mongo-cluster mongo mongod --replSet my-mongo-set\n</code></pre> <ul> <li>Sau khi ch\u1ea1y ch\u00fang ta c\u00f3 th\u1ec3 th\u1ea5y log b\u00e1o ch\u01b0a config replSet:</li> </ul> <pre><code>Sessions collection is not set up; waiting until next sessions refresh interval: Replication has not yet been configured\n</code></pre> <ul> <li>C\u00f9ng ki\u1ec3m tra ip c\u00e1c container n\u00e0y \u0111\u00e3(n\u1ebfu mu\u1ed1n xem full th\u00f4ng tin network th\u00ec b\u1ecf c\u00e1i grep th\u00f4i :) ):</li> </ul> <pre><code>root:~# docker network inspect my-mongo-cluster | grep 'mongo\\|IPv4Address'\n        \"Name\": \"my-mongo-cluster\",\n                \"Name\": \"mongo3\",\n                \"IPv4Address\": \"172.21.0.4/16\",\n                \"Name\": \"mongo2\",\n                \"IPv4Address\": \"172.21.0.3/16\",\n                \"Name\": \"mongo1\",\n                \"IPv4Address\": \"172.21.0.2/16\",\n</code></pre> <ul> <li>Ok th\u1ea5y ip r\u1ed3i th\u00ec connect v\u00e0o r\u1ed3i setup replSet thoai :D. ( terminal d\u01b0\u1edbi l\u00e0 \u0111ang connect v\u00e0o mongo1 theo IP nh\u01b0 show \u1edf tr\u00ean)</li> </ul> <pre><code>root:~# mongo --host 172.21.0.2\nMongoDB shell version v4.0.16\nconnecting to: mongodb://172.21.0.2:27017/?gssapiServiceName=mongodb\nImplicit session: session { \"id\" : UUID(\"0a408390-5cb6-4972-a326-3e54011cbd17\") }\n</code></pre> <ul> <li>Th\u00eam c\u1ea5u h\u00ecnh cho replica set</li> </ul> <pre><code>&gt; config = {\n... \"_id\": \"my-mongo-set\",\n... \"members\": [\n... {\n... \"_id\": 0,\n... \"host\": \"mongo1:27017\"\n... },\n... {\n... \"_id\": 1,\n... \"host\": \"mongo2:27017\"\n... },\n... {\n... \"_id\":2,\n... \"host\": \"mongo3:27017\"\n... }\n... ]\n... }\n{\n  \"_id\" : \"my-mongo-set\",\n  \"members\" : [\n    {\n      \"_id\" : 0,\n      \"host\" : \"mongo1:27017\"\n    },\n    {\n      \"_id\" : 1,\n      \"host\" : \"mongo2:27017\"\n    },\n    {\n      \"_id\" : 2,\n      \"host\" : \"mongo3:27017\"\n    }\n  ]\n}\n</code></pre> <ul> <li>Ph\u1ea7n c\u00f2n l\u1ea1i l\u00e0 start replSet th\u00f4i. V\u1eabn \u0111ang tr\u00ean con mongo1 nh\u00e9. Sau khi start replSet n\u00f3 s\u1ebd chuy\u1ec3n tr\u1ea1ng th\u00e1i Secondary v\u00e0 ch\u1edd 1 l\u00e1t n\u00f3 s\u1ebd tr\u1edf th\u00e0nh Primary nh\u01b0 d\u01b0\u1edbi.</li> </ul> <pre><code>&gt; rs.initiate(config)\n{\n  \"ok\" : 1,\n  \"$clusterTime\" : {\n    \"clusterTime\" : Timestamp(1584870808, 1),\n    \"signature\" : {\n      \"hash\" : BinData(0,\"AAAAAAAAAAAAAAAAAAAAAAAAAAA=\"),\n      \"keyId\" : NumberLong(0)\n    }\n  },\n  \"operationTime\" : Timestamp(1584870808, 1)\n}\nmy-mongo-set:SECONDARY&gt;\nmy-mongo-set:SECONDARY&gt;\nmy-mongo-set:PRIMARY&gt;\n</code></pre> <ul> <li>Ph\u1ea7n d\u01b0\u1edbi \u0111\u00e2y l\u1ea7n l\u01b0\u1ee3t v\u1edbi con mongo2 v\u00e0 mongo3</li> </ul> <pre><code>root:~# docker network inspect my-mongo-cluster | grep 'mongo\\|IPv4Address'\n        \"Name\": \"my-mongo-cluster\",\n                \"Name\": \"mongo3\",\n                \"IPv4Address\": \"172.21.0.4/16\",\n                \"Name\": \"mongo2\",\n                \"IPv4Address\": \"172.21.0.3/16\",\n                \"Name\": \"mongo1\",\n                \"IPv4Address\": \"172.21.0.2/16\",\nroot:~# mongo --host 172.21.0.3\nMongoDB shell version v4.0.16\nconnecting to: mongodb://172.21.0.3:27017/?gssapiServiceName=mongodb\nImplicit session: session { \"id\" : UUID(\"01c176bf-58bf-4d0e-b018-564b76a0d2ca\") }\nMongoDB server version: 4.2.3\nWARNING: shell and server versions do not match\nServer has startup warnings:\n2020-03-22T09:26:44.184+0000 I  STORAGE  [initandlisten]\n2020-03-22T09:26:44.184+0000 I  STORAGE  [initandlisten] ** WARNING: Using the XFS filesystem is strongly recommended with the WiredTiger storage engine\n2020-03-22T09:26:44.184+0000 I  STORAGE  [initandlisten] **          See http://dochub.mongodb.org/core/prodnotes-filesystem\n2020-03-22T09:26:44.857+0000 I  CONTROL  [initandlisten]\n2020-03-22T09:26:44.857+0000 I  CONTROL  [initandlisten] ** WARNING: Access control is not enabled for the database.\n2020-03-22T09:26:44.858+0000 I  CONTROL  [initandlisten] **          Read and write access to data and configuration is unrestricted.\n2020-03-22T09:26:44.858+0000 I  CONTROL  [initandlisten]\n---\nEnable MongoDB's free cloud-based monitoring service, which will then receive and display\nmetrics about your deployment (disk utilization, CPU, operation statistics, etc).\n\nThe monitoring data will be available on a MongoDB website with a unique URL accessible to you\nand anyone you share the URL with. MongoDB may use this information to make product\nimprovements and to suggest MongoDB products and deployment options to you.\n\nTo enable free monitoring, run the following command: db.enableFreeMonitoring()\nTo permanently disable this reminder, run the following command: db.disableFreeMonitoring()\n---\n\nmy-mongo-set:SECONDARY&gt;\nbye\n##############################################################################################\nroot:~# mongo --host 172.21.0.4\nMongoDB shell version v4.0.16\nconnecting to: mongodb://172.21.0.4:27017/?gssapiServiceName=mongodb\nImplicit session: session { \"id\" : UUID(\"e4bf5607-ecef-450a-9b9c-9254533444b9\") }\nMongoDB server version: 4.2.3\nWARNING: shell and server versions do not match\nServer has startup warnings:\n2020-03-22T09:26:57.550+0000 I  STORAGE  [initandlisten]\n2020-03-22T09:26:57.550+0000 I  STORAGE  [initandlisten] ** WARNING: Using the XFS filesystem is strongly recommended with the WiredTiger storage engine\n2020-03-22T09:26:57.550+0000 I  STORAGE  [initandlisten] **          See http://dochub.mongodb.org/core/prodnotes-filesystem\n2020-03-22T09:26:58.232+0000 I  CONTROL  [initandlisten]\n2020-03-22T09:26:58.232+0000 I  CONTROL  [initandlisten] ** WARNING: Access control is not enabled for the database.\n2020-03-22T09:26:58.232+0000 I  CONTROL  [initandlisten] **          Read and write access to data and configuration is unrestricted.\n2020-03-22T09:26:58.232+0000 I  CONTROL  [initandlisten]\n---\nEnable MongoDB's free cloud-based monitoring service, which will then receive and display\nmetrics about your deployment (disk utilization, CPU, operation statistics, etc).\n\nThe monitoring data will be available on a MongoDB website with a unique URL accessible to you\nand anyone you share the URL with. MongoDB may use this information to make product\nimprovements and to suggest MongoDB products and deployment options to you.\n\nTo enable free monitoring, run the following command: db.enableFreeMonitoring()\nTo permanently disable this reminder, run the following command: db.disableFreeMonitoring()\n---\n\nmy-mongo-set:SECONDARY&gt;\n</code></pre> <ul> <li>C\u00f3 th\u1ec3 s\u1ebd c\u00f3 c\u00e2u h\u1ecfi t\u1ea1i sao ph\u1ea7n n\u00e0y ko th\u1ea5y expose port ra nh\u01b0 1 s\u1ed1 tutorial (?) <code>-p 30001:27017</code>. M\u00ecnh ngh\u0129 n\u1ebfu hi\u1ec3u m\u00f4 h\u00ecnh tri\u1ec3n khai b\u1ea1n s\u1ebd th\u1ea5y vi\u1ec7c expose port ra h\u01a1i th\u1eeba.</li> </ul>"},{"location":"blog/2020/03/22/mongo-replica-set-on-docker/#one-more-thing","title":"One more thing (@@)","text":"<ul> <li> <p>Ph\u1ea7n tr\u00ean \u0111\u00e3 ch\u1ea1y th\u00e0nh c\u00f4ng replica set nh\u01b0ng n\u1ebfu gom l\u1ea1i 1 file docker-compose th\u00ec s\u1ebd nhanh h\u01a1n.</p> </li> <li> <p>Note:</p> </li> </ul> <pre><code>- Do tri\u1ec3n khai th\u1ef1c t\u1ebf c\u00e1c container ch\u1ea1y instance `mongo` s\u1ebd ch\u1ea1y tr\u00ean c\u00e1c host kh\u00e1c nhau, kh\u00e1c Data center th\u1eadm ch\u00ed kh\u00e1c c\u1ea3 khu v\u1ef1c \u0111\u1ecba l\u00fd. -&gt; File docker-compose nh\u01b0 d\u01b0\u1edbi s\u1ebd sai so v\u1edbi ki\u1ebfn tr\u00fac tri\u1ec3n khai tr\u00ean trang ch\u1ee7 (ch\u1ea1y c\u00e1c node tr\u00ean c\u00f9ng 1 host ( m\u1ea5t h\u1ebft \u00fd ngh\u0129a d\u1ef1 ph\u00f2ng, s\u1eb5n s\u00e0ng cao c\u1ee7a replSet)).\n- [For production deployments](https://docs.mongodb.com/manual/tutorial/deploy-replica-set/#requirements), you should maintain as much separation between members as possible by hosting the mongod instances on separate machines. When using virtual machines for production deployments, you should place each mongod instance on a separate host server serviced by redundant power circuits and redundant network paths.\n</code></pre> <ul> <li>M\u00ecnh x\u00f3a h\u1ebft c\u00e1c container tr\u01b0\u1edbc \u0111\u00f3 \u0111\u00e3 t\u1ea1o \u0111i. Tr\u01b0\u1edbc:</li> </ul> <pre><code>root:~# docker container ls -a | grep mongo\n74a7b8a326da        mongo               \"docker-entrypoint.s\u2026\"   37 minutes ago      Exited (0) About a minute ago                       mongo3\n82b240631505        mongo               \"docker-entrypoint.s\u2026\"   37 minutes ago      Exited (0) About a minute ago                       mongo2\ndde102aa23bd        mongo               \"docker-entrypoint.s\u2026\"   38 minutes ago      Exited (0) About a minute ago                       mongo1\n</code></pre> <ul> <li>Sau:</li> </ul> <pre><code>root:~# docker container rm 74a7b8a326da 82b240631505 dde102aa23bd\n74a7b8a326da\n82b240631505\ndde102aa23bd\nroot:~# docker container ls -a | grep mongo\n</code></pre> <ul> <li>Network \u0111\u01b0\u1ee3c t\u1ea1o \u1edf tr\u00ean v\u1eabn c\u00f2n nh\u00e9:</li> </ul> <pre><code>docker network create my-mongo-cluster\n</code></pre> <ul> <li>File <code>docker-compose.yml</code> nh\u01b0 d\u01b0\u1edbi:</li> </ul> docker-compose.yml<pre><code>version: \"3.5\"\n\nservices:\n  mongo_one:\n    container_name: mongo1\n    image: mongo #should specify version mongo here\n    command: mongod --replSet my-mongo-set\n\n  mongo_two:\n    container_name: mongo2\n    image: mongo #should specify version mongo here\n    command: mongod --replSet my-mongo-set\n\n  mongo_three:\n    container_name: mongo3\n    image: mongo #should specify version mongo here\n    command: mongod --replSet my-mongo-set\n\nnetworks:\n  default:\n    external:\n      name: my-mongo-cluster\n</code></pre> <ul> <li>Gi\u1edd cd v\u00e0o th\u01b0 m\u1ee5c ch\u1ee9a file <code>dockercompose.yml</code> ch\u1ea1y l\u1ec7nh: <code>docker-compose up</code> l\u00ean th\u00f4i n\u1ebfu b\u1ecb nh\u01b0 d\u01b0\u1edbi l\u00e0 ch\u01b0a c\u00f3 quy\u1ec1n nh\u00e9. <code>sudo -s</code> l\u00ean :D</li> </ul> <pre><code>$ docker-compose up\nERROR: Couldn't connect to Docker daemon at http+docker://localhost - is it running?\n\nIf it's at a non-standard location, specify the URL with the DOCKER_HOST environment variable.\n</code></pre> <ul> <li>Ch\u00fang ta s\u1ebd c\u00f3 log ntn:</li> </ul> <pre><code># docker-compose up\nCreating mongo3 ... done\nCreating mongo2 ... done\nCreating mongo1 ... done\nAttaching to mongo3, mongo2, mongo1\n</code></pre> <ul> <li>Ki\u1ec3m tra l\u1ea1i c\u00e1c container \u0111\u00e3 ch\u1ea1y:</li> </ul> <pre><code>root:~# docker container ls -a | grep mongo\nc0805b44781a        mongo               \"docker-entrypoint.s\u2026\"   About a minute ago   Up About a minute       27017/tcp           mongo1\nf4a0f2608a5a        mongo               \"docker-entrypoint.s\u2026\"   About a minute ago   Up About a minute       27017/tcp           mongo2\na569175dd493        mongo               \"docker-entrypoint.s\u2026\"   About a minute ago   Up About a minute       27017/tcp           mongo3\n</code></pre> <ul> <li>Ki\u1ec3m tra l\u1ea1i IP v\u00e0 ch\u1ea1y c\u00e1c l\u1ec7nh config nh\u01b0 ph\u1ea7n tr\u00ean l\u00e0 ch\u00fang ta s\u1ebd c\u00f3 replSet tr\u00ean local \u0111\u1ec3 test. \u0110i\u1ec3m l\u1ee3i c\u1ee7a docker-compose l\u00e0 khi ch\u1ea1y l\u1ec7nh <code>docker-compose down</code> t\u1ef1 \u0111\u1ed9ng c\u00e1c container \u0111\u01b0\u1ee3c t\u1ea1o b\u1edfi <code>docker-compose up</code> c\u0169ng s\u1ebd b\u1ecb remove lu\u00f4n. Gom c\u00e1c c\u1ea5u h\u00ecnh v\u00e0o trong file .yml lu\u00f4n nh\u01b0 th\u1ebf ch\u00ednh x\u00e1c h\u01a1n l\u00e0 ch\u1ea1y l\u1ec7nh terminal nh\u01b0 ph\u1ea7n tr\u00ean.</li> </ul>"},{"location":"blog/2020/03/22/mongo-replica-set-on-docker/#ps","title":"P/s","text":"<ul> <li> <p>Ph\u1ea7n tr\u00ean ch\u1ec9 l\u00e0 note l\u1ea1i ph\u1ea7n t\u00ecm hi\u1ec3u c\u1ee7a m\u00ecnh v\u1ec1 mongo replica set tr\u00ean docker v\u00e0 th\u1eed ch\u1ea1y n\u00f3 v\u1edbi docker-compose. V\u1eabn c\u00f2n t\u1ed3n t\u1ea1i nhi\u1ec1u v\u1ea5n \u0111\u1ec1 c\u1ea7n ph\u1ea3i th\u1ef1c hi\u1ec7n th\u00eam tr\u01b0\u1edbc khi ch\u1ea1y product:</p> </li> <li> <p>B\u1ea3o m\u1eadt netowrk v\u1edbi docker ( ch\u1ec9 c\u00e1c host c\u1ee5 th\u1ec3 m\u1edbi truy c\u1eadp \u0111\u01b0\u1ee3c v\u00e0o c\u00e1c replica set c\u1ee7a mongo)</p> </li> <li>File docker compose n\u00ean th\u00eam 1 b\u01b0\u1edbc ch\u1ea1y t\u1ef1 \u0111\u1ed9ng c\u1ea5u h\u00ecnh - ph\u1ea7n tr\u00ean v\u1eabn \u0111ang l\u00e0m b\u1eb1ng tay( c\u00e1i n\u00e0y l\u00e0m \u0111\u01b0\u1ee3c \u0111\u00e3 th\u1ea5y tr\u00ean m\u1ea1ng c\u00f3 - nh\u01b0ng ch\u01b0a th\u1eed :D)</li> <li>\u0110\u1ecbnh l\u00e0m nodejs app nh\u1ecf test th\u1eed khi primary down v\u00e0 v\u1eabn \u0111\u1ecdc ghi \u0111\u01b0\u1ee3c sau khi 1 secondary l\u00ean.(c\u00f3 th\u1ec3 s\u1ebd b\u1ed5 sung sau)</li> <li> <p>B\u1ea3o m\u1eadt khi tri\u1ec3n khai replica set ( v\u1eabn \u0111ang `mongo --host  v\u1eabn \u0111ang v\u00e0o tho\u1ea3i m\u00e1i :D) <li> <p>Happy using docker &lt;3 and mongoDB (F)(F)(F)</p> </li>"},{"location":"blog/2020/03/27/active-learner--how-developers-keep-learning/","title":"Active Learner \u2014 How developers keep learning","text":"<ul> <li> <p>\u0110\u00e2y l\u00e0 m\u1ed9t b\u00e0i d\u1ecbch. B\u1ea3n th\u00e2n th\u1ea5y c\u00f3 \u00edch n\u00ean m\u00ecnh l\u01b0\u1ee3m l\u1eb7t l\u1ea1i. Link b\u00e0i g\u1ed1c t\u1ea1i \u0111\u00e2y</p> </li> <li> <p>V\u00e0i tu\u1ea7n tr\u01b0\u1edbc t\u00f4i \u0111\u00e3 c\u00f3 bu\u1ed5i n\u00f3i chuy\u1ec7n t\u1ea1i H\u1ed9i ngh\u1ecb th\u01b0\u1eddng ni\u00ean Geektime d\u00e0nh cho c\u00e1c b\u1ea1n Developer ch\u1ee7 \u0111\u1ec1 Active Learner. Sau h\u1ed9i ngh\u1ecb, t\u00f4i quy\u1ebft \u0111\u1ecbnh vi\u1ebft m\u1ed9t article chi ti\u1ebft v\u1ec1 ch\u1ee7 \u0111\u1ec1 n\u00e0y. B\u1ea1n c\u00f3 th\u1ec3 t\u00ecm slide v\u00e0 video. N\u0103m 2018, t\u00f4i l\u1ea1i c\u00f3 c\u01a1 h\u1ed9i trao \u0111\u1ed5i v\u1ec1 ch\u1ee7 \u0111\u1ec1 n\u00e0y t\u1ea1i H\u1ed9i ngh\u1ecb th\u01b0\u1eddng ni\u00ean Amsterdam Codemotion d\u00e0nh cho Developer.</p> </li> </ul>"},{"location":"blog/2020/03/27/active-learner--how-developers-keep-learning/#expert-beginners","title":"Expert Beginners","text":"<ul> <li> <p>Tr\u1edf th\u00e0nh Developer l\u00e0 m\u1ed9t h\u00e0nh tr\u00ecnh d\u00e0i m\u00e0 b\u1ea1n b\u1eaft \u0111\u1ea7u xu\u1ea5t ph\u00e1t ngay sau khi h\u1ecdc vi\u1ebft code v\u00e0 b\u1eaft tay v\u00e0o c\u00f4ng vi\u1ec7c \u0111\u1ea7u ti\u00ean c\u1ee7a m\u00ecnh. H\u00e0nh tr\u00ecnh n\u00e0y \u0111\u01b0\u1ee3c chia th\u00e0nh nhi\u1ec1u giai \u0111o\u1ea1n kh\u00e1c nhau v\u00e0 ai trong s\u1ed1 c\u00e1c Developer c\u0169ng \u0111\u1ec1u ph\u1ea3i tr\u1ea3i qua t\u1eeb junior, senior v\u00e0 l\u00ean expert. Tuy nhi\u00ean h\u00f4m nay t\u00f4i mu\u1ed1n \u0111\u1ec1 c\u1eadp \u0111\u1ebfn m\u1ed9t giai \u0111o\u1ea1n kh\u00e1c \u2013 m\u1ed9t giai \u0111o\u1ea1n kh\u00f3 kh\u0103n m\u00e0 kh\u00f4ng ph\u1ea3i ai c\u0169ng nh\u1eadn ra.</p> </li> <li> <p>B\u1ea1n h\u1eb3n \u0111\u00e3 g\u1eb7p \u1edf \u0111\u00e2u \u0111\u00f3 nh\u1eefng Developer tr\u00e0n \u0111\u1ea7y s\u1ef1 t\u1ef1 tin. H\u1ecd c\u00f3 th\u1ec3 m\u00f4 t\u1ea3 v\u1ec1 s\u1ea3n ph\u1ea9m m\u00ecnh \u0111ang build, gi\u1ea3i th\u00edch v\u1ec1 architecture, nh\u1eefng l\u1ee3i th\u1ebf c\u00f4ng ngh\u1ec7 v\u00e0 v\u1ea5n \u0111\u1ec1 m\u00e0 s\u1ea3n ph\u1ea9m c\u00f3 th\u1ec3 gi\u1ea3i quy\u1ebft m\u1ed9t c\u00e1ch tr\u00f4i ch\u1ea3y. Nh\u1eefng Developer n\u00e0y c\u00f3 th\u1ec3 n\u00f3i v\u1ec1 c\u00e1c tools, framework, infrastructure m\u00e0 h\u1ecd \u0111ang s\u1eed d\u1ee5ng h\u00e0ng ng\u00e0y. H\u1ecd t\u1ef1 h\u00e0o v\u1ec1 nh\u1eefng s\u1ea3n ph\u1ea9m c\u1ee7a m\u00ecnh.</p> </li> <li> <p>Nh\u01b0ng th\u1eadt ti\u1ebfc nh\u1eefng Developer n\u00e0y kh\u00f4ng th\u1ef1c s\u1ef1 hi\u1ec3u c\u00e1ch th\u1ee9c m\u1ecdi th\u1ee9 v\u1eadn h\u00e0nh! H\u1ecd kh\u00f4ng hi\u1ec3u c\u1ea5u tr\u00fac b\u00ean trong v\u00e0 c\u00e1ch nh\u1eefng tools n\u00e0y \u0111\u01b0\u1ee3c x\u00e2y d\u1ef1ng, hay c\u1ea3 nh\u1eefng nh\u01b0\u1ee3c \u0111i\u1ec3m v\u00e0 nh\u1eefng tr\u01b0\u1eddng h\u1ee3p kh\u00f4ng n\u00ean s\u1eed d\u1ee5ng nh\u1eefng tools nh\u1ea5t \u0111\u1ecbnh. H\u1ecd qu\u1ea3 quy\u1ebft r\u1eb1ng kh\u00f4ng c\u00f3 g\u00ec t\u1ed1t h\u01a1n nh\u1eefng tools m\u00ecnh \u0111ang bi\u1ebft v\u00e0 tools m\u00e0 h\u1ecd l\u1ef1a ch\u1ecdn l\u00e0 ph\u01b0\u01a1ng \u00e1n t\u1ed1i \u01b0u cho h\u1ecd v\u00e0 cho t\u1ea5t c\u1ea3 m\u1ecdi ng\u01b0\u1eddi. Nh\u1eefng Developer n\u00e0y th\u1ef1c ch\u1ea5t ch\u1ec9 l\u00e0 \u201cChuy\u00ean gia t\u1eadp s\u1ef1\u201d (Expert Beginner). H\u1ecd ngh\u0129 b\u1ea3n th\u00e2n m\u00ecnh \u0111\u00e3 tr\u1edf th\u00e0nh chuy\u00ean gia nh\u01b0ng h\u00f3a ra l\u1ea1i ch\u1ec9 v\u1eeba m\u1edbi b\u1eaft \u0111\u1ea7u.</p> </li> <li> <p>B\u00ean c\u1ea1nh \u0111\u00f3, c\u00f3 m\u1ed9t nh\u00f3m Developer s\u1edf h\u1eefu l\u1ed1i t\u01b0 duy ho\u00e0n to\u00e0n kh\u00e1c!</p> </li> <li> <p>Nh\u1eefng Developer n\u00e0y c\u00f3 th\u1ec3 gi\u1ea3i quy\u1ebft b\u1ea5t k\u1ef3 v\u1ea5n \u0111\u1ec1 n\u00e0o, hi\u1ec3u r\u00f5 c\u00e1ch m\u1ecdi th\u1ee9 v\u1eadn h\u00e0nh, c\u00e1ch x\u00e2y d\u1ef1ng v\u00e0 l\u00fd do l\u1ef1a ch\u1ecdn m\u1ed9t framework nh\u1ea5t \u0111\u1ecbnh v\u00e0 t\u1ea1i sao. H\u1ecd n\u1eafm b\u1eaft c\u00e1c xu h\u01b0\u1edbng m\u1edbi trong ng\u00e0nh nh\u01b0ng \u0111\u1ed3ng th\u1eddi c\u0169ng hi\u1ec3u l\u00fd do nh\u1eefng c\u00f4ng ngh\u1ec7 n\u00e0y \u0111\u01b0\u1ee3c \u0111\u00e1nh gi\u00e1 cao v\u00e0 t\u1ea1i sao c\u00f3 nh\u1eefng c\u00f4ng ty kh\u00f4ng n\u00ean \u00e1p d\u1ee5ng ch\u00fang.</p> </li> <li> <p>\u0110\u00f3 ch\u00ednh x\u00e1c l\u00e0 nh\u1eefng Developer m\u00e0 ch\u00fang t\u00f4i mu\u1ed1n tuy\u1ec3n d\u1ee5ng! Nh\u1eefng Developer nh\u01b0 v\u1eady kh\u00f4ng thu\u1ed9c tu\u00fdp Expert Beginner v\u00e0 h\u1ecd c\u0169ng kh\u00f4ng ph\u1ea3i m\u1ed9t chuy\u00ean gia theo c\u00e1ch n\u00e0o \u0111\u00f3. Quan tr\u1ecdng h\u01a1n c\u1ea3, h\u1ecd c\u00f3 kh\u1ea3 n\u0103ng nh\u1eadn th\u1ee9c \u0111\u01b0\u1ee3c nh\u1eefng g\u00ec m\u00ecnh \u0111ang bi\u1ebft v\u00e0 ch\u01b0a bi\u1ebft. H\u1ecd \u0111ang tr\u00ean con \u0111\u01b0\u1eddng tr\u1edf th\u00e0nh nh\u1eefng chuy\u00ean gia th\u1ef1c th\u1ee5 v\u00e0 \u0111\u1ec3 \u0111i theo con \u0111\u01b0\u1eddng n\u00e0y, h\u1ecd kh\u00f4ng ch\u1ec9 d\u1ef1a v\u00e0o l\u01b0\u1ee3ng ki\u1ebfn th\u1ee9c c\u00f3 \u0111\u01b0\u1ee3c t\u1eeb c\u00f4ng vi\u1ec7c hi\u1ec7n t\u1ea1i, nh\u1eefng s\u00e1ng ki\u1ebfn \u201cout of the box\u201d nh\u01b0ng th\u1ef1c ra v\u1eabn qu\u1ea9n quanh c\u00e1c v\u1ea5n \u0111\u1ec1 ph\u00e1t sinh th\u01b0\u1eddng nh\u1eadt. H\u1ecd ph\u1ea3i ch\u1ee7 \u0111\u1ed9ng h\u1ecdc h\u1ecfi nhi\u1ec1u h\u01a1n th\u1ebf!</p> </li> <li> <p>They are \u201cActive learners\u201d(ng\u01b0\u1eddi t\u00edch c\u1ef1c h\u1ecdc).</p> </li> </ul>"},{"location":"blog/2020/03/27/active-learner--how-developers-keep-learning/#tai-sao-ieu-nay-xay-ra","title":"T\u1ea1i sao \u0111i\u1ec1u n\u00e0y x\u1ea3y ra","text":"<ul> <li>\u0110\u1ec3 hi\u1ec3u \u0111i\u1ec1u n\u00e0y tr\u01b0\u1edbc ti\u00ean ch\u00fang ta c\u1ea7n hi\u1ec3u c\u00e1ch m\u1ed9t ng\u01b0\u1eddi h\u1ecdc m\u1ed9t k\u1ef9 n\u0103ng m\u1edbi :</li> </ul> <ul> <li> <p>\u0110\u00e2y l\u00e0 m\u1ed9t m\u00f4 h\u00ecnh \u0111\u01a1n gi\u1ea3n c\u1ee7a qu\u00e1 tr\u00ecnh ti\u1ebfp thu k\u1ef9 n\u0103ng m\u1edbi. V\u1ec1 c\u01a1 b\u1ea3n m\u00f4 h\u00ecnh ch\u1ec9 ra r\u1eb1ng \u0111\u1ec3 tr\u1edf th\u00e0nh chuy\u00ean gia, ch\u00fang ta ph\u1ea3i tr\u1ea3i qua m\u1ed9t ch\u1eb7ng \u0111\u01b0\u1eddng d\u00e0i v\u1edbi c\u00e1c giai \u0111o\u1ea1n kh\u00e1c nhau. T\u1ea1i m\u1ed7i giai \u0111o\u1ea1n ch\u00fang ta s\u1ebd ho\u00e0n thi\u1ec7n d\u1ea7n nh\u1eefng k\u1ef9 n\u0103ng m\u00ecnh \u0111ang c\u00f3, t\u1eeb \u0111\u00f3 l\u00e0m m\u1ecdi th\u1ee9 t\u1ed1t h\u01a1n. Ch\u00fang ta c\u1ed1 g\u1eafng th\u1ef1c hi\u1ec7n \u0111i\u1ec1u \u0111\u00f3 b\u1eb1ng c\u00e1ch ng\u1ea7m hi\u1ec3u r\u1eb1ng c\u00f3 m\u1ed9t b\u1ee9c tranh l\u1edbn h\u01a1n nh\u1eefng g\u00ec m\u00ecnh \u0111ang bi\u1ebft v\u00e0 \u0111i\u1ec1u c\u1ea7n l\u00e0m l\u00e0 t\u00ecm t\u00f2i, kh\u00e1m ph\u00e1 kh\u00f4ng ng\u1eebng ngh\u1ec9 \u0111\u1ec3 n\u1eafm b\u1eaft r\u00f5 h\u01a1n t\u1eebng kh\u00eda c\u1ea1nh c\u1ee7a b\u1ee9c tranh n\u00e0y v\u00e0 d\u1ea7n ho\u00e0n thi\u1ec7n m\u1ecdi th\u1ee9.</p> </li> <li> <p>T\u00f4i mu\u1ed1n t\u1eadp trung v\u00e0o giai \u0111o\u1ea1n Advanced Beginner b\u1edfi t\u1ea1i m\u1ed1c n\u00e0y, b\u1ea5t k\u1ef3 ai c\u0169ng ph\u1ea3i l\u1ef1a ch\u1ecdn 1 trong 2 ng\u00e3 r\u1ebd: (1) chuy\u1ec3n sang giai \u0111o\u1ea1n \u201cCompetent\u201d, ngh\u0129a l\u00e0 ti\u1ebfp t\u1ee5c thu n\u1ea1p th\u00eam c\u00e1c k\u1ef9 n\u0103ng c\u1ea7n thi\u1ebft, t\u00ecm hi\u1ec3u nh\u1eefng kh\u00eda c\u1ea1nh m\u1edbi c\u1ee7a m\u1ed9t b\u1ee9c tranh l\u1edbn h\u01a1n v\u00e0 x\u00e1c \u0111\u1ecbnh v\u1ecb tr\u00ed c\u1ee7a m\u00ecnh trong \u0111\u00f3; (2) \u201ct\u1ef1 x\u00e9t t\u1ed1t nghi\u1ec7p\u201d, chuy\u1ec3n sang giai \u0111o\u1ea1n Expert Beginner v\u00e0 t\u1ef1 m\u1eb7c \u0111\u1ecbnh m\u00ecnh \u0111\u00e3 \u0111\u01b0\u1ee3c t\u1ed1t nghi\u1ec7p \u1edf c\u1ea5p \u0111\u1ed9 Chuy\u00ean gia. Expert Beginner l\u00e0 m\u1ed9t giai \u0111o\u1ea1n v\u00f4 c\u00f9ng nguy hi\u1ec3m khi Developer l\u1ea7m t\u01b0\u1edfng m\u00ecnh \u0111\u00e3 tr\u1edf th\u00e0nh m\u1ed9t chuy\u00ean gia, gi\u1ea3m d\u1ea7n c\u00e1c c\u1ed1 g\u1eafng \u0111\u1ec3 c\u1ea3i thi\u1ec7n b\u1ea3n th\u00e2n hay kh\u00f4ng nh\u1eadn ra r\u1eb1ng c\u00f3 m\u1ed9t b\u1ee9c tranh l\u1edbn h\u01a1n nh\u1eefng g\u00ec h\u1ecd \u0111ang bi\u1ebft.</p> </li> </ul>"},{"location":"blog/2020/03/27/active-learner--how-developers-keep-learning/#lam-cach-nao-nhung-develop-re-theo-loi-nay-trong-khi-so-khac-thi-khong","title":"L\u00e0m c\u00e1ch n\u00e0o nh\u1eefng develop r\u1ebd theo l\u1ed1i n\u00e0y trong khi s\u1ed1 kh\u00e1c th\u00ec kh\u00f4ng?","text":""},{"location":"blog/2020/03/27/active-learner--how-developers-keep-learning/#thay-oi-cong-nghe-lien-tuc","title":"Thay \u0111\u1ed5i c\u00f4ng ngh\u1ec7 li\u00ean t\u1ee5c","text":"<ul> <li> <p>Th\u1ebf gi\u1edbi c\u1ee7a ch\u00fang ta li\u00ean t\u1ee5c d\u1ecbch chuy\u1ec3n, c\u00e1c c\u00f4ng ngh\u1ec7, framework v\u00e0 c\u00e1c tools m\u1edbi c\u0169ng xu\u1ea5t hi\u1ec7n h\u00e0ng n\u0103m. Truy t\u00ecm c\u00e1c c\u00f4ng ngh\u1ec7 m\u1edbi n\u1ed5i v\u00e0 \u1ee9ng d\u1ee5ng ch\u00fang ngay l\u1eadp t\u1ee9c \u0111\u01b0\u1ee3c xem l\u00e0 m\u1ed9t ph\u1ea3n \u1ee9ng \u201cth\u1eddi th\u01b0\u1ee3ng\u201d v\u00e0 r\u1ea5t \u201ccool ng\u1ea7u\u201d</p> </li> <li> <p>V\u1eady nh\u01b0ng, \u0111i\u1ec1u \u0111\u00f3 l\u00e0m cho vi\u1ec7c tr\u1edf th\u00e0nh m\u1ed9t chuy\u00ean gia \u0111\u00fang ngh\u0129a tr\u1edf n\u00ean kh\u00f3 kh\u0103n h\u01a1n c\u1ea3 b\u1edfi m\u1ecdi th\u1ee9 thay \u0111\u1ed5i li\u00ean t\u1ee5c. Ch\u1ea1y theo c\u00e1c c\u00f4ng ngh\u1ec7 m\u1edbi n\u1ed5i khi\u1ebfn Developer ph\u1ea3i li\u00ean t\u1ee5c chuy\u1ec3n \u0111\u1ed5i c\u00f4ng ngh\u1ec7 m\u00e0 ch\u01b0a k\u1ecbp nghi\u00ean c\u1ee9u s\u00e2u v\u00e0 master c\u00f4ng ngh\u1ec7 \u0111\u00f3.</p> </li> </ul>"},{"location":"blog/2020/03/27/active-learner--how-developers-keep-learning/#fullstack-expert","title":"Fullstack != Expert","text":"<ul> <li> <p>L\u00fd do th\u1ee9 hai l\u00e0 quan \u0111i\u1ec3m sai l\u1ea7m c\u1ee7a m\u1ed9t s\u1ed1 Developer khi \u0111\u1ed3ng ngh\u0129a Fullstack v\u1edbi Expert. T\u1ea5t nhi\u00ean th\u1ef1c t\u1ebf v\u1eabn c\u00f3 nh\u1eefng Fullstack Developer th\u1ef1c s\u1ef1 l\u00e0 chuy\u00ean gia. T\u00f4i s\u1ebd kh\u00f4ng \u0111\u1ec1 c\u1eadp \u0111\u1ebfn h\u1ecd trong tr\u01b0\u1eddng h\u1ee3p n\u00e0y.</p> </li> <li> <p>T\u00f4i mu\u1ed1n b\u00e0n t\u1edbi nh\u1eefng Developer ho\u00e0n th\u00e0nh React v\u00e0 Node tutorial, d\u1ef1ng 1 app to-do, deploy n\u00f3 b\u1eb1ng 1 c\u00fa click chu\u1ed9t tr\u00ean Heroku v\u00e0 t\u1ef1 xem m\u00ecnh l\u00e0 1 Fullstack Developer. H\u1ecd nh\u00ecn th\u1ea5y k\u1ebft qu\u1ea3 ngay l\u1eadp t\u1ee9c m\u00e0 kh\u00f4ng th\u1ef1c s\u1ef1 hi\u1ec3u v\u1ec1 \u201c\u0111i\u1ec1u k\u1ef3 di\u1ec7u\u201d \u0111\u00e3 x\u1ea3y ra, h\u1ec7 th\u1ed1ng s\u1ebd scale th\u1ebf n\u00e0o? Nh\u01b0\u1ee3c \u0111i\u1ec3m c\u1ee7a platform hi\u1ec7n t\u1ea1i? Khi n\u00e0o h\u1ecd n\u00ean hay kh\u00f4ng n\u00ean s\u1eed d\u1ee5ng platform \u0111\u00f3?</p> </li> <li> <p>Th\u00eam m\u1ed9t l\u00fd do kh\u00e1c l\u00e0 c\u00e1c Developer b\u1ecb m\u1eafc k\u1eb9t trong m\u1ed9t h\u1ec7 sinh th\u00e1i duy nh\u1ea5t su\u1ed1t m\u1ed9t th\u1eddi gian d\u00e0i \u2013 m\u1ed9t con \u0111\u01b0\u1eddng m\u00f2n m\u00e0 \u1edf \u0111\u00f3 b\u1ea1n lu\u00f4n c\u1ea3m th\u1ea5y tho\u1ea3i m\u00e1i khi l\u00e0m vi\u1ec7c trong m\u1ed9t team su\u1ed1t nhi\u1ec1u n\u0103m, ph\u00e1t tri\u1ec3n c\u00e1c t\u00ednh n\u0103ng gi\u1ed1ng nhau, fix c\u00e1c l\u1ed7i t\u01b0\u01a1ng t\u1ef1, l\u1eb7p \u0111i l\u1eb7p l\u1ea1i v\u00e0 v\u1ec1 c\u01a1 b\u1ea3n kh\u00f4ng h\u1ecdc \u0111\u01b0\u1ee3c \u0111i\u1ec1u g\u00ec m\u1edbi. M\u1ed9t d\u1ea1ng kh\u00e1c c\u1ee7a con \u0111\u01b0\u1eddng m\u00f2n n\u00e0y l\u00e0 khi b\u1ea1n thay \u0111\u1ed5i n\u01a1i l\u00e0m vi\u1ec7c, chuy\u1ec3n sang c\u00e1c c\u00f4ng ty kh\u00e1c nhau, nh\u01b0ng th\u1ef1c t\u1ebf v\u1eabn \u1edf trong c\u00f9ng m\u1ed9t h\u1ec7 sinh th\u00e1i, l\u00e0m vi\u1ec7c c\u00f9ng m\u1ed9t v\u1ecb tr\u00ed, c\u00f9ng tr\u00e1ch nhi\u1ec7m v\u00e0 s\u1eed d\u1ee5ng c\u00f9ng tools. M\u1ed9t l\u1ea7n n\u1eefa, b\u1ea1n kh\u00f4ng h\u1ecdc \u0111\u01b0\u1ee3c g\u00ec m\u1edbi m\u1ebb.</p> </li> </ul> <pre><code>10 n\u0103m kinh nghi\u1ec7m hay 10 l\u1ea7n kinh nghi\u1ec7m c\u1ee7a m\u1ed9t n\u0103m\n</code></pre> <ul> <li>C\u00f3 nh\u1eefng ng\u01b0\u1eddi nh\u00ecn qua t\u01b0\u1edfng ch\u1eebng c\u00f3 nhi\u1ec1u n\u0103m kinh nghi\u1ec7m nh\u01b0ng th\u1ef1c ra ch\u1ec9 l\u00e0 l\u1eb7p \u0111i l\u1eb7p l\u1ea1i m\u1ed9t set kinh nghi\u1ec7m c\u0169 qua nhi\u1ec1u n\u0103m. T\u00f4i \u0111\u00e3 t\u1eebng \u0111\u1ecdc CV c\u1ee7a r\u1ea5t nhi\u1ec1u Developer c\u00f3 6 hay th\u1eadm ch\u00ed 9 n\u0103m l\u00e0m vi\u1ec7c trong ng\u00e0nh, nh\u01b0ng khi n\u00f3i chuy\u1ec7n, nh\u01b0ng khi n\u00f3i chuy\u1ec7n nh\u1eefng kinh nghi\u1ec7m \u0111\u00f3 l\u1ea1i r\u1ea5t m\u1edd nh\u1ea1t gi\u1ed1ng nh\u01b0 \u0111ang n\u00f3i chuy\u1ec7n v\u1edbi m\u1ed9t Junior Developer h\u01a1n l\u00e0 m\u1ed9t Senior Developer</li> </ul>"},{"location":"blog/2020/03/27/active-learner--how-developers-keep-learning/#passive-learning","title":"Passive Learning","text":"<ul> <li> <p>\u0110i\u1ec1u cu\u1ed1i c\u00f9ng l\u00e0 trong th\u1ef1c t\u1ebf nh\u1eefng Expert Beginner ch\u1ec9 h\u1ecdc nh\u1eefng g\u00ec h\u1ecd ti\u1ebfp x\u00fac h\u00e0ng ng\u00e0y, nh\u1eefng c\u00f4ng ngh\u1ec7 v\u00e0 th\u00e1ch th\u1ee9c ph\u00e1t sinh tr\u1ef1c ti\u1ebfp trong c\u00f4ng vi\u1ec7c bu\u1ed9c h\u1ecd ph\u1ea3i h\u1ecdc \u0111\u1ec3 gi\u1ea3i quy\u1ebft. C\u00e1ch h\u1ecdc n\u00e0y th\u1ef1c s\u1ef1 gi\u1edbi h\u1ea1n b\u1edfi c\u00f3 r\u1ea5t nhi\u1ec1u gi\u1ea3i ph\u00e1p thay th\u1ebf ngo\u00e0i kia m\u00e0 nh\u1eefng Expert Beginner n\u00e0y ch\u01b0a nh\u1eadn th\u1ee9c \u0111\u01b0\u1ee3c.</p> </li> <li> <p>Khi n\u00f3i chuy\u1ec7n v\u1edbi Expert Beginner, \u0111\u1eb7t cho h\u1ecd nh\u1eefng c\u00e2u h\u1ecfi c\u00f3 chi\u1ec1u s\u00e2u, b\u1ea1n s\u1ebd th\u01b0\u1eddng nh\u1eadn \u0111\u01b0\u1ee3c nh\u1eefng c\u00e2u tr\u1ea3 l\u1eddi nh\u01b0:</p> </li> </ul> <pre><code>\"This is a `black box`\"\n\"It `magiccally` works\"\n\"That was here `before me`\"\n\"The `other team` is responsible for this\"\n\"X sucks, Y is the best, `It just is`\"\n</code></pre> <ul> <li> <p>Nh\u1eefng c\u00e2u tr\u1ea3 l\u1eddi b\u1ea1n nh\u1eadn \u0111\u01b0\u1ee3c kh\u00f4ng c\u00f3 chi\u1ec1u s\u00e2u \u0111\u01b0\u1ee3c th\u1ec3 hi\u1ec7n b\u1eb1ng qua s\u1ef1 am hi\u1ec3u v\u1ec1 nguy\u00ean l\u00fd ho\u1ea1t \u0111\u1ed9ng v\u00e0 \u0111\u00e1p \u00e1n cho c\u00e2u h\u1ecfi \u201cT\u1ea1i sao\u201d</p> </li> <li> <p>T\u1ef1u chung l\u1ea1i s\u1ef1 kh\u00e1c bi\u1ec7t quan tr\u1ecdng nh\u1ea5t gi\u1eefa Expert Beginner v\u00e0 Active Learner l\u00e0 Active Learner kh\u00f4ng c\u1ea7n bi\u1ebft h\u1ebft t\u1ea5t c\u1ea3 m\u1ecdi th\u1ee9. H\u1ecd nh\u1eadn th\u1ee9c \u0111\u01b0\u1ee3c s\u1ef1 t\u1ed3n t\u1ea1i c\u1ee7a m\u1ed9t b\u1ee9c tranh l\u1edbn h\u01a1n t\u1ea7m hi\u1ec3u bi\u1ebft c\u1ee7a h\u1ecd, kh\u00f4ng c\u00f3 g\u00ec v\u1eadn h\u00e0nh \u0111\u01a1n thu\u1ea7n, kh\u00f4ng c\u00f3 ph\u01b0\u01a1ng \u00e1n t\u1ed1i \u01b0u cho m\u1ecdi t\u00ecnh hu\u1ed1ng, m\u1ecdi th\u1ee9 \u0111\u1ec1u c\u00f3 \u01b0u v\u00e0 nh\u01b0\u1ee3c \u0111i\u1ec3m. H\u1ecd kh\u00f4ng v\u1ed9i k\u1ebft lu\u1eadn m\u00e0 mu\u1ed1n t\u00ecm hi\u1ec3u k\u1ef9 c\u00e0ng v\u00e0 hi\u1ec3u v\u1ea5n \u0111\u1ec1 m\u1ed9t c\u00e1ch s\u00e2u s\u1eafc.</p> </li> </ul>"},{"location":"blog/2020/03/27/active-learner--how-developers-keep-learning/#how-can-one-become-an-active-learner","title":"How can one become an \u201cActive Learner\u201d?","text":"<ul> <li>H\u1ecdc ch\u1ee7 \u0111\u1ed9ng- Active learning kh\u00f4ng ph\u1ea3i l\u00e0 m\u1ed9t giai \u0111o\u1ea1n m\u00e0 l\u00e0 m\u1ed9t d\u1ea1ng mindset, m\u1ed9t tr\u1ea1ng th\u00e1i c\u1ee7a t\u01b0 duy khi b\u1ea5t k\u1ef3 ai nh\u1eadn t\u1ef1 nh\u1eadn th\u1ee9c \u0111\u01b0\u1ee3c gi\u1edbi h\u1ea1n ki\u1ebfn th\u1ee9c c\u1ee7a b\u1ea3n th\u00e2n v\u00e0 k\u1ef3 v\u1ecdng t\u00ecm hi\u1ec3u nhi\u1ec1u h\u01a1n nh\u1eefng g\u00ec m\u00ecnh \u0111ang c\u00f3 \u0111\u1ec1u c\u00f3 th\u1ec3 tr\u1edf th\u00e0nh m\u1ed9t Active Learner</li> </ul> <ul> <li>D\u01b0\u1edbi \u0111\u00e2y l\u00e0 4 c\u00f4ng c\u1ee5 c\u01a1 b\u1ea3n c\u00f3 th\u1ec3 gi\u00fap b\u1ea5t k\u1ef3 Active Learner n\u00e0o \u0111\u1ea1t \u0111\u01b0\u1ee3c m\u1ee5c ti\u00eau c\u1ee7a m\u00ecnh:</li> </ul>"},{"location":"blog/2020/03/27/active-learner--how-developers-keep-learning/#read","title":"Read","text":"<ul> <li> <p>\u0110\u1ecdc s\u00e1ch l\u00e0 c\u00e1ch \u0111\u1ea7u ti\u00ean v\u00e0 d\u1ec5 nh\u1ea5t b\u1ea1n c\u00f3 th\u1ec3 s\u1eed d\u1ee5ng \u0111\u1ec3 h\u1ecdc ch\u1ee7 \u0111\u1ed9ng. H\u00e0ng ngh\u00ecn \u0111\u1ea7u s\u00e1ch, blog, videos, podcasts v\u1ec1 b\u1ea5t k\u1ef3 ch\u1ee7 \u0111\u1ec1 n\u00e0o \u0111\u1ec1u c\u00f3 s\u1eb5n tr\u00ean Internet. Ch\u00fang \u1edf \u0111\u00f3 ch\u1ec9 \u0111\u1ec3 ch\u1edd \u0111\u01b0\u1ee3c b\u1ea1n t\u00ecm ki\u1ebfm.</p> </li> <li> <p>H\u00e3y \u0111\u1ecdc v\u1ec1 nh\u1eefng g\u00ec b\u1ea1n \u0111ang bi\u1ebft, c\u1ee7ng c\u1ed1 ki\u1ebfn th\u1ee9c hi\u1ec7n t\u1ea1i, \u0111\u00e0o s\u00e2u h\u01a1n v\u00e0 th\u1ef1c s\u1ef1 hi\u1ec3u v\u1ec1 c\u00e1ch th\u1ee9c ho\u1ea1t \u0111\u1ed9ng c\u1ee7a ch\u00fang. B\u1ea1n c\u0169ng c\u1ea7n \u0111\u1ecdc v\u1ec1 nh\u1eefng g\u00ec m\u00ecnh ch\u01b0a bi\u1ebft, ng\u1eebng tin v\u00e0o \u201cmagic\u201d hay black box, thay v\u00e0o \u0111\u00f3 h\u00e3y google \u0111\u1ec3 hi\u1ec3u c\u00e1ch th\u1ee9c ho\u1ea1t \u0111\u1ed9ng c\u1ee7a ch\u00fang, \u0111\u1eebng l\u1ea5y b\u1ea5t c\u1ee9 th\u1ee9 g\u00ec b\u1ea1n \u0111\u01b0\u1ee3c trao cho.</p> </li> </ul>"},{"location":"blog/2020/03/27/active-learner--how-developers-keep-learning/#leave-your-comfort-zone","title":"Leave your comfort zone","text":"<ul> <li> <p>\u0110\u1ec3 th\u1ef1c s\u1ef1 h\u1ecdc \u0111\u01b0\u1ee3c nhi\u1ec1u \u0111i\u1ec1u m\u1edbi, ch\u00fang ta c\u1ea7n tr\u1ea3i nghi\u1ec7m nh\u1eefng \u0111i\u1ec1u m\u00ecnh ch\u01b0a bi\u1ebft v\u00e0 l\u00e0m vi\u1ec7c t\u1ea1i nh\u1eefng n\u01a1i c\u00f2n nhi\u1ec1u thi\u1ebfu s\u00f3t, ch\u00fang ta c\u1ea7n r\u1eddi kh\u1ecfi v\u00f9ng an to\u00e0n hi\u1ec7n t\u1ea1i, thay \u0111\u1ed5i m\u00f4i tr\u01b0\u1eddng v\u00e0 \u0111\u00f4i khi th\u1eadm ch\u00ed b\u1eaft \u0111\u1ea7u l\u1ea1i \u1edf m\u1ed9t n\u01a1i ho\u00e0n to\u00e0n kh\u00e1c. B\u1edfi th\u1eadt qu\u00e1 d\u1ec5 d\u00e0ng n\u1ebfu ti\u1ebfp t\u1ee5c l\u00e0m \u0111i l\u00e0m l\u1ea1i nh\u1eefng g\u00ec ch\u00fang ta \u0111\u00e3 bi\u1ebft.</p> </li> <li> <p>Ph\u00e1t tri\u1ec3n ph\u1ea7n m\u1ec1m kh\u00f4ng ph\u1ea3i l\u00e0 framework hay ng\u00f4n ng\u1eef m\u00e0 b\u1ea1n bi\u1ebft, ph\u00e1t tri\u1ec3n ph\u1ea7n m\u1ec1m l\u00e0 c\u00e1c nguy\u00ean t\u1eafc, SOLID, DRY, KISS, t\u1ef1 \u0111\u1ed9ng h\u00f3a\u2026 C\u00e1c nguy\u00ean t\u1eafc n\u00e0y l\u00e0 \u0111a n\u1ec1n t\u1ea3ng. H\u00e3y th\u1eed nh\u1eefng th\u1ee9 b\u1ea1n kh\u00f4ng quen thu\u1ed9c, nh\u1eefng tools v\u00e0 framework kh\u00e1c nhau. \u0110\u1eebng ch\u1ec9 v\u00ec ch\u00fang \u0111ang hot, nh\u01b0ng hi\u1ec3u c\u00e1ch ch\u00fang gi\u1ea3i quy\u1ebft nh\u1eefng v\u1ea5n \u0111\u1ec1 b\u1ea1n \u0111ang ph\u1ea3i \u0111\u1ed1i m\u1eb7t. H\u00e3y b\u01b0\u1edbc ra kh\u1ecfi n\u01a1i m\u00e0 m\u1ecdi th\u1ee9 \u0111\u00e3 \u0111\u01b0\u1ee3c chu\u1ea9n b\u1ecb s\u1eb5n s\u00e0ng v\u00e0 m\u1ecdi th\u1ee9 ch\u1ec9 \u0111\u01a1n gi\u1ea3n l\u00e0 \"ho\u1ea1t \u0111\u1ed9ng\" ( t\u1ee9c b\u1ea1n kh\u00f4ng hi\u1ec3u n\u00f3 ho\u1ea1t \u0111\u1ed9ng nh\u01b0 th\u1ebf n\u00e0o ?).</p> </li> </ul> <pre><code>H\u00e3y th\u1eed t\u1ef1 t\u1ea1o ra magic box v\u00e0 black box\n</code></pre> <ul> <li>B\u1ea1n s\u1ebd nh\u1eadn ra r\u1eb1ng c\u00e1c ng\u00f4n ng\u1eef, framework, tools \u0111\u1ec1u c\u00f3 chung nh\u1eefng principles nh\u1ea5t \u0111\u1ecbnh. T\u00ecm t\u00f2i, kh\u00e1m ph\u00e1 nhi\u1ec1u l\u1ea7n m\u1ed9t v\u1ea5n \u0111\u1ec1 s\u1ebd c\u1ee7ng c\u1ed1 kh\u1ea3 n\u0103ng hi\u1ec3u bi\u1ebft v\u00e0 b\u1ea1n c\u00f3 th\u1ec3 \u1ee9ng d\u1ee5ng ch\u00fang \u1edf b\u1ea5t k\u1ef3 \u0111\u00e2u.</li> </ul>"},{"location":"blog/2020/03/27/active-learner--how-developers-keep-learning/#share-your-knowledge-write","title":"Share Your Knowledge\u200a\u2014\u200aWrite","text":"<ul> <li>Vi\u1ebft kh\u00f4ng ph\u1ea3i l\u00e0 m\u1ed9t \u0111i\u1ec1u d\u1ec5 d\u00e0ng. B\u1ea1n kh\u00f4ng th\u1ec3 chia s\u1ebb m\u1ed9t n\u1eeda s\u1ef1 th\u1eadt hay tr\u00ecnh b\u00e0y m\u1ed9t v\u1ea5n \u0111\u1ec1 n\u1ebfu ch\u01b0a hi\u1ec3u r\u00f5 r\u00e0ng v\u1ec1 n\u00f3. Vi\u1ebft v\u1ec1 b\u1ea5t k\u1ef3 ch\u1ee7 \u0111\u1ec1 n\u00e0o c\u0169ng s\u1ebd khi\u1ebfn b\u1ea1n hi\u1ec3u s\u00e2u s\u1eafc h\u01a1n. B\u1ea1n c\u00f3 th\u1ec3 k\u1ec3 m\u1ed9t c\u00e2u chuy\u1ec7n, m\u1edf \u0111\u1ea7u m\u1ed9t cu\u1ed9c th\u1ea3o lu\u1eadn v\u00e0 gi\u1ea3i th\u00edch t\u1ea1i sao c\u00f4ng ngh\u1ec7 \u0111\u00f3 l\u1ea1i tuy\u1ec7t v\u1eddi v\u1edbi m\u1ecdi ng\u01b0\u1eddi. Kh\u1ea3 n\u0103ng vi\u1ebft l\u00e1ch kh\u00f4ng ch\u1ec9 h\u1eefu \u00edch khi b\u1ea1n \u0111\u1eb7t b\u00fat vi\u1ebft m\u00e0 c\u00f2n t\u1ecf ra h\u1eefu hi\u1ec7u n\u1ebfu b\u1ea1n c\u1ea7n chia s\u1ebb quan \u0111i\u1ec3m c\u1ee7a b\u1ea3n th\u00e2n. Vi\u1ebft c\u00e0ng nhi\u1ec1u, kh\u1ea3 n\u0103ng vi\u1ebft l\u00e1ch c\u1ee7a b\u1ea1n c\u00e0ng \u0111\u01b0\u1ee3c m\u00e0i d\u0169a. \u0110\u00e2y l\u00e0 m\u1ed9t trong nh\u1eefng l\u00fd do khi\u1ebfn t\u00f4i l\u1eadp blog \u0111\u1ec3 vi\u1ebft v\u1ec1 c\u00e1c ch\u1ee7 \u0111\u1ec1 kh\u00e1c nhau v\u00e0 t\u00f4i bu\u1ed9c t\u00f4i ph\u1ea3i t\u00ecm hi\u1ec3u cho \u0111\u1ebf khi th\u1ef1c s\u1ef1 hi\u1ec3u ch\u00fang tr\u01b0\u1edbc khi chia s\u1ebb l\u1ea1i v\u1edbi th\u1ebf gi\u1edbi.</li> </ul>"},{"location":"blog/2020/03/27/active-learner--how-developers-keep-learning/#after-school-activities","title":"After School Activities","text":"<ul> <li> <p>H\u1ecdc th\u1ee5 \u0111\u1ed9ng trong c\u00f4ng vi\u1ec7c l\u00e0 m\u1ed9t b\u1ee9c t\u01b0\u1eddng trong su\u1ed1t, \u00edt ai nh\u1eadn ra. C\u00f3 nhi\u1ec1u c\u00e1ch kh\u00e1c \u0111\u1ec3 n\u00e2ng cao kinh nghi\u1ec7m c\u1ee7a m\u00ecnh. Nh\u1eefng Active Learner s\u1eed d\u1ee5ng th\u1eddi gian sau gi\u1edd l\u00e0m vi\u1ec7c \u0111\u1ec3 h\u1ecdc nh\u1eefng th\u1ee9 m\u00e0 c\u00f4ng vi\u1ec7c c\u1ee7a h\u1ecd kh\u00f4ng th\u1ec3 cung c\u1ea5p. H\u00e3y meet up, \u0111i g\u1eb7p g\u1ee1 nh\u1eefng ng\u01b0\u1eddi s\u1eed d\u1ee5ng c\u00f9ng lo\u1ea1i tool hay nh\u1eefng ng\u01b0\u1eddi \u0111ang gi\u1ea3i quy\u1ebft v\u1ea5n \u0111\u1ec1 t\u01b0\u01a1ng t\u1ef1 nh\u01b0 b\u1ea1n \u0111\u1ec3 xem c\u00e1ch h\u1ecd \u0111ang x\u1eed l\u00fd m\u1ecdi th\u1ee9 v\u00e0 h\u1ecdc h\u1ecfi t\u1eeb h\u1ecd. H\u00e3y th\u1eed \u0111\u00f3ng g\u00f3p cho open source, xem qua m\u1ed9t s\u1ed1 d\u1ef1 \u00e1n tr\u00ean open source m\u00e0 b\u1ea1n y\u00eau th\u00edch, gi\u00fap \u0111\u1ee1 h\u1ecd, gi\u1ea3i quy\u1ebft v\u1ea5n \u0111\u1ec1 ho\u1eb7c th\u00eam m\u1ed9t t\u00ednh n\u0103ng. \u0110\u00f3ng g\u00f3p cho open source s\u1ebd n\u00e2ng c\u00e1c k\u1ef9 n\u0103ng c\u1ee7a b\u1ea1n cao h\u01a1n b\u1ea1n ngh\u0129.</p> </li> <li> <p>V\u00e0 th\u1ef1c s\u1ef1, ch\u1ec9 c\u1ea7n m\u1edf m\u00e1y t\u00ednh v\u00e0 code, code b\u1ea5t c\u1ee9 \u0111i\u1ec1u g\u00ec b\u1ea1n mu\u1ed1n v\u00e0 b\u1ea5t c\u1ee9 \u0111i\u1ec1u g\u00ec b\u1ea1n \u0111am m\u00ea. M\u1ed7i khi b\u1ea1n develop m\u1ed9t th\u1ee9 g\u00ec \u0111\u00f3 m\u00e0 b\u1ea1n \u0111\u00e3 t\u1eebng xem l\u00e0 \u0111i\u1ec1u k\u1ef3 di\u1ec7u hay black box, b\u1ea1n \u0111\u00e3 c\u1ee7ng c\u1ed1 k\u1ef9 n\u0103ng v\u00e0 hi\u1ec3u bi\u1ebft c\u1ee7a m\u00ecnh. \u0110\u1eebng qu\u00ean t\u00ecm hi\u1ec3u khi n\u00e0o n\u00ean s\u1eed d\u1ee5ng nh\u1eefng tools \u0111\u00f3, khi n\u00e0o th\u00ec kh\u00f4ng nh\u00e9!</p> </li> </ul> <pre><code>\"I hear and I forget.\nI see and I remember.\nI DO AND I UNDERSTAND\"\n        - Nho gi\u00e1o -\n</code></pre>"},{"location":"blog/2020/03/27/active-learner--how-developers-keep-learning/#one-more-thing","title":"One more thing","text":"<ul> <li>H\u00e3y l\u1eb7p \u0111i l\u1eb7p l\u1ea1i c\u00e1c b\u01b0\u1edbc tr\u00ean. N\u00f3 l\u00e0 m\u1ed9t ch\u1eb7ng \u0111\u01b0\u1eddng d\u00e0i, nh\u01b0ng n\u00f3 \u0111ang gi\u00e1.</li> </ul>"},{"location":"blog/2020/03/27/active-learner--how-developers-keep-learning/#happy-active-learning","title":"Happy active learning!","text":""},{"location":"blog/2020/04/04/how-to-make-money-with-code/","title":"How to make money with code","text":"<ul> <li> <p>B\u00e0i g\u1ed1c \u1edf \u0111\u00e2y b\u00e0i n\u00e0y c\u00f3 c\u00e2u m\u1edf \u0111\u1ea7u t\u1ea1o \u0111\u1ed9ng l\u1ef1c n\u00ean quy\u1ebft \u0111\u1ecbnh d\u1ecbch lu\u00f4n c\u1ea3 b\u00e0i ^^!</p> </li> <li> <p>Bi\u1ebft code l\u00e0 m\u1ed9t k\u1ef9 n\u0103ng th\u1ef1c s\u1ef1 c\u00f3 gi\u00e1 tr\u1ecb c\u00f3 th\u1ec3 gi\u00fap b\u1ea1n ki\u1ebfm \u0111\u01b0\u1ee3c r\u1ea5t nhi\u1ec1u ti\u1ec1n. Ngo\u00e0i kia c\u00f3 h\u1eb1ng h\u00e0 sa s\u1ed1 c\u00e1ch t\u1ea1o ra ti\u1ec1n v\u1edbi code. Th\u1ee9 duy nh\u1ea5t gi\u1edbi h\u1ea1n c\u01a1 h\u1ed9i ki\u1ebfm ti\u1ec1n v\u1edbi code l\u00e0..\u00f3c s\u00e1ng t\u1ea1o c\u1ee7a b\u1ea1n (c\u00e2u m\u1edf \u0111\u1ea7u nghe \u0111\u00e3 hay ^^!).</p> </li> </ul> <ul> <li> <p>Ph\u1ea7n l\u1edbn c\u00e1c developer \u0111\u01b0\u1ee3c kh\u01a1i ngu\u1ed3n c\u1ea3m h\u1ee9ng t\u1eeb c\u00e1c c\u00f4ng ty start up th\u00e0nh c\u00f4ng ch\u1ec9 v\u1edbi m\u1ed9t developer v\u00e0 m\u1ed9t \u00fd t\u01b0\u1edfng. \u0110\u00f3 c\u0169ng l\u00e0 nh\u1eefng g\u00ec m\u00e0 c\u00e1c nh\u00e0 ph\u00e1t tri\u1ec3n mong mu\u1ed1n \u0111\u1ea1t \u0111\u01b0\u1ee3c.</p> </li> <li> <p>Tuy nhi\u00ean c\u1ed1 g\u1eafng x\u00e2y d\u1ef1ng m\u1ed9t Facebook hay Uber th\u1ee9 hai s\u1ebd kh\u00f4ng c\u00f3 l\u1ee3i cho b\u1ea1n (\u00fd kh\u00f3 thay v\u00ec th\u1ebf h\u00e3y t\u1eadp trung c\u00e1i b\u00e9 tr\u01b0\u1edbc). B\u1edfi v\u1eady h\u00e3y c\u1ed1 g\u1eafng t\u1eadp trung v\u00e0o nh\u1eefng th\u1ee9 d\u1ec5 d\u00e0ng h\u01a1n v\u00e0 th\u1ef1c t\u1ebf h\u01a1n \u0111\u1ec3 ki\u1ebfm ti\u1ec1n b\u1eb1ng code.</p> </li> <li> <p>\u0110\u00f3 l\u00e0 l\u00fd do t\u1ea1i sao ch\u00fang ta s\u1ebd \u0111i qua m\u01b0\u1eddi c\u00e1ch d\u1ec5 d\u00e0ng v\u00e0 \u0111\u01a1n gi\u1ea3n h\u01a1n \u0111\u1ec3 ki\u1ebfm ti\u1ec1n v\u1edbi code trong b\u00e0i n\u00e0y.</p> </li> </ul>"},{"location":"blog/2020/04/04/how-to-make-money-with-code/#help-a-local-business","title":"Help a local business","text":"<ul> <li> <p>M\u1ed9t l\u1ef1a ch\u1ecdn d\u1ec5 d\u00e0ng nh\u1ea5t l\u00e0 h\u1ecfi gia \u0111\u00ecnh b\u1ea1n b\u00e8. T\u00ecm ra m\u1ed9t v\u00e0i ng\u01b0\u1eddi c\u00f3 kinh doanh nh\u1ecf v\u00e0 c\u1ea7n m\u1ed9t website hay ph\u00e1t tri\u1ec3n website s\u1eb5n c\u00f3 c\u1ee7a h\u1ecd.</p> </li> <li> <p>N\u1ebfu b\u1ea1n ch\u1ec9 v\u1eeba b\u1eaft \u0111\u1ea7u nh\u01b0 m\u1ed9t developer v\u00e0 \u0111\u00e2y l\u00e0 d\u1ef1 \u00e1n \u0111\u01b0\u1ee3c tr\u1ea3 ph\u00ed \u0111\u1ea7u ti\u00ean c\u1ee7a b\u1ea1n, th\u00ec b\u1ea1n n\u00ean xem x\u00e9t t\u1edbi vi\u1ec7c th\u1ef1c hi\u1ec7n c\u00f4ng vi\u1ec7c \u0111\u00f3 m\u1ed9t c\u00e1ch mi\u1ec5n ph\u00ed. B\u1ea1n c\u00f3 th\u1ec3 th\u00eam n\u00f3 v\u00e0o CV c\u1ee7a m\u00ecnh v\u00e0 cho nh\u00e0 tuy\u1ec3n d\u1ee5ng xem n\u0103ng l\u1ef1c c\u1ee7a m\u00ecnh.</p> </li> <li> <p>M\u1ed9t khi b\u1ea1n th\u00e0nh c\u00f4ng v\u1edbi c\u00f4ng vi\u1ec7c \u0111\u1ea7u ti\u00ean n\u00e0y, b\u1ea1n n\u00ean nh\u1edd kh\u00e1ch h\u00e0ng gi\u1edbi thi\u1ec7u n\u1ebfu h\u1ecd bi\u1ebft b\u1ea5t k\u1ef3 ai c\u1ea7n t\u1edbi d\u1ecbch v\u1ee5 c\u1ee7a b\u1ea1n. \u0110\u00e2y l\u00e0 c\u00e1ch b\u1eaft \u0111\u1ea7u x\u00e2y d\u1ef1ng m\u1ea1ng l\u01b0\u1edbi kh\u00e1ch h\u00e0ng.</p> </li> <li> <p>N\u1ebfu b\u1ea1n th\u1ef1c s\u1ef1 mu\u1ed1n ch\u1ee7 \u0111\u1ed9ng, b\u1ea1n c\u00f3 th\u1ec3 b\u1eaft \u0111\u1ea7u t\u00ecm ki\u1ebfm l\u00e0m c\u00e1c website nh\u1ecf cho c\u00e1c doanh nghi\u1ec7p trong khu v\u1ef1c c\u1ee7a b\u1ea1n. H\u00e3y b\u1eaft \u0111\u1ea7u v\u1edbi m\u1ed9t thi\u1ebft k\u1ebf t\u1ed1t h\u01a1n, t\u1ea1o ra m\u1ed9t ph\u1ea7n website tr\u01b0\u1edbc. \u0110\u1eebng ch\u1ec9 \u0111\u1ebfn v\u00e0 h\u1ecfi li\u1ec7u h\u1ecd c\u00f3 c\u1ea7n m\u1ed9t website m\u1edbi kh\u00f4ng? v\u00ec c\u00e2u tr\u1ea3 l\u1eddi s\u1ebd lu\u00f4n lu\u00f4n g\u1ea7n nh\u01b0 l\u00e0 kh\u00f4ng. H\u00e3y t\u1ea1o ra m\u1ed9t ph\u1ea7n website tr\u01b0\u1edbc.</p> </li> </ul>"},{"location":"blog/2020/04/04/how-to-make-money-with-code/#blogging","title":"Blogging","text":"<ul> <li> <p>B\u1ea1n c\u00f3 th\u1ec3 lu\u00f4n lu\u00f4n b\u1eaft \u0111\u1ea7u v\u1edbi m\u1ed9t blog v\u1ec1 l\u1eadp tr\u00ecnh. C\u00f3 nhi\u1ec1u c\u00e1ch \u0111\u1ec3 ki\u1ebfm ti\u1ec1n t\u1eeb blog nh\u01b0 l\u00e0 m\u1ed9t l\u1eadp tr\u00ecnh vi\u00ean, bao g\u1ed3m c\u1ea3 k\u1ef9 n\u0103ng code tr\u1ef1c tuy\u1ebfn ho\u1eb7c c\u00e1c \u0111\u01b0\u1eddng link li\u00ean k\u1ebft. Tuy nhi\u00ean, b\u1ea1n n\u00ean b\u1eaft \u0111\u1ea7u post b\u00e0i tr\u00ean Medium tr\u01b0\u1edbc.</p> </li> <li> <p>N\u1ebfu ni\u1ec1m \u0111am m\u00ea c\u1ee7a b\u1ea1n l\u00e0 vi\u1ebft l\u00e1ch, t\u00f4i r\u1ea5t khuy\u1ebfn kh\u00edch b\u1ea1n b\u1eaft \u0111\u1ea7u vi\u1ebft blog. N\u00f3 c\u0169ng l\u00e0 m\u1ed9t c\u00e1ch tuy\u1ec7t v\u1eddi \u0111\u1ec3 chia s\u1ebb ki\u1ebfn th\u1ee9c c\u1ee7a m\u00ecnh v\u1edbi m\u1ecdi ng\u01b0\u1eddi.</p> </li> <li> <p>B\u1ea1n c\u00f3 th\u1ec3 b\u1eaft \u0111\u1ea7u blog v\u1edbi c\u00e1c b\u00e0i vi\u1ebft h\u01b0\u1edbng d\u1eabn l\u1eadp tr\u00ecnh v\u1ec1 nh\u1eefng g\u00ec m\u00ecnh \u0111ang h\u1ecdc ho\u1eb7c \u0111\u00e3 h\u1ecdc. Gi\u1eef ti\u1ebfn \u0111\u1ed9 th\u01b0\u1eddng xuy\u00ean.</p> </li> </ul>"},{"location":"blog/2020/04/04/how-to-make-money-with-code/#app-development","title":"App development","text":"<ul> <li> <p>C\u00e1c \u1ee9ng d\u1ee5ng c\u00f3 ti\u1ec1m n\u0103ng t\u1ea1o ra r\u1ea5t nhi\u1ec1u ti\u1ec1n. Nh\u01b0ng c\u00f3 m\u1ed9t v\u1ea5n \u0111\u1ec1 l\u1edbn \u1edf \u0111\u00e2y, \u0111\u1ec3 t\u1ea1o ra ti\u1ec1n v\u1edbi c\u00e1c \u1ee9ng d\u1ee5ng, b\u1ea1n c\u1ea7n ph\u1ea3i c\u00f3 m\u1ed9t \u00fd t\u01b0\u1edfng tuy\u1ec7t v\u1eddi. N\u1ebfu \u00fd t\u01b0\u1edfng t\u1ed3i, kh\u1ea3 n\u0103ng b\u1ea1n s\u1ebd ch\u1eb3ng ki\u1ebfm \u0111\u01b0\u1ee3c g\u00ec \u0111\u00e2u.</p> </li> <li> <p>V\u00ed d\u1ee5 t\u1ed1t nh\u1ea5t \u1edf \u0111\u00e2y l\u00e0 Flappy Bird. \u1ee8ng d\u1ee5ng c\u00f3 th\u1ec3 \u0111\u01b0\u1ee3c t\u1ea1o ra b\u1edfi m\u1ed9t \u0111\u1ee9a tr\u1ebb ch\u1ec9 13 tu\u1ed5i, v\u00ec n\u00f3 kh\u00f4ng qu\u00e1 ph\u1ee9c t\u1ea1p. Th\u1ef1c t\u1ebf, n\u00f3 c\u00f3 th\u1ec3 l\u00e0 m\u1ed9t project kh\u1edfi \u0111\u1ea7u cho b\u1ea1n nesu b\u1ea1n l\u00e0 m\u1edbi l\u00e0 m\u1ed9t l\u1eadp tr\u00ecnh game. Tuy nhi\u00ean, \u00fd t\u01b0\u1edfng v\u1ec1 Flappy Bird th\u1ef1c t\u1ebf l\u1ea1 r\u1ea5t tuy\u1ec7t v\u1eddi. B\u00e1o c\u00e1o ch\u1ec9 ra r\u1eb1ng 50k $ m\u1ed9t ng\u00e0y l\u00e0 s\u1ed1 ti\u1ec1n Flappy Bird ki\u1ebfm \u0111\u01b0\u1ee3c nh\u1edd qu\u1ea3ng c\u00e1o.</p> </li> <li> <p>L\u01b0u \u00fd c\u00e1c \u1ee9ng d\u1ee5ng h\u1ea7u h\u1ebft ch\u1ec9 t\u1ea1o ra ti\u1ec1n trong m\u1ed9t kho\u1ea3ng th\u1eddi gian ng\u1eafn thay v\u00ec trong m\u1ed9t th\u1eddi gian d\u00e0i.</p> </li> </ul>"},{"location":"blog/2020/04/04/how-to-make-money-with-code/#create-a-theme-ai-chu-khong-cai-nay-khong-danh-cho-minh-d","title":"Create a theme (ai ch\u1ee9 kh\u00f4ng c\u00e1i n\u00e0y kh\u00f4ng d\u00e0nh cho m\u00ecnh :D )","text":"<ul> <li> <p>Ngo\u00e0i kia c\u00f3 r\u1ea5t nhi\u1ec1u ng\u01b0\u1eddi s\u1edf h\u1eefu website nh\u01b0ng kh\u00f4ng bi\u1ebft t\u00fd n\u00e0o v\u1ec1 code. H\u1ecd th\u01b0\u1eddng s\u1eed d\u1ee5ng gi\u1ea3i ph\u00e1p nh\u01b0 Wordpress. V\u00ec h\u1ecd kh\u00f4ng bi\u1ebft code n\u00ean h\u1ecd kh\u00f4ng bi\u1ebft r\u1eb1ng website c\u00f3 th\u1ec3 thay \u0111\u1ed5i so v\u1edbi c\u1ea5u h\u00ecnh ban \u0111\u1ea7u n\u1ebfu h\u1ecd bi\u1ebft \u0111i\u1ec1u ch\u1ec9nh. V\u00ec v\u1eady h\u1ecd mua c\u00e1c theme c\u00f3 tr\u00ean th\u1ecb tr\u01b0\u1eddng.</p> </li> <li> <p>V\u00e0 \u0111\u00f3 l\u00e0 c\u01a1 h\u1ed9i tuy\u1ec7t v\u1eddi cho c\u00e1c l\u1eadp tr\u00ecnh vi\u00ean nh\u01b0 ch\u00fang ta. B\u1ea1n c\u00f3 th\u1ec3 t\u1ea1o ra theme v\u00e0 b\u00e1n n\u00f3 tr\u00ean th\u1ecb tr\u01b0\u1eddng nh\u01b0 <code>themeforest</code>. Khi b\u1ea1n t\u1ea1o ra theme b\u1ea1n c\u00f3 c\u01a1 h\u1ed9i b\u00e1n n\u00f3 cho h\u00e0ng tri\u1ec7u ng\u01b0\u1eddi tr\u00ean to\u00e0n th\u1ebf gi\u1edbi.</p> </li> <li> <p>B\u1ea1n c\u0169ng c\u00f3 th\u1ec3 t\u1ea1o ra theme cho Drupal hay Joomla n\u1ebfu b\u1ea1n th\u00edch ch\u00fang. Nh\u01b0ng l\u01b0u \u00fd r\u1eb1ng Wordpress th\u00ec \u0111ang ph\u1ed5 bi\u1ebfn nh\u1ea5t hi\u1ec7n nay.</p> </li> </ul>"},{"location":"blog/2020/04/04/how-to-make-money-with-code/#freelancing","title":"Freelancing","text":"<ul> <li> <p>Th\u1eadt d\u1ec5 d\u00e0ng \u0111\u1ec3 cung c\u1ea5p c\u00e1c k\u1ef9 n\u0103ng v\u00e0 d\u1ecbch v\u1ee5 v\u1ec1 l\u1eadp tr\u00ecnh tr\u1ef1c tuy\u1ebfn c\u1ee7a b\u1ea1n. C\u00f3 nhi\u1ec1u n\u1ec1n t\u1ea3ng freelancing, h\u00e3y t\u00ecm m\u1ed9t n\u1ec1n t\u1ea3ng th\u00edch h\u1ee3p cho m\u00ecnh.</p> </li> <li> <p>Freelancing \u0111i k\u00e8m v\u1edbi h\u00e0ng t\u00e1 l\u1ee3i \u00edch c\u1ee7a n\u00f3: \u1edf \u0111\u00e2u, khi n\u00e0o b\u1ea1n s\u1ebd l\u00e0m vi\u1ec7c :D. (Covid19 ae l\u00e0m remote \u1edf nh\u00e0 ch\u1eafc hi\u1ec3u m\u1ed9t ph\u1ea7n :D). H\u01a1n h\u1ebft b\u1ea1n c\u00f3 th\u1ec3 ph\u00e1t tri\u1ec3n k\u0129 n\u0103ng l\u1eadp tr\u00ecnh c\u1ee7a m\u00ecnh tr\u00ean c\u00e1c n\u1ec1n t\u1ea3ng freelancing n\u00e0y. Khi b\u1ea1n \u0111\u00e3 b\u1eaft \u0111\u1ea7u c\u00f3 danh ti\u1ebfng b\u1ea1n c\u00f3 th\u1ec3 ki\u1ebfm \u0111\u01b0\u1ee3c m\u1ed9t kho\u1ea3n ti\u1ec1n kha kh\u00e1.</p> </li> <li> <p>L\u01b0u \u00fd m\u1ed9t \u0111i\u1ec1u: t\u1ef7 l\u1ec7 c\u1ea1nh tranh tr\u00ean c\u00e1c n\u1ec1n t\u1ea3ng n\u00e0y r\u1ea5t cao. N\u1ebfu ch\u1ec9 m\u1edbi b\u1eaft \u0111\u1ea7u, \u0111\u1eebng \u0111\u1ebfn v\u00ec ti\u1ec1n, h\u00e3y \u0111\u1ebfn v\u00ec kinh nghi\u1ec7m v\u00e0 tho\u1ea3i m\u00e1i l\u00e0m vi\u1ec7c v\u1edbi kh\u00e1ch h\u00e0ng.</p> </li> </ul>"},{"location":"blog/2020/04/04/how-to-make-money-with-code/#create-a-wordpress-plugin","title":"Create a Wordpress Plugin","text":"<ul> <li> <p>L\u01b0\u1ee3ng l\u1edbn c\u00e1c trang web \u0111\u01b0\u1ee3c ph\u00e1t tri\u1ec3n t\u1eeb Wordpress - ( kho\u1ea3ng 35% :o ). \u0110i\u1ec1u n\u00e0y \u0111\u1ed3ng ngh\u0129a c\u00e1c plugin cho Wordpress l\u00e0 m\u1ed9t nhu c\u1ea7u l\u1edbn.</p> </li> <li> <p>N\u1ebfu b\u1ea1n l\u00e0 m\u1ed9t developer v\u1edbi m\u1ed9t ch\u00fat th\u1eddi gian r\u1ea3nh, x\u00e2y d\u1ef1ng m\u1ed9t plugin Wordpress c\u00f3 th\u1ec3 l\u00e0 m\u1ed9t c\u00e1ch tuy\u1ec7t v\u1eddi ki\u1ebfm ti\u1ec1n t\u1eeb nh\u00e0. V\u00e0 tin t\u1ed1t l\u00e0 n\u00f3 kh\u00e1 d\u1ec5 \u0111\u1ec3 b\u1eaft \u0111\u1ea7u.</p> </li> <li> <p>\u00dd t\u01b0\u1edfng t\u1ed1t cho c\u00e1c plugin c\u00f3 th\u1ec3 xu\u1ea5t ph\u00e1t t\u1eeb s\u1ef1 th\u1ea5t v\u1ecdng v\u00e0 h\u1ea1n ch\u1ebf c\u1ee7a c\u00e1c c\u00f4ng c\u1ee5 hi\u1ec7n c\u00f3. Tuy nhi\u00ean b\u1ea1n v\u1eabn c\u00f3 th\u1ec3 l\u00e0m b\u1ea5t c\u1ee9 th\u1ee9 g\u00ec b\u1ea1n mu\u1ed1n :D</p> </li> <li> <p>B\u1ea1n c\u00f3 th\u1ec3 ch\u1ecdn l\u00e0m n\u00f3 mi\u1ec5n ph\u00ed v\u00e0 ki\u1ebfm ti\u1ec1n t\u1eeb qu\u1ea3ng c\u00e1o ho\u1eb7c donate. Tuy nhi\u00ean b\u1ea1n c\u0169ng c\u00f3 th\u1ec3 \u0111\u1ecbnh h\u01b0\u1edbng ng\u01b0\u1eddi d\u00f9ng : m\u1ed9t b\u1ea3n d\u00f9ng mi\u1ec5n ph\u00ed v\u00e0 m\u1ed9t b\u1ea3n tr\u1ea3 ph\u00ed v\u1edbi \u0111\u1ea7y \u0111\u1ee7 t\u00ednh n\u0103ng. \u0110\u00e2y l\u00e0 c\u00e1ch ph\u1ed5 bi\u1ebfn \u0111\u1ec3 t\u1ea1o ra ti\u1ec1n t\u1eeb code ;).</p> </li> </ul>"},{"location":"blog/2020/04/04/how-to-make-money-with-code/#podcast","title":"Podcast","text":"<ul> <li> <p>M\u1ed9t c\u00e1ch thay th\u1ebf hay ho kh\u00e1c d\u00e0nh cho nh\u1eefng ai kh\u00f4ng th\u00edch ng\u1ed3i tr\u01b0\u1edbc camera nh\u01b0ng v\u1eabn c\u00f3 th\u1ec3 chia s\u1ebb ki\u1ebfn th\u1ee9c v\u1edbi nh\u1eefng ng\u01b0\u1eddi kh\u00e1c. N\u1ebfu b\u1ea1n l\u00e0 m\u1ed9t chuy\u00ean gia trong l\u0129nh v\u1ef1c c\u1ee7a m\u00ecnh nh\u01b0ng c\u00f3 ch\u00fat ng\u1ea1i ng\u00f9ng tr\u01b0\u1edbc camera, podcast l\u00e0 c\u00e1ch \u0111\u1ec3 b\u1ea1n truy\u1ec1n \u0111i th\u00f4ng \u0111i\u1ec7p c\u1ee7a m\u00ecnh.</p> </li> <li> <p>V\u00e0 \u0111i\u1ec1u t\u1ed1t v\u1ec1 podcast l\u00e0 ch\u00fang ng\u00e0y c\u00e0ng tr\u1edf n\u00ean ph\u1ed5 bi\u1ebfn. C\u1ea3 t\u1ef7 ng\u01b0\u1eddi l\u1eafng nghe podcast trong khi h\u1ecd \u0111ang l\u00e0m vi\u1ec7c ho\u1eb7c tr\u01b0\u1edbc khi \u0111i ng\u1ee7.</p> </li> <li> <p>Tuy nhi\u00ean, n\u00ean bi\u1ebft r\u1eb1ng podcast th\u00ec th\u01b0\u1eddng ho\u00e0n to\u00e0n mi\u1ec5n ph\u00ed \u0111\u1ec3 nghe, v\u00ec v\u1eady ch\u01b0a n\u00ean k\u1ef3 v\u1ecdng nhi\u1ec1u v\u00e0o vi\u1ec7c ki\u1ebfm ti\u1ec1n. Coi vi\u1ec7c podcast nh\u01b0 m\u1ed9t c\u00e1ch x\u00e2y d\u1ef1ng th\u01b0\u01a1ng hi\u1ec7u c\u00e1 nh\u00e2n th\u00ec t\u1ed1t h\u01a1n.</p> </li> </ul>"},{"location":"blog/2020/04/04/how-to-make-money-with-code/#coaching","title":"Coaching","text":"<ul> <li> <p>C\u00f3 th\u1ec3 d\u1ea1y m\u1ecdi ng\u01b0\u1eddi online l\u00e0 m\u1ed9t k\u1ef9 n\u0103ng tuy\u1ec7t v\u1eddi n\u1ebfu b\u1ea1n mu\u1ed1n ki\u1ebfm th\u1eadt nhi\u1ec1u ti\u1ec1n. D\u1ea1y tr\u1ef1c tuy\u1ebfn l\u00e0 mang l\u1ea1i l\u1ee3i \u00edch tuy\u1ec7t v\u1eddi cho c\u1ea3 ng\u01b0\u1eddi d\u1ea1y v\u00e0 ng\u01b0\u1eddi h\u1ecdc.</p> </li> <li> <p>Tuy nhi\u00ean c\u00e1ch n\u00e0y ch\u1ec9 d\u00e0nh cho nh\u1eefng ng\u01b0\u1eddi c\u00f3 kinh nghi\u1ec7m m\u1ed9t ch\u00fat. Khi b\u1ea1n r\u1ea5t \u0111am m\u00ea m\u1ed9t ch\u1ee7 \u0111\u1ec1, h\u01a1n th\u1ebf n\u1eefa b\u1ea1n l\u1ea1i c\u00f3 ki\u1ebfn th\u1ee9c v\u1ec1 n\u00f3, h\u00e3y b\u1eaft \u0111\u1ea7u chia s\u1ebb cho c\u00e1c l\u1eadp tr\u00ecnh vi\u00ean m\u1edbi h\u01a1n.</p> </li> </ul>"},{"location":"blog/2020/04/04/how-to-make-money-with-code/#webshop-ko-ong-y-voi-tac-gia-lam-trong-muc-nay","title":"Webshop (ko \u0111\u1ed3ng \u00fd v\u1edbi t\u00e1c gi\u1ea3 l\u1eafm trong m\u1ee5c n\u00e0y)","text":"<ul> <li> <p>Th\u01b0\u01a1ng m\u1ea1i \u0111i\u1ec7n t\u1eed \u0111ang r\u1ea5t ph\u1ed5 bi\u1ebfn. L\u01b0\u1ee3ng ng\u01b0\u1eddi mua b\u00e1n tr\u1ef1c tuy\u1ebfn ng\u00e0y c\u00e0ng t\u0103ng, b\u1ea1n c\u00f3 th\u1ec3 chi\u1ebfm l\u1ee3i th\u1ebf b\u1eb1ng c\u00e1ch s\u1edf h\u1eefu cho m\u00ecnh m\u1ed9t shop online.</p> </li> <li> <p>N\u1ebfu b\u1ea1n c\u00f3 h\u00e0ng h\u00f3a mu\u1ed1n b\u00e1n, b\u1ea1n c\u00f3 th\u1ec3 ch\u1ecdn c\u00e1c t\u1ea1o cho m\u00ecnh m\u1ed9t webshop. B\u1ea1n c\u00f3 th\u1ec3 s\u1eed d\u1ee5ng n\u1ec1n t\u1ea3ng nh\u01b0 Shopify ch\u1eb3ng h\u1ea1n.</p> </li> <li> <p>M\u1ed9t cach kh\u00e1c \u0111\u1ec3 ki\u1ebfm ti\u1ec1n v\u1edbi webshop l\u00e0 <code>drop-shipping</code>. <code>Drop-shipping</code> c\u00f3 l\u1ee3i th\u1ebf \u0111\u1eb7c bi\u1ec7t l\u00e0 b\u1ea1n kh\u00f4ng c\u1ea7n ph\u1ea3i c\u00f3 b\u1ea5t k\u1ef3 s\u1ea3n ph\u1ea9m n\u00e0o trong kho. Ai \u0111\u00f3 mua m\u1ed9t s\u1ea3n ph\u1ea9m t\u1eeb webshop c\u1ee7a b\u1ea1n, b\u1ea1n g\u1eedi \u0111\u01a1n h\u00e0ng n\u00e0y tr\u1ef1c ti\u1ebfp t\u1edbi nh\u00e0 s\u1ea3n xu\u1ea5t. Nh\u00e0 s\u1ea3n xu\u1ea5t sau \u0111\u00f3 g\u1eedi th\u1eb3ng tr\u1ef1c ti\u1ebfp s\u1ea3n ph\u1ea9m t\u1edbi kh\u00e1ch h\u00e0ng c\u1ee7a b\u1ea1n. <code>Drop-shipping</code> cho ph\u00e9p b\u1ea1n b\u1eaft \u0111\u1ea7u webshop c\u1ee7a m\u00ecnh m\u00e0 kh\u00f4ng c\u1ea7n \u0111\u1ea7u t\u01b0 c\u1ea3 \u0111\u1ed1ng ti\u1ec1n v\u00e0o kh\u00e2u s\u1ea3n xu\u1ea5t.</p> </li> </ul>"},{"location":"blog/2020/04/04/how-to-make-money-with-code/#coding-your-own-project","title":"Coding your own project","text":"<ul> <li> <p>\u0110i\u1ec1u cu\u1ed1i c\u00f9ng, nh\u01b0ng kh\u00f4ng k\u00e9m ph\u1ea7n quan tr\u1ecdng b\u1ea1n c\u00f3 th\u1ec3 l\u00e0m cho d\u1ef1 \u00e1n c\u00e1 nh\u00e2n t\u1ea1o ra doanh thu. \u0110i\u1ec1u n\u00e0y c\u00f3 m\u1ed9t l\u1ee3i th\u1ebf l\u1edbn l\u00e0 b\u1ea1n c\u00f3 th\u1ec3 l\u00e0m vi\u1ec7c tr\u00ean nh\u1eefng th\u1ee9 m\u00e0 b\u1ea1n th\u1ef1c s\u1ef1 y\u00eau th\u00edch - \u0110\u00e2y lu\u00f4n l\u00e0 m\u1ed9t \u0111i\u1ec1u tuy\u1ec7t v\u1eddi. Nh\u01b0\u1ee3c \u0111i\u1ec3m l\u00e0...c\u00f3 th\u1ec3 b\u1ea1n \u0111ang ph\u00e1t tri\u1ec3n m\u1ed9t \u1ee9ng d\u1ee5ng m\u00e0 ch\u1eb3ng c\u00f3 ai th\u00e8m \u0111\u1ec3 m\u1eaft \u0111\u1ebfn :v :v :v.</p> </li> <li> <p>Tuy nhi\u00ean, m\u1ee5c ti\u00eau \u1edf \u0111\u00e2y l\u00e0 x\u00e2y d\u1ef1ng m\u1ed9t \u1ee9ng d\u1ee5ng hay website c\u00f3 th\u1ec3 cung c\u1ea5p m\u1ed9t v\u00e0i s\u1ea3n ph\u1ea9m ho\u1eb7c d\u1ecbch v\u1ee5 cho m\u1ecdi ng\u01b0\u1eddi. \u0110i\u1ec1u n\u00e0y c\u00f3 th\u1ec3 t\u1ea1o ra doanh thu theo th\u1eddi gian b\u1eb1ng c\u00e1ch b\u00e1n c\u00e1c s\u1ea3n ph\u1ea9m ho\u1eb7c d\u1ecbch v\u1ee5 ho\u1eb7c t\u1ea1o ra c\u00e1c c\u00f4ng c\u1ee5.</p> </li> </ul>"},{"location":"blog/2020/04/11/13-classic-mathematics-books-for-lifelong-learners/","title":"13 Classic Mathematics Books for Lifelong Learners","text":"<ul> <li> <p>13 quy\u1ec3n s\u00e1ch to\u00e1n h\u1ecdc c\u1ed5 \u0111i\u1ec3n d\u00e0nh cho ng\u01b0\u1eddi h\u1ecdc su\u1ed1t \u0111\u1eddi</p> </li> <li> <p>Cu\u1ed1i tu\u1ea7n d\u1ecbch m\u1ed9t b\u00e0i n\u00e0o \u0111\u00f3 cho n\u00f3 c\u00f3 \u0111\u1ed9ng l\u1ef1c. Link g\u1ed1c \u1edf \u0111\u00e2y.</p> </li> <li> <p>H\u1ed3i c\u00f2n l\u00e0 sinh vi\u00ean. T\u00f4i th\u1ea5y danh s\u00e1ch c\u00e1c quy\u1ec3n to\u00e1n h\u1ecdc c\u1ea7n thi\u1ebft tr\u00ean m\u1ed9t blog. T\u00f4i t\u1ef1 h\u1ee9a s\u1ebd \u0111\u1ecdc xong nh\u1eefng quy\u1ec3n n\u00e0y trong 10 n\u0103m ( v\u00ec \u1edf \u0111\u00e2y c\u00f3 50 quy\u1ec3n l\u1eadn). T\u00f4i v\u1eabn \u0111ang c\u1ed1 g\u1eafng ho\u00e0n th\u00e0nh danh s\u00e1ch n\u00e0y. V\u00e0 gi\u1edd l\u00e0 l\u00fac t\u00f4i c\u00f3 th\u1ec3 chia s\u1ebb m\u1ed9t v\u00e0i quy\u1ec3n trong s\u1ed1 \u0111\u00f3 v\u1edbi c\u00e1c b\u1ea1n.</p> </li> <li> <p>To\u00e1n h\u1ecdc th\u1eadt \u0111\u1eb9p v\u00e0 \u0111\u00e1ng kinh ng\u1ea1c. Th\u1eadt vui s\u01b0\u1edbng bi\u1ebft bao khi hi\u1ec3u \u0111\u01b0\u1ee3c to\u00e1n h\u1ecdc, ch\u1eb3ng h\u1ea1n nh\u01b0: l\u00e0m sao \u0111\u1ec3 ch\u1ee9ng minh \u0111\u1ecbnh l\u00fd cu\u1ed1i c\u00f9ng c\u1ee7a Fermat hay nh\u1eefng b\u00ed \u1ea9n c\u1ee7a s\u1ed1 Pi, e, epsilon v\u00e2n v\u00e2n v\u00e0 v\u00e2n v\u00e2n.</p> </li> </ul> <ul> <li>D\u1eabu sao th\u00ec, n\u1ebfu b\u1ea1n v\u01b0\u1ee3t qua r\u1ea5t nhi\u1ec1u k\u00fd thi to\u00e1n nh\u01b0ng l\u1ea1i kh\u00f4ng c\u1ea3m th\u1ee5 \u0111\u01b0\u1ee3c v\u1ebb \u0111\u1eb9p c\u1ee7a to\u00e1n h\u1ecdc trong su\u1ed1t qu\u00e3ng th\u1eddi gian \u0111i h\u1ecdc c\u1ee7a m\u00ecnh, nh\u1eefng quy\u1ec3n s\u00e1ch n\u00e0y \u0111\u01b0\u1ee3c vi\u1ebft ra d\u00e0nh cho b\u1ea1n.   \u00dd ki\u1ebfn th\u1eb1ng d\u1ecbch: to\u00e1n h\u1ecdc kh\u00f4ng nh\u00e0m ch\u00e1n, n\u1ebfu b\u1ea1n th\u1ea5y ch\u00e1n, b\u1ea1n \u0111\u00e3 h\u1ecdc sai th\u1ea7y (cwl). Th\u1ea5y to\u00e1n th\u00fa v\u1ecb khi h\u1ecdc m\u00f4n \u0110\u1ea1i S\u1ed1 c\u1ee7a m\u1ed9t th\u1ea7y h\u1ed3i h\u1ecdc \u0111\u1ea1i h\u1ecdc :D</li> </ul>"},{"location":"blog/2020/04/11/13-classic-mathematics-books-for-lifelong-learners/#zero-the-biography-of-a-dangerous-idea-charles-seife","title":"Zero: The Biography of a Dangerous Idea | Charles Seife","text":"<ul> <li> <p>Word by word: S\u1ed1 kh\u00f4ng: Ti\u1ec3u s\u1eed c\u1ee7a m\u1ed9t \u00fd t\u01b0\u1edfng nguy hi\u1ec3m.</p> </li> <li> <p>\u0110\u00e2y l\u00e0 quy\u1ec3n s\u00e1ch tuy\u1ec7t v\u1eddi c\u00f3 th\u1ec3 khi\u1ebfn h\u1ea7u h\u1ebft m\u1ecdi ng\u01b0\u1eddi y\u00eau th\u00edch to\u00e1n h\u1ecdc. T\u00f4i th\u1ea5y n\u00f3 kh\u00e1 th\u00fa v\u1ecb, d\u00f9 t\u00f4i \u0111\u00e3 bi\u1ebft kh\u00e1 nhi\u1ec1u v\u1ec1 c\u00e1c ch\u1ee7 \u0111\u1ec1 \u0111\u01b0\u1ee3c \u0111\u1ec1 c\u1eadp trong quy\u1ec3n n\u00e0y. T\u00f4i c\u0169ng \u0111\u1eb7c bi\u1ec7t th\u00edch phong c\u00e1ch vi\u1ebft c\u1ee7a Seife. T\u00e1c gi\u1ea3 \u0111\u00e3 khi\u1ebfn t\u00f4i ng\u01b0\u1eddi r\u1ea5t nhi\u1ec1u l\u1ea7n.</p> </li> <li> <p>Th\u1eadt kh\u00f3 h\u00ecnh dung ai \u0111\u00f3 l\u1ea1i c\u00f3 th\u1ec3 d\u00f9ng 220 trang s\u00e1ch n\u00f3i v\u1ec1 m\u1ed9t con s\u1ed1. Trong khi b\u1ea1n \u0111ang \u0111\u1ecdc, b\u1ea1n kh\u00f4ng c\u1ea7n l\u00e0m vi\u1ec7c b\u00fat ch\u00ec v\u00e0 gi\u1ea5y. Thay v\u00ec v\u1eady t\u00e1c gi\u1ea3 d\u1eabn b\u1ea1n qua c\u00e1c logic.</p> </li> <li> <p>Ph\u1ea7n l\u1ecbch s\u1eed th\u00fa v\u1ecb c\u1ee7a quy\u1ec3n s\u00e1ch n\u00e0y \u0111\u1ee7 khi\u1ebfn n\u00f3 x\u1ee9ng \u0111\u00e1ng. N\u00f3 \u0111\u1ec1 c\u1eadp r\u1ea5t nhi\u1ec1u l\u1ecbch s\u1eed th\u1ebf gi\u1edbi. B\u1eaft \u0111\u1ea7u t\u1eeb khi lo\u00e0i ng\u01b0\u1eddi s\u1eed d\u1ee5ng con s\u1ed1 v\u00e0 \u0111\u1ebfm. T\u00f4i \u0111\u00e3 \u0111\u01b0\u1ee3c h\u1ecdc v\u1ec1 Archimedes, Laplace, Newton, Euler, c\u0169ng nh\u01b0 \u0111\u00f3ng g\u00f3p c\u1ee7a h\u1ecd cho to\u00e1n h\u1ecdc v\u00e0 cu\u1ed9c s\u1ed1ng c\u1ee7a ch\u00fang ta.</p> </li> </ul>"},{"location":"blog/2020/04/11/13-classic-mathematics-books-for-lifelong-learners/#measurement-paul-lockhart","title":"Measurement | Paul Lockhart","text":"<ul> <li> <p>\u0110o l\u01b0\u1eddng | Paul Lockhart</p> </li> <li> <p>\u0110\u00e2y l\u00e0 quy\u1ec3n s\u00e1ch <code>must read</code> v\u1edbi c\u00e1c gi\u00e1o vi\u00ean to\u00e1n. S\u00e1ch \u0111\u1ec1 c\u1eadp t\u1edbi c\u00e1ch to\u00e1n h\u1ecdc n\u00ean \u0111\u01b0\u1ee3c d\u1ea1y nh\u01b0 th\u1ebf n\u00e0o. Khi b\u1ea1n b\u1eaft \u0111\u1ea7u \u0111\u1ecdc, b\u1ea1n s\u1ebd nh\u1eadn ra, Quy\u1ec3n s\u00e1ch l\u00e0 m\u1ed9t s\u1ef1 ch\u1ec9 tr\u00edch m\u1ea1nh m\u1ebd v\u1ec1 ch\u01b0\u01a1ng tr\u00ecnh gi\u1ea3ng d\u1ea1y to\u00e1n h\u1ecdc ph\u1ed5 bi\u1ebfn \u1edf c\u00e1c l\u1edbp ti\u1ec3u h\u1ecdc, trung h\u1ecdc c\u01a1 s\u1edf v\u00e0 trung h\u1ecdc ph\u1ed5 th\u00f4ng.</p> </li> <li> <p>V\u1edbi Paul Lockhart, to\u00e1n h\u1ecdc l\u00e0 m\u1ed9t m\u00f4n ngh\u1ec7 thu\u1eadt, n\u00f3 v\u01b0\u1ee3t ra ngo\u00e0i vi\u1ec7c ghi nh\u1edb c\u00e1c k\u00fd hi\u1ec7u v\u00e0 c\u00f4ng th\u1ee9c to\u00e1n h\u1ecdc. V\u1edbi Paul:</p> </li> </ul> <pre><code>To\u00e1n h\u1ecdc l\u00e0 t\u00ecnh y\u00eau su\u1ed1t \u0111\u1eddi.\n</code></pre> <ul> <li> <p>Paul tin r\u1eb1ng, ch\u00fang ta c\u1ea7n d\u1eebng c\u00e1ch d\u1ea1y to\u00e1n theo c\u00e1ch truy\u1ec1n th\u1ed1ng v\u00e0 c\u1ea7n s\u1eed d\u1ee5ng s\u1ef1 t\u00f2 m\u00f2 b\u1ea9m sinh c\u1ee7a m\u00ecnh \u0111\u1ec3 d\u1ea1y v\u00e0 h\u1ecdc to\u00e1n.</p> </li> <li> <p>L\u00e0 m\u1ed9t series li\u00ean quan to\u00e1n h\u1ecdc th\u1ef1c t\u1ebf v\u00e0 n\u00ean \u0111\u01b0\u1ee3c xem nh\u01b0 quy\u1ec3n tham chi\u1ebfu m\u1ed9t c\u00e1ch th\u01b0\u1eddng xuy\u00ean, \u0111\u1eb7c bi\u1ec7t n\u1ebfu b\u1ea1n \u0111ang h\u1ecdc ph\u1ed5 th\u00f4ng ho\u1eb7c \u0111\u1ea1i h\u1ecdc.</p> </li> <li> <p>T\u00e1c gi\u1ea3 ch\u1eafc ch\u1eafn r\u1eb1ng b\u1ea1n ng\u1ed3i y\u00ean t\u1ea1i ch\u1ed7 trong su\u1ed1t th\u1eddi gian \u0111\u1ecdc s\u00e1ch, nh\u01b0ng th\u1eadm ch\u00ed ngay c\u1ea3 khi b\u1ea1n \u0111\u00e3 \u0111\u1ecdc xong. (ch\u00e9m gi\u00f3 :D)</p> </li> </ul>"},{"location":"blog/2020/04/11/13-classic-mathematics-books-for-lifelong-learners/#prelude-to-mathematics-ww-sawyer","title":"Prelude to Mathematics | W.W. Sawyer","text":"<ul> <li> <p>M\u1edf \u0111\u1ea7u cho to\u00e1n h\u1ecdc | W.W. Sawyer</p> </li> <li> <p>\u0110\u00e2y th\u1ef1c s\u1ef1 l\u00e0 m\u1ed9t t\u00e1c ph\u1ea9m kinh \u0111i\u1ec3n v\u00e0 n\u00f3 r\u1ea5t th\u00fa v\u1ecb. N\u00f3 tr\u00ecnh b\u00e0y c\u00e1ch m\u1ed9t nh\u00e0 to\u00e1n h\u1ecdc suy lu\u1eadn v\u00e0 l\u00e0m sao tr\u1edf th\u00e0nh m\u1ed9t nh\u00e0 to\u00e1n h\u1ecdc.</p> </li> <li> <p>Quy\u1ec3n s\u00e1ch r\u1ea5t c\u00f3 \u00fd ngh\u0129a cho nh\u1eefng \u0111\u1ed9c gi\u1ea3 ch\u01b0a quen v\u1edbi c\u00e1c ch\u1ee7 \u0111\u1ec1 n\u00e0y.</p> </li> <li> <p>T\u00e1c gi\u1ea3 c\u1ed1 g\u1eafng cung c\u1ea5p ki\u1ebfn th\u1ee9c to\u00e1n h\u1ecdc cho ph\u1ea7n \u0111\u00f4ng ch\u00fang ta.</p> </li> </ul>"},{"location":"blog/2020/04/11/13-classic-mathematics-books-for-lifelong-learners/#proofs-from-the-book-aigner-and-ziegler","title":"Proofs from The Book | Aigner and Ziegler","text":"<ul> <li> <p>Quy\u1ec3n s\u00e1ch ch\u1ee9a \u0111\u1ef1ng nh\u1eefng b\u1eb1ng ch\u1ee9ng t\u1ed1t nh\u1ea5t (?) t\u1eeb c\u00e1c l\u0129nh v\u1ef1c to\u00e1n h\u1ecdc kh\u00e1c nhau. V\u00e0 \u0111\u00e2y kh\u00f4ng ph\u1ea3i s\u00e1ch gi\u00e1o khoa. Ziegler v\u00e0 Aigner \u0111\u01b0a ch\u00fang ta t\u1edbi m\u1ed9t th\u1ebf gi\u1edbi kh\u00e1c. N\u1ebfu b\u1ea1n c\u00f3 \u00fd \u0111\u1ecbnh \u0111\u1ecdc quy\u1ec3n s\u00e1ch n\u00e0y b\u1ea1n n\u00ean c\u00f3 ki\u1ebfn th\u1ee9c v\u1ec1 gi\u1ea3i t\u00edch v\u00e0 \u0111\u1ea1i s\u1ed1 tuy\u1ebfn t\u00ednh. N\u1ebfu kh\u00f4ng b\u1ea1n s\u1ebd g\u1eb7p kh\u00f3 kh\u0103n trong c\u00e1c ch\u1ee9ng minh.</p> </li> <li> <p>\u0110i\u1ec1u th\u00fa v\u1ecb l\u00e0 t\u00e1c gi\u1ea3 \u0111\u01b0a b\u1ea1n qua c\u00e1c ch\u1ee9ng minh n\u1ed5i ti\u1ebfng nh\u1ea5t c\u1ee7a t\u1ea5t c\u1ea3 c\u00e1c to\u00e1n h\u1ecdc \u0111\u01a1n gi\u1ea3n h\u00f3a ch\u00fang th\u00e0nh c\u00e1c ph\u01b0\u01a1ng tr\u00ecnh m\u00e0 b\u1ea1n c\u00f3 th\u1ec3 gi\u1ea3i quy\u1ebft trong \u0111\u1ea7u.</p> </li> <li> <p>T\u00f4i \u0111\u00e3 \u0111\u01b0\u1ee3c nghe r\u1ea5t nhi\u1ec1u g\u1ee3i khen d\u00e0nh cho quy\u1ec3n s\u00e1ch v\u00e0 gi\u00e1 tr\u1ecb c\u1ee7a n\u00f3. T\u00f4i \u01b0\u1edbc r\u1eb1ng \u0111\u00e3 c\u00f3 m\u1ed9t quy\u1ec3n s\u00e1ch nh\u01b0 v\u1eady \u0111\u01b0\u1ee3c gi\u1ea3ng d\u1ea1y trong tr\u01b0\u1eddng khi t\u00f4i c\u00f2n \u0111i h\u1ecdc.</p> </li> </ul>"},{"location":"blog/2020/04/11/13-classic-mathematics-books-for-lifelong-learners/#the-joy-of-x-steven-strogatz","title":"The Joy of x | Steven Strogatz","text":"<ul> <li> <p>S\u1ef1 th\u00fa v\u1ecb c\u1ee7a x (?) | Steven Strogatz</p> </li> <li> <p>\u0110\u00e2y n\u00ean l\u00e0 quy\u1ec3n s\u00e1ch kh\u1edfi \u0111\u1ea7u, v\u00ec n\u00f3 gi\u1edbi thi\u1ec7u cho ch\u00fang ta k\u1ef3 quan to\u00e1n h\u1ecdc r\u1ea5t \u0111\u01a1n gi\u1ea3n. Th\u1ef1c s\u1ef1 l\u00e0 m\u1ed9t gi\u1edbi thi\u1ec7u tuy\u1ec7t v\u1eddi cho to\u00e1n h\u1ecdc.</p> </li> <li> <p>N\u1ed9i dung quy\u1ec3n s\u00e1ch \u0111\u1ebfn t\u1eeb m\u1ed9t blog d\u00e0i. M\u1ed7i ch\u01b0\u01a1ng r\u1ea5t ng\u1eafn v\u00e0 v\u1ec1 m\u1ed9t t\u00ednh n\u0103ng c\u1ee5 th\u1ec3 c\u1ee7a to\u00e1n h\u1ecdc. Phong c\u00e1ch vi\u1ebft n\u00e0y c\u1ee7a ng\u00e0i Strogatz th\u1ef1c s\u1ef1 r\u1ea5t cu\u1ed1n.</p> </li> <li> <p>Tuy nhi\u00ean n\u1ebfu b\u1ea1n c\u00f3 m\u1ed9t ki\u1ebfn th\u1ee9c n\u1ec1n t\u1ea3ng to\u00e1n h\u1ecdc v\u1eefng ch\u1eafc, quy\u1ec3n s\u00e1ch n\u00e0y s\u1ebd d\u1ec5 d\u00e0ng \u0111\u1ed1i v\u1edbi b\u1ea1n. Do v\u1eady, kh\u00f4ng c\u1ea7n ph\u1ea3i l\u00e0 m\u1ed9t Ti\u1ebfn S\u0129 \u0111\u1ec3 c\u00f3 th\u1ec3 \u0111\u1ecdc n\u00f3 ;)</p> </li> </ul>"},{"location":"blog/2020/04/11/13-classic-mathematics-books-for-lifelong-learners/#things-to-make-and-do-in-the-fourth-dimension-matt-parker","title":"Things to Make and Do in the Fourth Dimension | Matt Parker","text":"<ul> <li> <p>\u0110\u00e2y l\u00e0 m\u1ed9t quy\u1ec3n s\u00e1ch r\u1ea5t hay \u0111\u01b0\u1ee3c khuy\u1ebfn kh\u00edch \u0111\u1ecdc. S\u00e1ch vi\u1ebft v\u1ec1 ph\u1ea7n th\u00fa v\u1ecb c\u1ee7a to\u00e1n h\u1ecdc. Phong c\u00e1ch vi\u1ebft c\u1ee7a t\u00e1c gi\u1ea3 r\u1ea5t r\u00f5 r\u00e0ng m\u1ea1ch l\u1ea1c khi\u1ebfn n\u1ed9i dung c\u00f3 th\u1ec3 hi\u1ec3u \u0111\u01b0\u1ee3c m\u00e0 kh\u00f4ng c\u1ea7n m\u1ed9t ki\u1ebfn th\u1ee9c background th\u1ef1c s\u1ef1 l\u1edbn.</p> </li> <li> <p>S\u00e1ch bao g\u1ed3m v\u00e0i ch\u01b0\u01a1ng, v\u00e0 m\u1ed7i ch\u01b0\u01a1ng tr\u00ecnh b\u00e0y m\u1ed9t ch\u1ee7 \u0111\u1ec1 trong to\u00e1n h\u1ecdc. Mr Parker s\u1eed d\u1ee5ng cu\u1ed9c s\u1ed1ng h\u00e0ng ng\u00e0y l\u00e0m v\u00ed d\u1ee5 trong c\u00e1c ch\u01b0\u01a1ng n\u00e0y \u0111\u1ec3 gi\u1ea3i th\u00edch c\u00e1c v\u1ea5n \u0111\u1ec1 c\u01a1 b\u1ea3n c\u1ee7a to\u00e1n h\u1ecdc.</p> </li> </ul>"},{"location":"blog/2020/04/11/13-classic-mathematics-books-for-lifelong-learners/#what-is-mathematics-courant-and-robbins","title":"What is Mathematics? | Courant and Robbins","text":"<ul> <li>V\u1edbi m\u1ed9t ng\u01b0\u1eddi b\u1ea1n t\u00f4i quy\u1ec3n s\u00e1ch n\u00e0y n\u1eb1m tr\u00ean top. V\u1edbi t\u00f4i n\u00f3 l\u00e0 m\u1ed9t th\u00e1ch th\u1ee9c. M\u1ed9t v\u00e0i ch\u01b0\u01a1ng trong quy\u1ec3n n\u00e0y, b\u1ea1n kh\u00f4ng c\u1ea7n c\u00f3 hi\u1ec3u bi\u1ebft v\u1ec1 to\u00e1n h\u1ecdc. V\u00ec n\u00f3 l\u00e0 v\u1ec1 logic.</li> </ul>"},{"location":"blog/2020/04/11/13-classic-mathematics-books-for-lifelong-learners/#a-history-of-petr-beckmann","title":"A History of \u03c0 | Petr Beckmann","text":"<ul> <li> <p>T\u00f4i th\u1ef1c s\u1ef1 r\u1ea5t th\u00edch cu\u1ed1n s\u00e1ch n\u00e0y. \u0110\u1eb7c bi\u1ec7t, khi t\u00f4i nh\u1eadn ra r\u1ea5t nhi\u1ec1u ng\u01b0\u1eddi th\u00f4ng minh ch\u1ec9 d\u00e0nh to\u00e0n b\u1ed9 cu\u1ed9c \u0111\u1eddi m\u00ecnh cho m\u1ed9t s\u1ed1 \u03c0. T\u00f4i kh\u00f4ng th\u1ec3 hi\u1ec3u l\u00fd do \u1edf \u0111\u00e2y :D. Sao c\u00f3 th\u1ec3 hi\u1ec3u nhi\u1ec1u ng\u01b0\u1eddi nh\u01b0 v\u1eady l\u00e0m vi\u1ec7c c\u00f9ng nhau ch\u1ec9 \u0111\u1ec3 t\u00ednh ra m\u1ed9t con s\u1ed1.</p> </li> <li> <p>Khi b\u1ea1n \u0111\u1ecdc n\u00f3, b\u1ea1n s\u1ebd th\u1ea5y m\u1ed9t v\u00e0i nh\u00e0 to\u00e1n h\u1ecdc \u0111\u01a1n gi\u1ea3n b\u1ecf qua pi, m\u1ed9t s\u1ed1 th\u00ec b\u1ed1i r\u1ed1i, v\u00e0 h\u1ea7u h\u1ebft trong s\u1ed1 h\u1ecd m\u1ea1nh d\u1ea1n \u0111i t\u1edbi n\u01a1i ch\u01b0a c\u00f3 ai \u0111\u1eb7t ch\u00e2n t\u1edbi tr\u01b0\u1edbc \u0111\u00f3.</p> </li> <li> <p>To\u00e1n trong quy\u1ec3n n\u00e0y c\u00f3 th\u1ec3 hi\u1ec3u \u0111\u01b0\u1ee3c v\u1edbi b\u1ea5t k\u1ef3 ai c\u00f3 chu\u1ea9n level A (ko bi\u1ebft c\u00e1i level A standard \u1edf \u0111\u00e2y \u0111o ntn (?) ).</p> </li> </ul>"},{"location":"blog/2020/04/11/13-classic-mathematics-books-for-lifelong-learners/#an-imaginary-tale-paul-nahin","title":"An Imaginary Tale | Paul Nahin","text":"<pre><code>x\u00b2 + 1 = 0.\n</code></pre> <ul> <li> <p>Ph\u01b0\u01a1ng tr\u00ecnh n\u00e0y th\u1eadt \u0111\u1eb9p ph\u1ea3i kh\u00f4ng (- kh\u00f4ng :D -). Th\u1ef1c s\u1ef1 \u0111\u1eb9p \u0111\u1ebd, m\u1ed9t ph\u01b0\u01a1ng tr\u00ecnh y\u00eau th\u00edch nh\u1ea5t c\u1ee7a t\u00f4i. D\u00f9 sao, t\u00f4i ngh\u0129 b\u1ea5t k\u1ef3 sinh vi\u00ean h\u1ecdc gi\u1ea3i t\u00edch n\u00e0o c\u0169ng n\u00ean \u0111\u1ecdc quy\u1ec3n s\u00e1ch n\u00e0y nhi\u1ec1u h\u01a1n m\u1ed9t l\u1ea7n. Quy\u1ec3n s\u00e1ch n\u00e0y \u0111\u01b0\u1ee3c vi\u1ebft m\u1ed9t c\u00e1ch ho\u00e0n h\u1ea3o v\u00e0 sinh vi\u00ean gi\u1ea3i t\u00edch n\u00ean c\u1ea3m th\u1ea5y y\u00eau n\u00f3.</p> </li> <li> <p>Trong quy\u1ec3n n\u00e0y, b\u1ea1n c\u00f3 th\u1ec3 h\u1ecdc c\u00e1ch l\u00e0m th\u1ebf n\u00e0o c\u00e1c nh\u00e0 to\u00e1n h\u1ecdc kh\u00e1c nhau \u0111\u1ed1i ph\u00f3 v\u1edbi s\u1ed1 ph\u1ee9c <code>i</code>. V\u00e0 b\u1ea1n c\u00f3 th\u1ec3 bi\u1ebft th\u00eam c\u01a1 s\u1ed1 th\u1ee9 v\u1ec1 Euler, nh\u00e0 to\u00e1n h\u1ecdc v\u0129 \u0111\u1ea1i c\u1ee7a ch\u00fang ta.</p> </li> <li> <p>\u0110\u00e2y l\u00e0 s\u1ef1 pha tr\u1ed9n th\u00fa v\u1ecb gi\u1eefa l\u1ecbch s\u1eed v\u00e0 gi\u1ea3i t\u00edch, d\u1eabn ng\u01b0\u1eddi \u0111\u1ecdc t\u1edbi \u0111\u00e1nh gi\u00e1 cao s\u1ef1 ph\u00e1t tri\u1ec3n hi\u1ec3u bi\u1ebft v\u1ec1 s\u1ed1 ph\u1ee9c <code>i</code>, c\u0103n b\u1eadc hai tr\u1eeb \u0111i 1.</p> </li> </ul>"},{"location":"blog/2020/04/11/13-classic-mathematics-books-for-lifelong-learners/#e-the-story-of-a-number-eli-maor","title":"e: The Story of a Number | Eli Maor","text":"<ul> <li> <p>\u0110\u00e2y l\u00e0 m\u1ed9t trong nh\u1eefng quy\u1ec3n t\u00f4i s\u1ebd \u0111\u1ecdc l\u1ea1i sau khi t\u00f4i ho\u00e0n th\u00e0nh n\u00f3. N\u00f3 c\u0169ng l\u00e0 m\u1ed9t quy\u1ec3n s\u00e1ch thi\u1ebft y\u1ebfu.</p> </li> <li> <p>Ban \u0111\u1ea7u quy\u1ec3n s\u00e1ch gi\u01b0\u1eddng nh\u01b0 ch\u1ec9 v\u1ec1 s\u1ed1 \u0111\u1eb7c bi\u1ec7t <code>e</code>, nh\u01b0ng th\u1ef1c t\u1ebf kh\u00e1c. \u0110\u00f3 ch\u1ec9 l\u00e0 m\u1ed9t n\u1eeda c\u1ee7a quy\u1ec3n s\u00e1ch. Khi b\u1ea1n \u0111\u1ecdc, b\u1ea1n s\u1ebd th\u1ea5y kh\u00e1m ph\u00e1 ra nh\u1eefng con s\u1ed1 \u0111\u1ea7u ti\u00ean, s\u1ed1 h\u1eefu t\u1ef7 v\u00e0 s\u1ed1 v\u00f4 t\u1ef7. M\u1ed9t s\u1ed1 ch \u01b0\u01a1ng gi\u1ed1ng nh\u01b0 b\u00e0i h\u1ecdc l\u1ecbch s\u1eed t\u1eadp trung v\u00e0o con ng\u01b0\u1eddi v\u00e0 s\u1ef1 ki\u1ec7n t\u1ea1i m\u1ed9t th\u1eddi gian v\u00e0 \u0111\u1ecba \u0111i\u1ec3m ( c\u00e1i what the hell is that (?) : ).</p> </li> </ul>"},{"location":"blog/2020/04/11/13-classic-mathematics-books-for-lifelong-learners/#imagining-numbers-barry-mazur","title":"Imagining Numbers | Barry Mazur","text":"<ul> <li> <p>Nh\u01b0 nh\u1eefng ai \u0111\u00f3 m\u00ea m\u1ea9n s\u1ed1 \u1ea3o, t\u00f4i \u0111\u00e3 \u0111\u1ecdc r\u1ea5t nhi\u1ec1u b\u00e0i vi\u1ebft v\u1ec1 v\u1ea5n \u0111\u1ec1 n\u00e0y.</p> </li> <li> <p>Mr. Mazur b\u1eaft \u0111\u1ea7u v\u1edbi c\u01a1 b\u1ea3n. Sau \u0111\u00f3 \u0111i s\u00e2u h\u01a1n v\u00e0o c\u0103n b\u1eadc hai c\u1ee7a s\u1ed1 \u00e2m v\u00e0 cho ch\u00fang ta th\u1ea5y s\u1ed1 \u1ea3o \u0111\u1eb9p t\u1edbi nh\u01b0\u1eddng n\u00e0o.</p> </li> </ul>"},{"location":"blog/2020/04/11/13-classic-mathematics-books-for-lifelong-learners/#journey-through-genius-william-dunham","title":"Journey Through Genius | William Dunham","text":"<ul> <li> <p>N\u1ebfu b\u1ea1n mu\u1ed1n t\u00ecm hi\u1ec3u l\u1ecbch s\u1eed to\u00e1n h\u1ecdc, \u0111\u00e2y l\u00e0 quy\u1ec3n s\u00e1ch d\u00e0nh cho b\u1ea1n v\u1edbi c\u00e1c c\u00e2u chuy\u1ec7n ng\u1eafn v\u00e0 th\u00fa v\u1ecb v\u1ec1 l\u1ecbch s\u1eed to\u00e1n h\u1ecdc. Th\u1ef1c t\u1ebf \u0111\u00e2y l\u00e0 quy\u1ec3n s\u00e1ch <code>must read</code> v\u1edbi t\u1ea5t c\u1ea3 m\u1ecdi ng\u01b0\u1eddi.</p> </li> <li> <p>N\u1ebfu b\u1ea1n c\u00f2n nh\u1edb ki\u1ebfn th\u1ee9c to\u00e1n trung h\u1ecdc, v\u1eady b\u1ea1n c\u00f3 th\u1ec3 hi\u1ec3u quy\u1ec3n s\u00e1ch \u0111\u1ec1 c\u1eadp. N\u00f3 kh\u00f4ng qu\u00e1 kh\u00f3 v\u1edbi ng\u01b0\u1eddi c\u00f3 ki\u1ebfn th\u1ee9c to\u00e1n trung b\u00ecnh. N\u00f3 ch\u1eafc ch\u1eafn gi\u00fap b\u1ea1n ch\u00e2m ng\u00f2i cho s\u1ef1 ph\u1ea5n kh\u00edch v\u1edbi to\u00e1n h\u1ecdc. Ch\u1eb3ng h\u1ea1n, t\u00f4i \u0111\u00e3 kh\u00f4ng ng\u1eebng l\u1eafc \u0111\u1ea7u v\u00e0 h\u1ea5t h\u00e0m v\u00ec m\u00ea m\u1ea9n v\u00e0 kinh ng\u1ea1c tr\u01b0\u1edbc th\u1ebf gi\u1edbi to\u00e1n h\u1ecdc tuy\u1ec7t v\u1eddi. T\u00e1c gi\u1ea3 gi\u1edbi thi\u1ec7u t\u1ea5t c\u1ea3 c\u00e1c t\u00ean to\u00e1n h\u1ecdc n\u1ed5i ti\u1ebfng trong l\u1ecbch s\u1eed c\u1ee7a ch\u00fang ta. V\u00e0 x\u00e2y d\u1ef1ng m\u1ed9t c\u00e1ch kh\u00e9o l\u00e9o s\u1ef1 k\u1ebft n\u1ed1i gi\u1eefa cu\u1ed9c s\u1ed1ng v\u00e0 c\u00f4ng vi\u1ec7c c\u1ee7a h\u1ecd.</p> </li> <li> <p>Quy\u1ec3n s\u00e1ch n\u00e0y ch\u1eafc ch\u1eafn kh\u00f4ng nh\u00e0m ch\u00e1n, n\u00f3 c\u00f3 th\u1ec3 l\u00e0 s\u1ef1 gi\u1edbi thi\u1ec7u tuy\u1ec7t v\u1eddi t\u1edbi c\u00e1c sinh vi\u00ean h\u1ee9ng th\u00fa v\u1edbi to\u00e1n h\u1ecdc. T\u00f4i kh\u00e1 ch\u1eafc ch\u1eafn h\u1ecd c\u00f3 th\u1ec3 t\u1eadn h\u01b0\u1edfng ch\u00fang, \u00fd t\u00f4i l\u00e0 t\u1eadn h\u01b0\u1edfng \u0111\u1ecdc ch\u00fang.</p> </li> </ul>"},{"location":"blog/2020/04/11/13-classic-mathematics-books-for-lifelong-learners/#prime-obsession-john-derbyshire","title":"Prime Obsession | John Derbyshire","text":"<ul> <li> <p>M\u1ed9t trong nh\u1eefng quy\u1ec3n h\u1ea5p d\u1eabn nh\u1ea5t t\u00f4i \u0111\u00e3 \u0111\u1ecdc. Sau khi \u0111\u1ecdc 2 chapter \u0111\u1ea7u, t\u00f4i \u0111\u00e3 t\u00ecm th\u1ea5y r\u1eb1ng vi\u1ec7c t\u00ecm hi\u1ec3u l\u00fd do t\u1ea1i sao m\u1ecdi ng\u01b0\u1eddi mu\u1ed1n c\u00f3 c\u00e2u tr\u1ea3 l\u1eddi cho c\u00e1c c\u00e2u h\u1ecfi to\u00e1n h\u1ecdc \u0111\u00e3 l\u00e0m cho to\u00e1n h\u1ecdc th\u00fa v\u1ecb h\u01a1n nhi\u1ec1u.</p> </li> <li> <p>Quy\u1ec3n s\u00e1ch n\u00e0y v\u1ec1 gi\u1ea3 thi\u1ebft <code>Riemann</code> v\u00e0 n\u00f3 \u0111\u01b0\u1ee3c vi\u1ebft ho\u00e0n h\u1ea3o cho ng\u01b0\u1eddi m\u1edbi, r\u1ea5t d\u1ec5 hi\u1ec3u v\u00e0 th\u00fa v\u1ecb.</p> </li> <li> <p>\u0110\u1ecdc l\u1ea1i quy\u1ec3n s\u00e1ch n\u00e0y th\u1ef1c s\u1ef1 \u0111\u00e3 gi\u00fap t\u00f4i hi\u1ec3u t\u1ed1t h\u01a1n v\u1ec1 c\u1ea3 <code>function Zeta</code> l\u1eabn <code>s\u1ed1 ph\u1ee9c</code>.</p> </li> </ul>"},{"location":"blog/2020/05/02/jest-mock-note/","title":"Jest Mock Note.","text":"<ul> <li>B\u00e0i n\u00e0y note l\u1ea1i m\u1ed9t c\u00e2u tr\u1ea3 l\u1eddi tr\u00ean stackoverflow c\u00e1ch mock function, module, gi\u1ea3i quy\u1ebft v\u1ea5n \u0111\u1ec1 m\u00ecnh g\u1eb7p ph\u1ea3i d\u1ef1 \u00e1n. (note l\u1ea1i sau t\u00ecm cho d\u1ec5)</li> </ul> <ul> <li>Below an example:</li> </ul> foo.js<pre><code>export const foo = true; // could be expression as well\n</code></pre> subject.js<pre><code>import { foo } from \"./foo\";\n\nexport default () =&gt; foo;\n</code></pre> subject.spec.js also know as(aka) subject.test.js<pre><code>import subject from \"./subject\";\n\njest.mock(\"./foo\", () =&gt; ({\n  get foo() {\n    return true; // set some default value\n  },\n}));\n\ndescribe(\"subject\", () =&gt; {\n  const mySpy = jest.spyOn(subject.default, \"foo\", \"get\");\n  it(\"foo return true\", () =&gt; {\n    expect(subject.foo).toBe(true);\n  });\n\n  it(\"foo returns false\", () =&gt; {\n    mySpy.mockReturnValueOne(false);\n    expect(subject.foo).toBe(true);\n  });\n});\n</code></pre>"},{"location":"blog/2020/05/08/typescript-generics-explainedhttpsmediumcomrossbulattypescript-generics-explained-15c6493b510f/","title":"Typescript Generics Explained","text":"<ul> <li>\u0110\u00e2y l\u00e0 b\u00e0i d\u1ecbch v\u1edbi m\u1ee5c \u0111\u00edch t\u00ecm hi\u1ec3u v\u00e0 th\u1ef1c h\u00e0nh v\u1ec1 typescript. Link b\u00e0i g\u1ed1c tr\u00ean ti\u00eau \u0111\u1ec1 :)</li> </ul>"},{"location":"blog/2020/05/08/typescript-generics-explainedhttpsmediumcomrossbulattypescript-generics-explained-15c6493b510f/#generics-the-ability-to-abstract-types","title":"Generics: the ability to abstract types","text":"<ul> <li> <p>Tri\u1ec3n khai <code>generics</code> trong Typescript cho ph\u00e9p ch\u00fang ta kh\u1ea3 n\u0103ng truy\u1ec1n m\u1ed9t lo\u1ea1t c\u00e1c ki\u1ec3u v\u00e0o m\u1ed9t <code>component</code>, th\u00eam m\u1ed9t l\u1edbp m\u1edf r\u1ed9ng v\u00e0 t\u00e1i s\u1eed d\u1ee5ng code. <code>Generics</code> c\u00f3 th\u1ec3 \u0111\u01b0\u1ee3c \u00e1p d\u1ee5ng trong <code>functions</code>, <code>interfaces</code> v\u00e0 <code>classes</code> trong Typescript.</p> </li> <li> <p>B\u00e0i n\u00e0y s\u1ebd gi\u1ea3i th\u00edch <code>generics</code> l\u00e0 g\u00ec v\u00e0 t\u1ea1i sao ch\u00fang c\u00f3 th\u1ec3 \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng cho c\u00e1c m\u1ee5c n\u00e0y,</p> </li> </ul>"},{"location":"blog/2020/05/08/typescript-generics-explainedhttpsmediumcomrossbulattypescript-generics-explained-15c6493b510f/#the-hello-world-of-generics","title":"The Hello world of Generics","text":"<ul> <li>\u0110\u1ec3 demo \u00fd t\u01b0\u1edfng c\u1ee7a <code>generics</code> m\u1ed9t c\u00e1ch \u0111\u01a1n gi\u1ea3n, c\u00f9ng xem h\u00e0m v\u00ed d\u1ee5 sau, <code>identity()</code>, h\u00e0m n\u00e0y nh\u1eadn m\u1ed9t tham s\u1ed1 v\u00e0 tr\u1ea3 v\u1ec1 tham s\u1ed1 \u0111\u00e3 nh\u1eadn:</li> </ul> <pre><code>function identity(arg: number): number {\n  return arg;\n}\n</code></pre> <ul> <li> <p>M\u1ee5c \u0111\u00edch c\u1ee7a h\u00e0m <code>identity</code> \u0111\u01a1n gi\u1ea3n l\u00e0 tr\u1ea3 v\u1ec1 \u0111\u1ed1i s\u1ed1 ch\u00fang ta truy\u1ec1n v\u00e0o. V\u1ea5n \u0111\u1ec1 \u0111\u00e2y l\u00e0 ch\u00fang ta g\u00e1n ki\u1ec3u d\u1eef li\u1ec7u <code>number</code> cho c\u1ea3 <code>\u0111\u1ed1i s\u1ed1</code> v\u00e0 gi\u00e1 tr\u1ecb <code>tr\u1ea3 v\u1ec1</code>, function sau \u0111\u00f3 ch\u1ec9 c\u00f3 th\u1ec3 s\u1eed d\u1ee5ng v\u1edbi ki\u1ec3u d\u1eef li\u1ec7u <code>number</code> n\u00e0y - function c\u00f3 v\u1ebb kh\u00f4ng \u0111\u01b0\u1ee3c expand l\u1eafm - ho\u1eb7c n\u00f3 ch\u00ednh l\u00e0 \u0111i\u1ec1u ch\u00fang ta mong mu\u1ed1n.</p> </li> <li> <p>Th\u1ef1c s\u1ef1 th\u00ec ch\u00fang ta c\u00f3 th\u1ec3 chuy\u1ec3n <code>number</code> th\u00e0nh <code>any</code>, nh\u01b0ng trong process ch\u00fang ta \u0111ang m\u1ea5t \u0111i kh\u1ea3 n\u0103ng \u0111\u1ecbnh ngh\u0129a ki\u1ec3u d\u1eef li\u1ec7u n\u00ean \u0111\u01b0\u1ee3c tr\u1ea3 v\u1ec1, v\u00e0 gi\u1ea3m t\u1ea3i cho tr\u00ecnh bi\u00ean d\u1ecbch.</p> </li> <li> <p>\u0110i\u1ec1u ch\u00fang ta th\u1ef1c s\u1ef1 mu\u1ed1n l\u00e0 <code>identity()</code> ho\u1ea1t \u0111\u1ed9ng v\u1edbi b\u1ea5t k\u1ef3 ki\u1ec3u d\u1eef li\u1ec7u n\u00e0o v\u00e0 s\u1eed d\u1ee5ng <code>generics</code> c\u00f3 th\u1ec3 gi\u1ea3i quy\u1ebft b\u00e0i to\u00e1n n\u00e0y. B\u00ean d\u01b0\u1edbi l\u00e0 c\u00f9ng m\u1ed9t function, l\u1ea7n n\u00e0y <code>ki\u1ec3u d\u1eef li\u1ec7u c\u1ee7a bi\u1ebfn (type variable)</code> \u0111\u01b0\u1ee3c th\u00eam v\u00e0o:</p> </li> </ul> <pre><code>function identity&lt;T&gt;(arg: T): T {\n  return arg;\n}\n</code></pre> <ul> <li> <p>Sau t\u00ean h\u00e0m ch\u00fang ta th\u00eam ki\u1ec3u d\u1eef li\u1ec7u c\u1ee7a bi\u1ebfn <code>T</code>, trong \u0111\u00f3ng m\u1edf ngo\u1eb7c nh\u1ecdn <code>&lt; &gt;</code>. <code>T</code> \u0111ang gi\u1eef ch\u1ed7 cho ki\u1ec3u d\u1eef li\u1ec7u ch\u00fang ta mu\u1ed1n truy\u1ec1n v\u00e0o <code>indetity</code>, v\u00e0 n\u00f3 \u0111\u01b0\u1ee3c g\u00e1n cho ki\u1ec3u d\u1eef li\u1ec7u c\u1ee7a <code>arg</code>: thay v\u00ec <code>number</code>, <code>T</code> b\u00e2y gi\u1edd \u0111\u00f3ng vai tr\u00f2 nh\u01b0 m\u1ed9t type.</p> </li> <li> <p>Note: Ki\u1ec3u d\u1eef li\u1ec7u c\u1ee7a c\u00e1c bi\u1ebfn \u0111\u01b0\u1ee3c tham chi\u1ebfu nh\u01b0 <code>type parameters</code> v\u00e0 <code>generic parameters</code>. B\u00e0i n\u00e0y s\u1eed d\u1ee5ng thu\u1eadt ng\u1eef type variables, t\u01b0\u01a1ng \u1ee9ng v\u1edbi documentation c\u1ee7a Typescript official.</p> </li> <li> <p><code>T</code> vi\u1ebft t\u1eaft c\u1ee7a Type, v\u00e0 c\u0169ng th\u01b0\u1eddng \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng nh\u01b0 ki\u1ec3u d\u1eef li\u1ec7u c\u1ee7a bi\u1ebfn \u0111\u1ea7u ti\u00ean khi \u0111\u1ecbnh ngh\u0129a generics. Nh\u01b0ng trong th\u1ef1c t\u1ebf <code>T</code> c\u00f3 th\u1ec3 \u0111\u01b0\u1ee3c thay th\u1ebf v\u1edbi b\u1ea5t k\u1ef3 t\u00ean h\u1ee3p l\u1ec7 n\u00e0o. Kh\u00f4ng ch\u1ec9 v\u1eady, ch\u00fang ta kh\u00f4ng b\u1ecb gi\u1edbi h\u1ea1n v\u1edbi ch\u1ec9 m\u1ed9t ki\u1ec3u bi\u1ebfn - ch\u00fang ta c\u00f3 th\u1ec3 mang bao nhi\u00eau ki\u1ec3u ch\u00fang ta mu\u1ed1n \u0111\u1ecbnh ngh\u0129a. Th\u1eed v\u1edbi <code>U</code> v\u00e0 <code>T</code> m\u1edf r\u1ed9ng h\u00e0m c\u1ee7a ch\u00fang ta:</p> </li> </ul> <pre><code>function identities&lt;T, U&gt;(arg1: T, arg2: U): T {\n  return arg1;\n}\n</code></pre> <ul> <li> <p>Gi\u1edd ch\u00fang ta c\u00f3 m\u1ed9t <code>identities()</code> h\u1ed7 tr\u1ee3 hai ki\u1ec3u d\u1eef li\u1ec7u, th\u00eam m\u1ed9t ki\u1ec3u <code>U</code> type. Nh\u01b0ng v\u1eabn tr\u1ea3 v\u1ec1 type <code>T</code>. H\u00e0m c\u1ee7a ch\u00fang ta gi\u1edd \u0111\u1ee7 th\u00f4ng minh \u0111\u1ec3 truy\u1ec1n v\u00e0o 2 ki\u1ec3u d\u1eef li\u1ec7u tr\u1ea3 v\u1ec1 m\u1ed9t ki\u1ec3u d\u1eef li\u1ec7u c\u1ee7a <code>arg1</code>.</p> </li> <li> <p>Nh\u01b0ng n\u1ebfu ch\u00fang ta mu\u1ed1n tr\u1ea3 v\u1ec1 m\u1ed9t object v\u1edbi c\u1ea3 hai lo\u1ea1i? C\u00f3 nhi\u1ec1u c\u00e1ch \u0111\u1ec3 l\u00e0m vi\u1ec7c n\u00e0y. C\u00f3 th\u1ec3 l\u00e0m v\u1edbi <code>tuple</code>, nh\u01b0 n\u00e0y:</p> </li> </ul> <pre><code>function identities&lt;T, U&gt;(arg1: T, arg2: U): [T, U] {\n  return [arg1, arg2];\n}\n</code></pre> <ul> <li>H\u00e0m <code>identities</code> c\u1ee7a ch\u00fang ta gi\u1edd tr\u1ea3 v\u1ec1 m\u1ed9t <code>tuple</code> bao g\u1ed3m m\u1ed9t tham s\u1ed1 <code>T</code> v\u00e0 m\u1ed9t tham s\u1ed1 <code>U</code>. Tuy nhi\u00ean, r\u1ea5t c\u00f3 th\u1ec3 trong m\u00e3 c\u1ee7a b\u1ea1n s\u1ebd mu\u1ed1n cung c\u1ea5p m\u1ed9t <code>interfaces</code> thay th\u1ebf cho <code>tuple</code> (b\u1ed9 d\u1eef li\u1ec7u), \u0111\u1ec3 code b\u1ea1n tr\u1edf n\u00ean d\u1ec5 \u0111\u1ecdc h\u01a1n.</li> </ul>"},{"location":"blog/2020/05/08/typescript-generics-explainedhttpsmediumcomrossbulattypescript-generics-explained-15c6493b510f/#generic-interfaces","title":"Generic Interfaces","text":"<ul> <li>Vi\u1ec7c n\u00e0y mang ch\u00fang ta t\u1edbi <code>generic interfaces</code>; c\u00f9ng t\u1ea1o m\u1ed9t generic <code>Identites</code> interface \u0111\u1ec3 s\u1eed d\u1ee5ng v\u1edbi <code>identities()</code>:</li> </ul> <pre><code>interface Identities&lt;V, W&gt; {\n  id1: V;\n  id2: W;\n}\n</code></pre> <ul> <li> <p>T\u00f4i s\u1eed d\u1ee5ng <code>V</code> v\u00e0 <code>W</code> nh\u01b0 ki\u1ec3u d\u1eef li\u1ec7u c\u1ee7a bi\u1ebfn \u0111\u1ec3 demo cho b\u1ea5t k\u1ef3 ch\u1eef c\u00e1i n\u00e0o (ho\u1eb7c k\u1ebft h\u1ee3p h\u1ee3p l\u1ec7 c\u1ee7a c\u00e1c ch\u1eef c\u00e1i), ko quan tr\u1ecdng b\u1ea1n g\u1ecdi ch\u00fang.</p> </li> <li> <p>Ch\u00fang ta c\u00f3 th\u1ec3 \u00e1p d\u1ee5ng interface n\u00e0y nh\u01b0 gi\u00e1 tr\u1ecb tr\u1ea3 v\u1ec1 cho <code>identities()</code>, s\u1eeda \u0111\u1ed5i gi\u00e1 tr\u1ecb tr\u1ea3 v\u1ec1 \u0111\u1ec3 tu\u00e2n th\u1ee7. D\u00f9ng <code>console.log</code> \u0111\u1ec3 in ra tham s\u1ed1 v\u00e0 ki\u1ec3u d\u1eef li\u1ec7u c\u1ee7a ch\u00fang \u0111\u1ec3 l\u00e0m r\u00f5:</p> </li> </ul> <pre><code>function identities&lt;T, U&gt;(arg1: T, arg2: U): Identities&lt;T, U&gt; {\n  console.log(arg1 + \": \", +typeof arg1);\n  console.log(arg2 + \": \", +typeof arg2);\n\n  let identities: Identities&lt;T, U&gt; = {\n    id1: arg1,\n    id2: arg2,\n  };\n  return identities;\n}\n</code></pre> <ul> <li> <p>Nh\u1eefng g\u00ec ch\u00fang ta \u0111ang l\u00e0m v\u1edbi <code>identities()</code> l\u00e0 truy\u1ec1n v\u00e0o ki\u1ec3u <code>T</code> v\u00e0 <code>U</code> v\u00e0 interface <code>Identities</code>, cho ph\u00e9p ch\u00fang ta \u0111\u1ecbnh ngh\u0129a ki\u1ec3u tr\u1ea3 v\u1ec1 li\u00ean quan t\u1edbi ki\u1ec3u d\u1eef li\u1ec7u truy\u1ec1n v\u00e0o.</p> </li> <li> <p>Note: N\u1ebfu b\u1ea1n bi\u00ean d\u1ecbch code Typescript c\u1ee7a b\u1ea1n v\u00e0 nh\u00ecn v\u00e0o c\u00e1c generics, b\u1ea1n s\u1ebd kh\u00f4ng t\u00ecm th\u1ea5y b\u1ea5t k\u1ef3 g\u00ec. Generics kh\u00f4ng \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3 b\u1edfi Javascript, b\u1ea1n s\u1ebd kh\u00f4ng th\u1ea5y ch\u00fang trong b\u1ed9 chuy\u1ec3n m\u00e3 c\u1ee7a b\u1ea1n.</p> </li> </ul>"},{"location":"blog/2020/05/08/typescript-generics-explainedhttpsmediumcomrossbulattypescript-generics-explained-15c6493b510f/#generic-classes","title":"Generic Classes","text":"<ul> <li>Ch\u00fang ta c\u00f3 th\u1ec3 t\u1ea1o ra m\u1ed9t <code>class</code> generic trong <code>properties</code> v\u00e0 <code>methods</code> c\u1ee7a class. M\u1ed9t generic class \u0111\u1ea3m ba\u1ecf r\u1eb1ng c\u00e1c ki\u1ec3u d\u1eef li\u1ec7u c\u1ee5 th\u1ec3 \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng nh\u1ea5t qu\u00e1n trong to\u00e0n b\u1ed9 class. V\u00ed d\u1ee5, b\u1ea1n c\u00f3 th\u1ec3 nh\u1eadn ra quy \u01b0\u1edbc sau trong c\u00e1c d\u1ef1 \u00e1n React Typescript:</li> </ul> <pre><code>type Pros = {\n  className?: string\n  ...\n};\n\ntype State = {\n  Submitted?: bool\n  ...\n};\n\nclass MyComponent extends React.Component&lt;Props, State&gt; {\n  ...\n}\n</code></pre> <ul> <li> <p>Ch\u00fang ta \u0111ang s\u1eed d\u1ee5ng <code>generics</code> \u1edf \u0111\u00e2y v\u1edbi React components \u0111\u1ec3 \u0111\u1ea3m b\u1ea3o props v\u00e0 state l\u00e0 nh\u1ea5t qu\u00e1n.</p> </li> <li> <p>C\u00fa ph\u00e1p generic c\u1ee7a class t\u01b0\u01a1ng t\u1ef1 nh\u01b0 nh\u1eefng g\u00ec ch\u00fang ta \u0111\u00e3 l\u00e0m t\u1eeb \u0111\u1ea7u t\u1edbi gi\u1edd. Xem class d\u01b0\u1edbi \u0111\u00e2y c\u00f3 th\u1ec3 qu\u1ea3n l\u00fd nhi\u1ec1u ki\u1ec3u c\u1ee7a profile m\u1ed9t l\u1eadp tr\u00ecnh vi\u00ean:</p> </li> </ul> <pre><code>class Programmer&lt;T&gt; {\n  private languageName: string;\n  private languageInfo: T;\n\n  constructor(lang: string) {\n    this.languageName = lang;\n  }\n  ...\n}\n\nlet programmer1 = new Programmer&lt;Language.Typescript&gt;(\"Typescript\");\nlet programmer2 = new Programmer&lt;Language.Rust&gt;(\"Rust\");\n</code></pre> <ul> <li>V\u1edbi class <code>Programmer</code>, <code>T</code> l\u00e0 ki\u1ec3u d\u1eef li\u1ec7u cho ng\u00f4n ng\u1eef l\u1eadp tr\u00ecnh, cho ph\u00e9p ch\u00fang ta g\u00e1n c\u00e1c lo\u1ea1i ng\u00f4n ng\u1eef kh\u00e1c nhau. M\u1ed7i ng\u00f4n ng\u1eef ch\u1eafc ch\u1eafn c\u00f3 <code>metadata</code> kh\u00e1c nhau, v\u00e0 do \u0111\u00f3 c\u1ea7n ki\u1ec3u kh\u00e1c nhau.</li> </ul>"},{"location":"blog/2020/05/08/typescript-generics-explainedhttpsmediumcomrossbulattypescript-generics-explained-15c6493b510f/#a-note-on-type-argument-inference","title":"A note on type argument inference","text":"<ul> <li>Trong v\u00ed d\u1ee5 tr\u00ean ch\u00fang ta s\u1eed d\u1ee5ng ngo\u1eb7c nh\u1ecdn v\u1edbi c\u00e1c ng\u00f4n ng\u1eef c\u1ee5 th\u1ec3, khi kh\u1edfi t\u1ea1o m\u1ed9t <code>Programmer</code> m\u1edbi, v\u1edbi c\u00fa ph\u00e1p nh\u01b0 sau:</li> </ul> <pre><code>let myObj = new className() &lt; Type &gt; \"args\";\n</code></pre> <ul> <li> <p>\u0110\u1ec3 kh\u1edfi t\u1ea1o class, tr\u00ecnh bi\u00ean d\u1ecbch kh\u00f4ng th\u1ec3 \u0111o\u00e1n lo\u1ea1i ng\u00f4n ng\u1eef s\u1ebd g\u00e1n cho l\u1eadp tr\u00ecnh vi\u00ean, b\u1eaft bu\u1ed9c c\u1ea7n truy\u1ec1n v\u00e0o. Tuy nhi\u00ean, v\u1edbi function, tr\u00ecnh bi\u00ean d\u1ecbch c\u00f3 th\u1ec3 \u0111o\u00e1n ki\u1ec3u d\u1eef li\u1ec7u ch\u00fang ta mu\u1ed1n - \u0111\u00e2y c\u00e1ch c\u00e1c l\u1eadp tr\u00ecnh vi\u00ean s\u1eed d\u1ee5ng.</p> </li> <li> <p>L\u00e0m r\u00f5 \u0111i\u1ec1u n\u00e0y, c\u00f9ng tham chi\u1ebfu t\u1edbi <code>identities()</code> m\u1ed9t l\u1ea7n n\u1eefa. G\u1ecdi h\u00e0m nh\u01b0 n\u00e0y s\u1ebd g\u00e1n <code>string</code> v\u00e0 <code>number</code> cho ki\u1ec3u <code>T</code> v\u00e0 <code>U</code>:</p> </li> </ul> <pre><code>let result = identities&lt;stirng, number&gt;(\"argument 1\", 1000);\n</code></pre> <ul> <li>Tuy nhi\u00ean, ki\u1ec3u hay \u0111\u01b0\u1ee3c d\u00f9ng l\u00e0 \u0111\u1ec3 tr\u00ecnh bi\u00ean d\u1ecbch t\u1ef1 ch\u1ecdn ki\u1ec3u, l\u00e0m code b\u1ea1n nh\u00ecn s\u1ea1ch s\u1ebd h\u01a1n. Ch\u00fang ta c\u00f3 th\u1ec3 b\u1ecf s\u00f3t ngo\u1eb7c nh\u1ecdn v\u00e0 vi\u1ebft l\u1ea1i h\u00e0m nh\u01b0 d\u01b0\u1edbi:</li> </ul> <pre><code>let result = identities(\"argument 1\", 1000);\n</code></pre> <ul> <li> <p>Tr\u00ecnh bi\u00ean d\u1ecbch \u0111\u1ee7 th\u00f4ng minh \u0111\u1ec3 ch\u1ecdn ki\u1ec3u c\u1ee7a c\u00e1c tham s\u1ed1 , v\u00e0 g\u00e1n v\u00e0o <code>T</code>, <code>U</code> kh\u00f4ng c\u1ea7n l\u1eadp tr\u00ecnh vi\u00ean \u0111\u1ecbnh ngh\u0129a ch\u00fang.</p> </li> <li> <p>Caveat: N\u1ebfu ch\u00fang ta c\u00f3 m\u1ed9t ki\u1ec3u d\u1eef li\u1ec7u tr\u1ea3 v\u1ec1 m\u00e0 kh\u00f4ng c\u00f3 tham s\u1ed1 n\u00e0o c\u00f3 ki\u1ec3u nh\u01b0 v\u1eady. Tr\u00ecnh bi\u00ean d\u1ecbch s\u1ebd c\u1ea7n ch\u00fang ta ch\u1ec9 r\u00f5 ki\u1ec3u tr\u1ea3 v\u1ec1.</p> </li> </ul>"},{"location":"blog/2020/05/08/typescript-generics-explainedhttpsmediumcomrossbulattypescript-generics-explained-15c6493b510f/#when-to-use-generics","title":"When to use generics","text":"<ul> <li> <p>Generics cho ch\u00fang ta c\u00e1ch g\u00e1n ki\u1ec3u an to\u00e0n cho c\u00e1c d\u1eef li\u1ec7u c\u1ee7a c\u00e1c m\u1ee5c, nh\u01b0ng kh\u00f4ng n\u00ean s\u1eed d\u1ee5ng nh\u01b0 v\u1eady tr\u1eeb khi c\u00e1ch n\u00e0y c\u00f3 \u00fd ngh\u0129a, khi \u0111\u01a1n gi\u1ea3n h\u00f3a, t\u1ed1i \u01b0u h\u00f3a code khi nhi\u1ec1u type \u0111ang \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng.</p> </li> <li> <p>C\u00e1c tr\u01b0\u1eddng h\u1ee3p kh\u00f4ng n\u00ean s\u1eed d\u1ee5ng fenerics, b\u1ea1n s\u1ebd th\u01b0\u1eddng t\u00ecm th\u1ea5y b\u1ed9 c\u00e1c <code>use case</code> trong codebase \u1edf \u0111\u00e2y v\u00e0 ph\u1ea7n l\u1eb7p l\u1ea1i c\u1ee7a code. Nh\u01b0ng th\u01b0\u1eddng c\u00f3 hai ti\u00eau ch\u00ed khi ch\u00fang ta c\u1ea7n quy\u1ebft \u0111\u1ecbnh khi n\u00e0o n\u00ean s\u1eed d\u1ee5ng generics:</p> </li> <li> <p>Khi function, interface, ho\u1eb7c class s\u1ebd l\u00e0m vi\u1ec7c v\u1edbi nhi\u1ec1u ki\u1ec3u d\u1eef li\u1ec7u.</p> </li> <li> <p>Khi function, interface, ho\u1eb7c class s\u1eed d\u1ee5ng ki\u1ec3u d\u1eef li\u1ec7u n\u00e0y \u1edf nhi\u1ec1u n\u01a1i.</p> </li> <li> <p>C\u0169ng c\u00f3 th\u1ec3 component ban \u0111\u1ea7u kh\u00f4ng c\u1ea7n s\u1eed d\u1ee5ng generics. Nh\u01b0ng khi project ph\u00ecnh ra, component c\u0169ng m\u1edf r\u1ed9ng. Khi \u0111\u00f3 ph\u00f9 h\u1ee3p v\u1edbi ti\u00eau ch\u00ed n\u00e0y.</p> </li> <li> <p>Ch\u00fang ta s\u1ebd kh\u00e1m ph\u00e1 nhi\u1ec1u case h\u01a1n khi c\u1ea3 hai ti\u00eau ch\u00ed \u0111\u1ea1t \u0111\u01b0\u1ee3c \u1edf ph\u1ea7n d\u01b0\u1edbi b\u00e0i n\u00e0y. C\u00f9ng kh\u00e1m ph\u00e1 m\u1ed9t v\u00e0i t\u00ednh n\u0103ng c\u1ee7a generic tr\u01b0\u1edbc khi kh\u00e1m ph\u00e1 c\u00e1c use case.</p> </li> </ul>"},{"location":"blog/2020/05/08/typescript-generics-explainedhttpsmediumcomrossbulattypescript-generics-explained-15c6493b510f/#generic-constraints","title":"Generic Constraints","text":"<ul> <li>\u0110\u00f4i khi ch\u00fang ta mu\u1ed1n gi\u1edbi h\u1ea1n s\u1ed1 l\u01b0\u1ee3ng ki\u1ec3u d\u1eef li\u1ec7u v\u1edbi m\u1ed7i bi\u1ebfn - v\u00e0 nh\u01b0 t\u00ean c\u1ee7a n\u00f3 g\u1ee3i li\u00ean t\u01b0\u1edfng - \u0111\u00e2y ch\u00ednh l\u00e0 th\u1ee9 generics constraints l\u00e0m. Ch\u00fang ta c\u00f3 th\u1ec3 s\u1eed d\u1ee5ng contrainst trong m\u1ed9t v\u00e0i c\u00e1ch nh\u01b0 d\u01b0\u1edbi:</li> </ul>"},{"location":"blog/2020/05/08/typescript-generics-explainedhttpsmediumcomrossbulattypescript-generics-explained-15c6493b510f/#using-constraints-to-ensure-type-properties-exist","title":"Using constraints to ensure type properties exist","text":"<ul> <li> <p>\u0110\u00f4i khi m\u1ed9t ki\u1ec3u generic s\u1ebd y\u00eau c\u1ea7u m\u1ed9t s\u1ed1 thu\u1ed9c t\u00ednh t\u1ed3n t\u1ea1i tr\u00ean lo\u1ea1i \u0111\u00f3. Kh\u00f4ng ch\u1ec9 v\u1eady, tr\u00ecnh bi\u00ean d\u1ecbch s\u1ebd kh\u00f4ng ph\u00e2n bi\u1ec7t \u0111\u01b0\u1ee3c thu\u1ed9c t\u00ednh c\u1ee5 th\u1ec3 t\u1ed3n t\u1ea1i, tr\u1eeb khi ch\u00fang ta x\u00e1c \u0111\u1ecbnh r\u00f5 r\u00e0ng \u0111\u1ec3 \u0111\u1ecbnh ngh\u0129a ch\u00fang.</p> </li> <li> <p>V\u00ed d\u1ee5 \u0111i\u1ec3n h\u00ecnh l\u00e0 khi l\u00e0 vi\u1ec7c v\u1edbi string ho\u1eb7c array khi thu\u1ed9c t\u00ednh <code>.length</code> l\u00e0 kh\u1ea3 d\u1ee5ng. L\u1ea5y <code>identity()</code> l\u00e0m v\u00ed d\u1ee5, v\u00e0 c\u1ed1 g\u1eafng in ra <code>length</code> c\u1ee7a c\u00e1c tham s\u1ed1.</p> </li> </ul> <pre><code>// This will cause an error\nfunction identity&lt;T&gt;(arg: T): T {\n  console.log(arg.length);\n  return arg;\n}\n</code></pre> <ul> <li>Trong tr\u01b0\u1eddng h\u1ee3p n\u00e0y compiler s\u1ebd kh\u00f4ng bi\u1ebft r\u1eb1ng <code>T</code> c\u1ea7n c\u00f3 thu\u1ed9c t\u00ednh <code>.length</code>, \u0111\u1eb7c bi\u1ec7t b\u1ea5t k\u1ef3 lo\u1ea1i n\u00e0o c\u00f3 th\u1ec3 \u0111\u01b0\u1ee3c g\u00e1n cho <code>T</code>. C\u00e1i ch\u00fang ta c\u1ea7n l\u00e0 <code>extend</code> ki\u1ec3u d\u1eef li\u1ec7u bi\u1ebfn v\u00e0o m\u1ed9t <code>interface</code>. Nh\u00ecn nh\u01b0 n\u00e0y:</li> </ul> <pre><code>interface Length {\n  length: number;\n}\n\nfunction identity&lt;T extends Length&gt;(arg: T): T {\n  //length property can now be called\n  console.log(arg.length);\n  return arg;\n}\n</code></pre> <ul> <li> <p><code>T</code> b\u1ecb h\u1ea1n ch\u1ebf \u0111ang s\u1eed d\u1ee5ng <code>extends</code> theo sau b\u1edfi type ch\u00fang ta mu\u1ed1n m\u1edf r\u1ed9ng, b\u00ean trong ngo\u1eb7c nh\u1ecdn. Ch\u00fang ta \u0111ang n\u00f3i v\u1edbi compiler r\u0103ng ch\u00fang ta c\u00f3 th\u1ec3 h\u1ed7 tr\u1ee3 b\u1ea5t k\u1ef3 ki\u1ec3u n\u00e0o c\u00f3 trong <code>Length</code>.</p> </li> <li> <p>Gi\u1edd <code>compiler</code> s\u1ebd cho ph\u00e9p ch\u00fang ta khi ch\u00fang ta g\u1ecdi function v\u1edbi m\u1ed9t ki\u1ec3u kh\u00f4ng h\u1ed7 tr\u1ee3 <code>.length</code>. Kh\u00f4ng ch\u1ec9 v\u1eady, <code>.length</code> gi\u1edd \u0111\u01b0\u1ee3c ghi nh\u1eadn v\u00e0 c\u00f3 th\u1ec3 s\u1eed d\u1ee5ng.</p> </li> <li> <p>Note: Ch\u00fang ta c\u0169ng c\u00f3 th\u1ec3 m\u1edf r\u1ed9ng multiple type b\u1eb1ng c\u00e1ch ng\u0103n c\u00e1ch b\u1edfi d\u1ea5u <code>,</code>. E.g <code>&lt;T extends Length, Type2, Type3&gt;</code>.</p> </li> </ul>"},{"location":"blog/2020/05/08/typescript-generics-explainedhttpsmediumcomrossbulattypescript-generics-explained-15c6493b510f/#explicitly-supporting-arrays","title":"Explicitly supporting arrays","text":"<ul> <li>C\u00f3 gi\u1ea3i ph\u00e1p kh\u00e1c cho thu\u1ed9c t\u00ednh <code>.length</code> n\u1ebfu ch\u00fang ta h\u1ed7 tr\u1ee3 ki\u1ec3u m\u1ea3ng. Ch\u00fang ta c\u00f3 th\u1ec3 \u0111\u1ecbnh ngh\u0129a ki\u1ec3u d\u1eef li\u1ec7u l\u00e0 m\u1ed9t m\u1ea3ng, nh\u01b0 d\u01b0\u1edbi:</li> </ul> <pre><code>// length is now recognised by declaring T as a type of array\n\nfunction identity&lt;T&gt;(arg: T[]): T[] {\n  console.log(arg.length);\n  return arg;\n}\n\n//or\nfunction identity&lt;T&gt;(arg: Array&lt;T&gt;): Array&lt;T&gt; {\n  console.log(arg.length);\n  return arg;\n}\n</code></pre> <ul> <li>C\u1ea3 hai c\u00e1ch tr\u00ean \u0111\u1ec1u s\u1ebd ho\u1ea1t \u0111\u1ed9ng, theo \u0111\u00f3 ch\u00fang ta cho ph\u00e9p compiler bi\u1ebft r\u1eb1ng <code>arg</code> v\u00e0 gi\u00e1 tr\u1ecb tr\u1ea3 v\u1ec1 c\u1ee7a function s\u1ebd l\u00e0 ki\u1ec3u array.</li> </ul>"},{"location":"blog/2020/05/08/typescript-generics-explainedhttpsmediumcomrossbulattypescript-generics-explained-15c6493b510f/#using-constraints-to-check-an-object-key-exists","title":"Using constraints to check an object key exists","text":"<ul> <li>Tr\u01b0\u1eddng h\u1ee3p s\u1eed d\u1ee5ng tuy\u1ec7t v\u1eddi cho constraints l\u00e0 x\u00e1c nh\u1eadn key t\u1ed3n t\u1ea1i trong object b\u1eb1ng c\u00e1ch s\u1eed d\u1ee5ng c\u00fa ph\u00e1p <code>extends keyof</code>. Xem v\u00ed d\u1ee5 d\u01b0\u1edbi ki\u1ec3m tra m\u1ed9t key c\u00f3 t\u1ed3n t\u1ea1i trong ojbect \u0111\u01b0\u1ee3c ch\u00fang ta truy\u1ec1n v\u00e0o h\u00e0m kh\u00f4ng ?</li> </ul> <pre><code>function getProperty&lt;T, K extends keyof T&gt;(obj: T, key: K): T[K] {\n  return obj[key];\n}\n</code></pre> <ul> <li> <p>Tham s\u1ed1 th\u1ee9 nh\u1ea5t l\u00e0 object ch\u00fang ta s\u1ebd l\u1ea5y gi\u00e1 tr\u1ecb t\u1eeb n\u00f3, tham s\u1ed1 th\u1ee9 hai l\u00e0 key c\u1ee7a object n\u00e0y.Gi\u00e1 tr\u1ecb tr\u1ea3 v\u1ec1 m\u00f4 t\u1ea3 m\u1ed1i quan h\u1ec7 n\u00e0y v\u1edbi <code>T[K]</code>, d\u00f9 h\u00e0m n\u00e0y ho\u1ea1t \u0111\u1ed9ng v\u1edbi m\u00e0 kh\u00f4ng c\u00f3 ki\u1ec3u tr\u1ea3 v\u1ec1 \u0111\u01b0\u1ee3c x\u00e1c \u0111\u1ecbnh.</p> </li> <li> <p>\u0110i\u1ec1u generics c\u1ee7a ch\u00fang ta \u0111ang l\u00e0m l\u00e0 \u0111\u1ea3m b\u1ea3o <code>key</code> c\u1ee7a object l\u00e0 t\u1ed3n t\u1ea1i v\u00e0 kh\u00f4ng c\u00f3 l\u1ed7i trong th\u1eddi gian th\u1ef1c thi x\u1ea3y ra. Gi\u1ea3i ph\u00e1p ki\u1ec3u an to\u00e0n (<code>type-safe</code>) n\u00e0y t\u1eeb vi\u1ec7c g\u1ecdi g\u00ec \u0111\u00f3 nh\u01b0: <code>let value = obj[key]</code>.</p> </li> <li> <p>T\u1eeb gi\u1edd <code>getProperty</code> \u0111\u01a1n gi\u1ea3n \u0111\u1ec3 d\u00f9ng, nh\u01b0 trong v\u00ed d\u1ee5 d\u01b0\u1edbi \u0111\u1ec3 l\u1ea5y m\u1ed9t thu\u1ed9c t\u00ednh t\u1eeb m\u1ed9t \u0111\u1ed1i t\u01b0\u1ee3ng <code>typescript_info</code>:</p> </li> </ul> <pre><code>// the property we will get will be of type Difficulty\n\nenum Difficulty {\n  Easy,\n  Intermediate,\n  Hard\n}\n\n// defining the object we will get a property from\n\nlet typescript_info = {\n  name: \"typescript\",\n  supperset_of: \"javascript\",\n  difficulty: Difficulty.Intermediate,\n}\n\n// calling getProperty to retrieve a value from typescript_info\nlet supperset_of: Difficulty =\n  getProperty(typescript_info, 'difficulty');\n</code></pre> <ul> <li>V\u00ed d\u1ee5 n\u00e0y c\u0169ng c\u00f3 th\u00eam m\u1ed9t <code>enum</code> \u0111\u1ec3 \u0111\u1ecbnh ngh\u0129a ki\u1ec3u c\u1ee7a thu\u1ed9c t\u00ednh <code>difficulty</code> m\u00e0 ch\u00fang ta s\u1ebd nh\u1eadn \u0111\u01b0\u1ee3c v\u1edbi <code>getProperty</code>.</li> </ul>"},{"location":"blog/2020/05/08/typescript-generics-explainedhttpsmediumcomrossbulattypescript-generics-explained-15c6493b510f/#more-generic-use-cases","title":"More Generic Use Cases","text":"<ul> <li>Ti\u1ebfp theo, ch\u00fang ta kh\u00e1m ph\u00e1 l\u00e0m sao <code>generics</code> c\u00f3 th\u1ec3 s\u1eed d\u1ee5ng trong c\u00e1c tr\u01b0\u1eddng h\u1ee3p th\u1ef1c t\u1ebf kh\u00f4ng th\u1ec3 thi\u1ebfu.</li> </ul>"},{"location":"blog/2020/05/08/typescript-generics-explainedhttpsmediumcomrossbulattypescript-generics-explained-15c6493b510f/#api-services","title":"API services","text":"<ul> <li> <p>API services l\u00e0 tr\u01b0\u1eddng h\u1ee3p \u0111i\u1ec3n h\u00ecnh cho vi\u1ec7c s\u1eed d\u1ee5ng <code>generics</code>, cho ph\u00e9p b\u1ea1n b\u1ecdc tr\u00ecnh x\u1eed l\u00fd API c\u1ee7a m\u00ecnh trong m\u1ed9t <code>class</code>, v\u00e0 \u0111\u01b0\u1ee3c g\u00e1n \u0111\u00fang ki\u1ec3u khi ch\u00fang \u0111\u01b0\u1ee3c l\u1ea5y t\u1eeb c\u00e1c endpoint kh\u00e1c nhau.</p> </li> <li> <p>L\u1ea5y <code>getRecord()</code> l\u00e0m v\u00ed d\u1ee5 - class kh\u00f4ng nh\u1eadn th\u1ee9c ki\u1ec3u c\u1ee7a record ch\u00fang ta s\u1ebd nh\u1eadn \u0111\u01b0\u1ee3c t\u1eeb service API c\u1ee7a ch\u00fang ta, c\u0169ng kh\u00f4ng nh\u1eadn th\u1ee9c \u0111\u01b0\u1ee3c ki\u1ec3u d\u1eef li\u1ec7u ch\u00fang ta \u0111ang truy v\u1ea5n. Kh\u1eafc ph\u1ee5c v\u1ea5n \u0111\u1ec1 n\u00e0y, ch\u00fang ta d\u00f9ng generics cho <code>getRecord()</code> nh\u01b0 ph\u1ea7n gi\u1eef ch\u1ed7 cho gi\u00e1 tr\u1ecb tr\u1ea3 v\u1ec1 v\u00e0 ki\u1ec3u gi\u1eef li\u1ec7u truy v\u1ea5n:</p> </li> </ul> <pre><code>class APIService extends API {\n  public getRecord &lt;T, U&gt; (endpoint: string, params: T[]): U {}\n  public getRecords&lt;T, U&gt; (endpoint: string, params: T[]): U[] {}\n}\n</code></pre> <ul> <li>Method generic c\u1ee7a ch\u00fang ta gi\u1edd c\u00f3 th\u1ec3 ch\u1ea5p nh\u1eadn b\u1ea5t k\u1ef3 ki\u1ec3u n\u00e0o c\u1ee7a <code>params</code>, s\u1ebd d\u00f9ng \u0111\u1ec3 query API endpoint. <code>U</code> l\u00e0 gi\u00e1 tr\u1ecb tr\u1ea3 v\u1ec1</li> </ul>"},{"location":"blog/2020/05/08/typescript-generics-explainedhttpsmediumcomrossbulattypescript-generics-explained-15c6493b510f/#manipulating-arrays","title":"Manipulating arrays","text":"<ul> <li>Generics cho ph\u00e9p ch\u00fang ta \u0111i\u1ec1u khi\u1ec3n ki\u1ec3u c\u00e1c array. Ch\u00fang ta c\u00f3 th\u1ec3 mu\u1ed1n th\u00eam ho\u1eb7c x\u00f3a item t\u1eeb d\u1eef li\u1ec7u nh\u00e2n vi\u00ean, nh\u01b0 v\u00ed d\u1ee5 d\u01b0\u1edbi \u0111\u00e2y, s\u1eed d\u1ee5ng m\u1ed9t bi\u1ebfn chung cho l\u1edbp b\u1ed9 ph\u1eadn (<code>Department</code>) v\u00e0 method <code>add</code>:</li> </ul> <pre><code>class Department&lt;T&gt; {\n  //different types of employees\n  private employees: Array&lt;T&gt; = new Array&lt;T&gt;();\n\n  public add (employee: T): void {\n    this.employees.push(employee);\n  }\n}\n</code></pre> <ul> <li> <p>Class tr\u00ean cho ph\u00e9p ch\u00fang ta qu\u1ea3n l\u00fd c\u00e1c nh\u00e2n vi\u00ean b\u1eb1ng <code>department</code> - b\u1ed9 ph\u1eadn, cho ph\u00e9p m\u1ed7i b\u1ed9 ph\u1eadn v\u00e0 c\u00e1c nh\u00e2n vi\u00ean b\u00ean trong \u0111\u01b0\u1ee3c \u0111\u1ecbnh ngh\u0129a b\u1edfi m\u1ed9t ki\u1ec3u c\u1ee5 th\u1ec3.</p> </li> <li> <p>Ho\u1eb7c c\u00f3 l\u1ebd b\u1ea1n y\u00eau c\u1ea7u m\u1ed9t h\u00e0m ti\u1ec7n \u00edch ch\u00fang h\u01a1n \u0111\u1ec3 chuy\u1ec3n \u0111\u1ed5i m\u1ed9t m\u1ea3ng th\u00e0nh m\u1ed9t string \u0111\u01b0\u1ee3c ph\u00e2n c\u00e1ch b\u1edfi c\u00e1c d\u1ea5u ph\u1ea9y.</p> </li> </ul> <pre><code>function arrayAsString&lt;T&gt;(names: T[]): string {\n  return names.join(\", \");\n}\n</code></pre>"},{"location":"blog/2020/05/08/typescript-generics-explainedhttpsmediumcomrossbulattypescript-generics-explained-15c6493b510f/#extending-with-classes","title":"Extending with classes","text":"<ul> <li>Ch\u00fang ta \u0111\u00e3 th\u1ea5y <code>generic constrains</code> \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng v\u1edbi React \u0111\u1ec3 h\u1ea1n ch\u1ebf <code>props</code> v\u00e0 <code>state</code>, nh\u01b0ng ch\u00fang c\u0169ng c\u00f3 th\u1ec3 \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng \u0111\u1ec3 \u0111\u1ea3m b\u1ea3o thu\u1ed9c t\u00ednh c\u1ee7a class l\u00e0 \u0111\u00fang \u0111\u1ecbnh d\u1ea1ng. L\u1ea5y v\u00ed d\u1ee5 nh\u01b0 d\u01b0\u1edbi \u0111\u00e2y, \u0111\u1ea3m b\u1ea3o first v\u00e0 last name c\u1ee7a m\u1ed9t <code>Programmer</code> l\u00e0 \u0111\u01b0\u1ee3c \u0111\u1ecbnh ngh\u0129a khi h\u00e0m y\u00eau c\u1ea7u ch\u00fang:</li> </ul> <pre><code>class Programmer {\n  //automatic constructor parameter assignment\n  constructor (public fname: sttring, public lname: string) {\n\n  }\n}\n\nfunction logProgrammer&lt;T extends Programmer&gt;(prog: T): void {\n  console.log(`${prog.fname} ${prog.lname}`);\n}\n\nconst programmer = new Programmer(\"Ross\", \"Bulat\");\nlogProgrammer(programmer); // &gt; Ross Bulat\n</code></pre> <p>Note: Constructor \u1edf \u0111\u00e2y s\u1eed d\u1ee5ng t\u1ef1 \u0111\u1ed9ng g\u00e1n tham s\u1ed1 cho constructor (<code>automatic constructor parameter assignment</code>), m\u1ed9t t\u00ednh n\u0103ng c\u1ee7a Typescript l\u00e0 g\u00e1n tr\u1ef1c ti\u1ebfp thu\u1ed9c t\u00ednh c\u1ee7a class t\u1eeb \u0111\u1ed1 s\u1ed1 constructor.</p> <ul> <li>Thi\u1ebft l\u1eadp n\u00e0y th\u00eam \u0111\u1ed9 tin c\u1eady v\u00e0 t\u00ednh to\u00e0n v\u1eb9n cho c\u00e1c \u0111\u1ed1i t\u01b0\u1ee3ng c\u1ee7a b\u1ea1n. N\u1ebfu \u0111\u1ed1i t\u01b0\u1ee3ng <code>Programmer</code> c\u1ee7a b\u1ea1n \u0111\u01b0\u1ee3c request v\u1edbi m\u1ed9t API, v\u00e0 b\u1ea1n y\u00eau c\u1ea7u c\u00e1c tr\u01b0\u1eddng c\u1ee5 th\u1ec3, generic constraints s\u1ebd \u0111\u1ea3m b\u1ea3o t\u1ea5t c\u1ea3 s\u1ebd c\u00f3 m\u1eb7t t\u1ea1i th\u1eddi \u0111i\u1ec3m bi\u00ean d\u1ecbch.</li> </ul>"},{"location":"blog/2020/05/08/typescript-generics-explainedhttpsmediumcomrossbulattypescript-generics-explained-15c6493b510f/#in-summary","title":"In Summary","text":"<ul> <li>\u0110\u1ec3 bi\u1ebft th\u00eam th\u00f4ng tin v\u1ec1 <code>generics</code>, t\u00e0i li\u1ec7u offical Typescript s\u1ebd \u0111\u01b0\u1ee3c c\u1eadp nh\u1eadt nh\u1ea5t t\u1ea1i \u0111\u00e2y \u0111\u1ec3 tham chi\u1ebfu c\u0169ng nh\u01b0 c\u00e1c th\u00f4ng tin m\u1edf r\u1ed9ng h\u01a1n v\u1ec1 c\u00e1c <code>use cases</code>.</li> </ul>"},{"location":"blog/2020/07/13/generics-typescripthttpswwwtypescriptlangorgdocshandbookgenericshtml/","title":"Generics Typescript","text":"<ul> <li>B\u00e0i n\u00e0y n\u00ean \u0111\u01b0\u1ee3c d\u1ecbch c\u1ea9n th\u1eadn h\u01a1n. D\u00f2ng n\u00e0y s\u1ebd \u0111\u01b0\u1ee3c x\u00f3a khi \u0111\u00e3 ch\u1ec9nh s\u1eeda l\u1ea1i.</li> </ul>"},{"location":"blog/2020/07/13/generics-typescripthttpswwwtypescriptlangorgdocshandbookgenericshtml/#introduction","title":"Introduction","text":"<ul> <li> <p>M\u1ed9t ph\u1ea7n ch\u00ednh c\u1ee7a k\u1ef9 s\u01b0 ph\u1ea7n m\u1ec1m l\u00e0 x\u00e2y d\u1ef1ng c\u00e1c components kh\u00f4ng ch\u1ec9 \u0111\u01b0\u1ee3c \u0111\u1ecbnh ngh\u0129a r\u00f5 r\u00e0ng v\u00e0 c\u00e1c APIs th\u00edch h\u1ee3p m\u00e0 c\u00f2n t\u00e1i s\u1eed d\u1ee5ng \u0111\u01b0\u1ee3c. Components c\u00f3 kh\u1ea3 n\u0103ng l\u00e0m vi\u1ec7c v\u1edbi d\u1ef1 li\u1ec7u ng\u00e0y h\u00f4m nay c\u0169ng nh\u01b0 d\u1eef li\u1ec7u t\u01b0\u01a1ng lai s\u1ebd \u0111\u01b0a cho b\u1ea1n kh\u1ea3 n\u0103ng linh ho\u1ea1t \u0111\u1ec3 x\u00e2y d\u1ef1ng h\u1ec7 th\u1ed1ng ph\u1ea7n m\u1ec1m l\u1edbn.</p> </li> <li> <p>V\u1edbi C# v\u00e0 Java, m\u1ed9t trong c\u00e1c tools ch\u00ednh t\u1ea1o ra c\u00e1c component t\u00e1i s\u1eed d\u1ee5ng \u0111\u01b0\u1ee3c l\u00e0 <code>generic</code>, th\u1ee9 c\u00f3 kh\u1ea3 n\u0103ng t\u1ea1o ra c\u00e1c component c\u00f3 th\u1ec3 l\u00e0m vi\u1ec7c v\u1edbi c\u00e1c ki\u1ec3u d\u1eef li\u1ec7u kh\u00e1c nhau h\u01a1n l\u00e0 ch\u1ec9 m\u1ed9t lo\u1ea1i.</p> </li> </ul>"},{"location":"blog/2020/07/13/generics-typescripthttpswwwtypescriptlangorgdocshandbookgenericshtml/#hello-world-of-generics","title":"Hello World of Generics","text":"<ul> <li> <p>\u0110\u1ec3 b\u1eaft \u0111\u1ea7u, c\u00f9ng l\u00e0m generic \"hello world\": h\u00e0m nh\u1eadn d\u1ea1ng ( identity function). The identity function l\u00e0 h\u00e0m s\u1ebd tr\u1ea3 v\u1ec1 b\u1ea5t c\u1ee9 g\u00ec \u0111\u01b0\u1ee3c truy\u1ec1n v\u00e0o. H\u00ecnh dung t\u01b0\u01a1ng t\u1ef1 nh\u01b0 <code>echo</code> v\u1eady :D</p> </li> <li> <p>Kh\u00f4ng c\u00f3 <code>generics</code>, ch\u00fang s\u1ebd s\u1ebd ph\u1ea3i \u0111\u01b0a cho identity function m\u1ed9t ki\u1ec3u c\u1ee5 th\u1ec3:</p> </li> </ul> <pre><code>function identity(arg: number): number {\n  return arg;\n}\n</code></pre> <ul> <li>Ho\u1eb7c ch\u00fang ta c\u0169ng c\u00f3 th\u1ec3 m\u00f4 t\u1ea3 v\u1edbi m\u1ed9t <code>any</code> type:</li> </ul> <pre><code>function identity(arg: any): any {\n  return arg;\n}\n</code></pre> <ul> <li>Khi s\u1eed d\u1ee5ng <code>any</code> s\u1ebd l\u00e0 nguy\u00ean nh\u00e2n c\u1ee7a function s\u1ebd ch\u1ea5p nh\u1eadn b\u1ea5t k\u1ef3 ki\u1ec3u d\u1eef li\u1ec7u n\u00e0o c\u1ee7a <code>arg</code>, \u0111i\u1ec1u n\u00e0y th\u1ef1c s\u1ef1 l\u00e0m m\u1ea5t th\u00f4ng tin ki\u1ec3u d\u1eef li\u1ec7u m\u00e0 h\u00e0m s\u1ebd tr\u1ea3 v\u1ec1 l\u00e0 g\u00ec ? N\u1ebfu ch\u00fang ta truy\u1ec1n v\u00e0o m\u1ed9t s\u1ed1, th\u00f4ng tin duy nh\u1ea5t ch\u00fang ta c\u00f3 l\u00e0 b\u1ea5t k\u1ef3 ki\u1ec3u d\u1eef n\u00e0o c\u0169ng c\u00f3 th\u1ec3 tr\u1ea3 v\u1ec1. (T\u1ea1i sao \u01b0 v\u00ed d\u1ee5 nh\u01b0 d\u01b0\u1edbi)</li> </ul> <pre><code>function identity(arg: any): any {\n  return arg.toString();\n}\n</code></pre> <ul> <li>Thay v\u00ec v\u1eady, ch\u00fang ta c\u1ea7n m\u1ed9t c\u00e1ch \u0111\u1ec3 l\u01b0u gi\u1eef l\u1ea1i ki\u1ec3u c\u1ee7a tham s\u1ed1 r\u1ed3i sau \u0111\u00f3 suy ra \u0111\u01b0\u1ee3c ki\u1ec3u d\u1eef li\u1ec7u s\u1ebd tr\u1ea3 v\u1ec1. \u1ede \u0111\u00e2y, ch\u00fang ta s\u1ebd s\u1eed d\u1ee5ng m\u1ed9t <code>ki\u1ec3u d\u1eef li\u1ec7u c\u1ee7a bi\u1ebfn</code>, m\u1ed9t ki\u1ec3u \u0111\u1eb7c bi\u1ec7t c\u1ee7a bi\u1ebfn l\u00e0m vi\u1ec7c tr\u00ean ki\u1ec3u d\u1eef li\u1ec7u h\u01a1n l\u00e0 gi\u00e1 tr\u1ecb c\u1ee7a ch\u00fang :D</li> </ul> <pre><code>function identity&lt;T&gt;(arg: T): T {\n  return arg;\n}\n</code></pre> <ul> <li> <p>Ch\u00fang ta th\u00eam m\u1ed9t ki\u1ec3u bi\u1ebfn <code>T</code> v\u00e0o function identity. <code>T</code> cho ph\u00e9p ch\u00fang ta l\u01b0u gi\u1eef ki\u1ec3u d\u1eef li\u1ec7u \u0111\u01b0\u1ee3c ng\u01b0\u1eddi d\u00f9ng truy\u1ec1n v\u00e0o ( v\u00ed d\u1ee5 <code>number</code>), do \u0111\u00f3 ch\u00fang ta c\u00f3 th\u1ec3 d\u00f9ng th\u00f4ng tin n\u00e0y v\u1ec1 sau. \u1ede \u0111\u00e2y, ch\u00fang ta d\u00f9ng <code>T</code> m\u1ed9t l\u1ea7n n\u1eefa nh\u01b0 ki\u1ec3u tr\u1ea3 v\u1ec1. \u0110\u1ec3 ki\u1ec3m tra, ch\u00fang ta c\u00f3 th\u1ec3 th\u1ea5y c\u00f9ng ki\u1ec3u d\u1eef li\u1ec7u cho tham s\u1ed1 truy\u1ec1n v\u00e0o v\u00e0 gi\u00e1 tr\u1ecb tr\u1ea3 v\u1ec1. \u0110i\u1ec1u n\u00e0y cho ph\u00e9p ch\u00fang ta truy\u1ec1n t\u1ea3i th\u00f4ng tin ki\u1ec3u d\u1eef li\u1ec7u trong function.</p> </li> <li> <p>Phi\u00ean b\u1ea3n tr\u00ean c\u1ee7a h\u00e0m <code>identity</code> ( s\u1eed d\u1ee5ng <code>T</code>) l\u00e0 m\u1ed9t <code>generic function</code>, n\u00f3 c\u00f3 th\u1ec3 l\u00e0m vi\u1ec7c m\u1edbi m\u1ed9t ph\u1ea1m vi c\u00e1c ki\u1ec3u d\u1eef li\u1ec7u. Kh\u00f4ng gi\u1ed1ng nh\u01b0 <code>any</code>, n\u00f3 c\u0169ng ch\u00ednh x\u00e1c nh\u01b0 c\u00e1ch b\u1ea1n s\u1eed d\u1ee5ng type <code>number</code> trong v\u00ed d\u1ee5 \u0111\u1ea7u ti\u00ean.</p> </li> <li> <p>M\u1ed9t khi ch\u00fang ta vi\u1ebft h\u00e0m generic <code>identity</code>, ch\u00fang ta c\u00f3 th\u1ec3 g\u1ecdi n\u00f3 theo m\u1ed9t trong 2 c\u00e1ch. C\u00e1ch th\u1ee9 nh\u1ea5t l\u00e0 truy\u1ec1n t\u1ea5t c\u1ea3 c\u00e1c tham s\u1ed1, bao g\u1ed3m ki\u1ec3u c\u1ee7a tham s\u1ed1 v\u00e0o function:</p> </li> </ul> <pre><code>let output = identity&lt;string&gt;(\"myString\"); //type of output will be 'string'\n</code></pre> <ul> <li> <p>\u1ede \u0111\u00e2y ch\u00fang ta thi\u1ebft l\u1eadp gi\u00e1 tr\u1ecb r\u00f5 r\u00e0ng <code>string</code> cho <code>T</code> nh\u01b0 tham s\u1ed1 \u0111\u1ec3 g\u1ecdi h\u00e0m, s\u1eed d\u1ee5ng k\u00fd hi\u1ec7u <code>&lt;&gt;</code> bao quanh tham s\u1ed1 h\u01a1n l\u00e0 <code>()</code>.</p> </li> <li> <p>C\u00e1ch th\u1ee9 hai th\u00ec ph\u1ed5 bi\u1ebfn h\u01a1n.</p> </li> </ul> <pre><code>let output = identity(\"myString\"); // type of output will be 'string'\n</code></pre> <ul> <li>Ch\u00fang ta ko thi\u1ebft l\u1eadp gi\u00e1 tr\u1ecb cho <code>&lt;&gt;</code>, tr\u00ecnh bi\u00ean d\u1ecbch s\u1ebd t\u1ef1 ki\u1ec3m tra gi\u00e1 tr\u1ecb c\u1ee7a <code>\"myString\"</code>, v\u00e0 g\u00e1n n\u00f3 cho <code>T</code>. V\u1edbi c\u00e1ch tr\u00ean gi\u00fap code ng\u1eafn v\u00e0 d\u1ec5 \u0111\u1ecdc h\u01a1n, \u0111\u00f4i khi b\u1ea1n c\u1ea7n g\u00e1n gi\u00e1 tr\u1ecb cho tham s\u1ed1 trong c\u00e1c tr\u01b0\u1eddng h\u1ee3p ph\u1ee9c t\u1ea1p h\u01a1n.</li> </ul>"},{"location":"blog/2020/07/13/generics-typescripthttpswwwtypescriptlangorgdocshandbookgenericshtml/#working-with-generic-type-variables","title":"Working with Generic Type Variables","text":"<ul> <li>C\u00f9ng nh\u00ecn l\u1ea1i h\u00e0m <code>identity</code> tr\u01b0\u1edbc \u0111\u00f3:</li> </ul> <pre><code>function identity&lt;T&gt;(arg: T): T {\n  return arg;\n}\n</code></pre> <ul> <li>S\u1ebd ra sao n\u1ebfu ch\u00fang ta mu\u1ed1n log \u0111\u1ed9 d\u00e0i c\u1ee7a \u0111\u1ed1i s\u1ed1 <code>arg</code>. N\u00f3 s\u1ebd na n\u00e1 nh\u01b0 v\u1ea7y :</li> </ul> <pre><code>function logginIdentity&lt;T&gt;(arg: T): T {\n  console.log(arg.length); // Error: T doesn't have .length | Confirmed \u0111\u00e3 test :v\n  return arg;\n}\n</code></pre> <ul> <li> <p>Khi l\u00e0m nh\u01b0 v\u1eady, tr\u00ecnh bi\u00ean d\u1ecbch s\u1ebd \u0111\u01b0a ra l\u1ed7i \u0111ang s\u1eed d\u1ee5ng <code>.length</code> c\u1ee7a <code>arg</code>, nh\u01b0ng kh\u00f4ng \u0111\u00e2u n\u00f3i r\u1eb1ng <code>arg</code> c\u00f3 th\u00e0nh ph\u1ea7n n\u00e0y ( this member). Nh\u1edb r\u1eb1ng, ch\u00fang t\u00f4i tr\u01b0\u1edbc \u0111\u00f3 n\u00f3i r\u1eb1ng ki\u1ec3u c\u1ee7a bi\u1ebfn c\u00f3 th\u1ec3 l\u00e0 b\u1ea5t k\u1ef3 ki\u1ec3u n\u00e0o, do v\u1eady ai \u0111\u00f3 c\u00f3 th\u1ec3 s\u1ebd s\u1eed d\u1ee5ng function n\u00e0y c\u00f3 th\u1ec3 truy\u1ec1n <code>number</code>, ki\u1ec3u d\u1eef li\u1ec7u ch\u1eb3ng h\u1ec1 c\u00f3 <code>length</code>.</p> </li> <li> <p>Gi\u1ea3 d\u1ee5 ch\u00fang ta th\u1ef1c t\u1ebf mu\u1ed1n function n\u00e0y l\u00e0m vi\u1ec7c v\u1edbi m\u1ea3ng c\u00e1c <code>T</code> h\u01a1n l\u00e0 <code>T</code>. V\u00ec ch\u00fang ta l\u00e0m vi\u1ec7c v\u1edbi m\u1ea3ng n\u00ean <code>.length</code> s\u1ebd s\u1eb5n c\u00f3.</p> </li> </ul> <pre><code>function loggingIdentity&lt;T&gt;(arg: T[]): T[] {\n  console.log(arg.length); // Array has a .length, so no more error\n  return arg;\n}\n</code></pre> <ul> <li> <p>B\u1ea1n c\u00f3 th\u1ec3 \u0111\u1ecdc ki\u1ec3u c\u1ee7a <code>loggingIdentity</code> nh\u01b0: \"generic function <code>logginIdentity</code> nh\u1eadn v\u00e0o m\u1ed9t ki\u1ec3u tham s\u1ed1 <code>T</code>, v\u00e0 m\u1ed9t \u0111\u1ed1i s\u1ed1 <code>arg</code> l\u00e0 m\u1ed9t m\u1ea3ng c\u00e1c <code>T</code>, v\u00e0 tr\u1ea3 v\u1ec1 m\u1ed9t m\u1ea3ng c\u00e1c <code>T</code>\". N\u1ebfu ch\u00fang ta truy\u1ec1n v\u00e0o m\u1ed9t m\u1ea3ng c\u00e1c s\u1ed1, ch\u00fang ta nh\u1eadn m\u1ed9t m\u1ea3ng c\u00e1c s\u1ed1, ( T \u0111\u01b0\u1ee3c bind v\u00e0o <code>number</code>). \u0110i\u1ec1u n\u00e0y cho ph\u00e9p ch\u00fang ta s\u1eed d\u1ee5ng generic type variable <code>T</code>nh\u01b0 m\u1ed9t ph\u1ea7n c\u00e1c ki\u1ec3u ch\u00fang ta \u0111ang l\u00e0m vi\u1ec7c h\u01a1n l\u00e0 t\u1ea5t c\u1ea3 c\u00e1c ki\u1ec3u, \u0111i\u1ec1u n\u00e0y t\u1ea1o ra s\u1ef1 uy\u1ec3n chuy\u1ec3n h\u01a1n.</p> </li> <li> <p>Ch\u00fang ta c\u00f3 th\u1ec3 vi\u1ebft l\u1ea1i v\u00ed d\u1ee5 tr\u00ean nh\u01b0 d\u01b0\u1edbi:</p> </li> </ul> <pre><code>function loggingIdentity&lt;T&gt;(arg: Array&lt;T&gt;): Array&lt;T&gt; {\n  console.log(arg.length); // Array has a .length, so no more error\n  return arg;\n}\n</code></pre>"},{"location":"blog/2020/07/13/generics-typescripthttpswwwtypescriptlangorgdocshandbookgenericshtml/#generic-types","title":"Generic Types","text":"<ul> <li> <p>Ph\u1ea7n tr\u01b0\u1edbc ch\u00fang ta t\u1ea1o generic function <code>identity</code>, l\u00e0m vi\u1ec7c v\u1edbi nhi\u1ec1u ki\u1ec3u d\u1eef li\u1ec7u. Trong ph\u1ea7n n\u00e0y, ch\u00fang ta s\u1ebd kh\u00e1m ph\u00e1 c\u00e1c ki\u1ec3u c\u1ee7a ch\u00ednh c\u00e1c function v\u00e0 l\u00e0m c\u00e1ch n\u00e0o t\u1ea1o ra generic interfaces.</p> </li> <li> <p>Type c\u1ee7a <code>generic function</code> gi\u1ed1ng nh\u01b0 type c\u1ee7a <code>non-generic funciton</code>, v\u1edbi ki\u1ec3u d\u1eef li\u1ec7u tham s\u1ed1 ( type parameters) \u0111\u01b0\u1ee3c ki\u1ec7t k\u00ea \u0111\u1ea7u ti\u00ean, t\u01b0\u01a1ng t\u1ef1 nh\u01b0 c\u00e1ch khai b\u00e1o h\u00e0m:</p> </li> </ul> <pre><code>function identity&lt;T&gt;(arg: T): T {\n  return arg;\n}\n\nlet myIdentity: &lt;T&gt;(arg: T) =&gt; T = identity;\n</code></pre> <ul> <li>Ch\u00fang ta c\u0169ng c\u00f3 th\u1ec3 s\u1eed d\u1ee5ng t\u00ean kh\u00e1c cho generic type c\u1ee7a parameter trong type:</li> </ul> <pre><code>function identity&lt;T&gt;(arg: T): T {\n  return arg;\n}\nlet myIdentity: &lt;U&gt;(arg: U) =&gt; U = identity;\n</code></pre> <ul> <li>Ch\u00fang ta c\u0169ng c\u00f3 th\u1ec3 vi\u1ebft generic type nh\u01b0 m\u1ed9t <code>a call signature of an object literal type:</code> (t\u1ea1i h\u1ea1 ch\u01b0a d\u1ecbch \u0111\u01b0\u1ee3c ch\u1ed7 n\u00e0y s\u00e1t ngh\u0129a :v)</li> </ul> <pre><code>function identity&lt;T&gt;(arg: T): T {\n  return arg;\n}\n\nlet myIdentity = {&lt;T&gt;(arg: T): T} = identity;\n</code></pre> <ul> <li>\u0110i\u1ec1u n\u00e0y d\u1eabn ch\u00fang ta t\u1edbi c\u00e1ch vi\u1ebft <code>generic interface</code> \u0111\u1ea7u ti\u00ean. C\u00f9ng l\u1ea5y object t\u1eeb v\u00ed d\u1ee5 tr\u00ean v\u00e0 chuy\u1ec3n th\u00e0nh m\u1ed9t <code>interface</code>:</li> </ul> <pre><code>interface GenericIdentityFn {\n  &lt;T&gt;(arg: T): T;\n}\nfunction identity&lt;T&gt;(arg: T): T {\n  return arg;\n}\n\nlet myIdentity: GenericIdentityFn = identity;\n</code></pre> <ul> <li>In m\u1ed9t v\u00ed d\u1ee5 t\u01b0\u01a1ng t\u1ef1, ch\u00fang ta s\u1ebd mu\u1ed1n r\u1eddi <code>generic parameter</code> th\u00e0nh m\u1ed9t parameter c\u1ee7a to\u00e0n b\u1ed9 interface. \u0110i\u1ec1u n\u00e0y cho ph\u00e9p ch\u00fang ta th\u1ea5y bi\u1ebft \u0111\u01b0\u1ee3c c\u00e1c ki\u1ec3u (type)(E.g <code>Dictionary&lt;string&gt;</code> h\u01a1n l\u00e0 ch\u1ec9 <code>Dictionary</code>). \u0110i\u1ec1u n\u00e0y gi\u00fap type parameter tr\u1edf n\u00ean th\u1ea5y \u0111\u01b0\u1ee3c v\u1edbi t\u1ea5t c\u1ea3 c\u00e1c th\u00e0nh vi\u00ean c\u1ee7a interface.</li> </ul> <pre><code>interface GenericIdentityFn&lt;T&gt; {\n  (arg: T): T;\n}\nfunction identity&lt;T&gt;(arg: T): T {\n  return arg;\n}\n\nlet myIdentity: GenericIdentityFn&lt;number&gt; = identity;\n</code></pre> <ul> <li>L\u01b0u \u00fd r\u1eb1ng v\u00ed d\u1ee5 c\u1ee7a ch\u00fang ta m\u1ed7i b\u01b0\u1edbc thay \u0111\u1ed5i m\u1ed9t ch\u00fat. Thay v\u00ec m\u00f4 t\u1ea3 m\u1ed9t generic function, ch\u00fang ta gi\u1edd \u0111\u00e2y c\u00f3 m\u1ed9t ch\u1eef k\u00fd non-generic function, c\u00e1i l\u00e0 m\u1ed9t ph\u1ea7n c\u1ee7a generic type. Khi ch\u00fang ta s\u1eed d\u1ee5ng <code>GenericIdentityFn</code>, ch\u00fang ta gi\u1edd \u0111\u00e2y c\u0169ng c\u1ea7n ch\u1ec9 r\u00f5 ki\u1ec3u c\u1ee7a \u0111\u1ed1i s\u1ed1 (type argument) (\u1edf \u0111\u00e2y l\u00e0: <code>number</code>).</li> </ul>"},{"location":"blog/2020/07/13/generics-typescripthttpswwwtypescriptlangorgdocshandbookgenericshtml/#generic-classes","title":"Generic Classes","text":"<ul> <li>Generic class c\u00f3 c\u00f9ng d\u1ea1ng v\u1edbi generic interface. Generic class c\u00f3 m\u1ed9t danh s\u00e1ch generic type parameter trong <code>&lt;&gt;</code> theo sao t\u00ean c\u1ee7a classs</li> </ul> <pre><code>class GenericNumber&lt;T&gt; {\n  zeroValue: T;\n  add: (x: T, y: T) =&gt; T;\n}\n\nlet myGenericNumber = new GenericNumber&lt;number&gt;();\nmyGenericNumber.zeroValue = 0;\nmyGenericNumber.add = function(x, y) {retur x + y;};\n</code></pre> <ul> <li>Class <code>GenericNumber</code> kh\u00f4ng c\u00f3 g\u00ec gi\u1edbi h\u1ea1n s\u1eed d\u1ee5ng ki\u1ec3u <code>number</code>. Ch\u00fang ta ho\u00e0n to\u00e0n c\u00f3 th\u1ec3 s\u1eed d\u1ee5ng <code>strinng</code> ho\u1eb7c m\u1ed9t \u0111\u1ed1i t\u01b0\u1ee3ng ph\u1ee9c t\u1ea1p.</li> </ul> <pre><code>let stringNumeric = new GenericNumber&lt;string&gt;();\nstringNumeric.zeroValue = \"\";\nstringNumeric.add = function (x, y) {\n  return x + y;\n};\n\nconsole.log(stringNumeric.add(stringNumeric.zeroValue, \"test\"));\n</code></pre>"},{"location":"blog/2020/07/13/generics-typescripthttpswwwtypescriptlangorgdocshandbookgenericshtml/#generic-contrainsts","title":"Generic Contrainsts","text":"<ul> <li>Trong c\u00e1c v\u00ed d\u1ee5 tr\u01b0\u1edbc, b\u1ea1n \u0111\u00f4i khi mu\u1ed1n vi\u1ebft generic function l\u00e0m vi\u1ec7c v\u1edbi m\u1ed9t b\u1ed9 c\u00e1c ki\u1ec3u (set of types) n\u01a1i b\u1ea1n c\u00f3 hi\u1ec3u bi\u1ebft v\u1ec1 kh\u1ea3 n\u0103ng c\u00e1c ki\u1ec3u n\u00e0y c\u00f3 th\u1ec3 ( capabilities). Trong v\u00ed d\u1ee5 <code>loggingIdentity</code> ch\u00fang ta \u0111\u00e3 mu\u1ed1n truy xu\u1ea5t t\u1edbi <code>.length</code> c\u1ee7a <code>arg</code>, nh\u01b0ng tr\u00ecnh bi\u00ean d\u1ecbch kh\u00f4ng cho ph\u00e9p ( ko ph\u1ea3i m\u1ecdi ki\u1ec3u d\u1eef li\u1ec7u \u0111\u1ec1u c\u00f3 <code>.length</code>), v\u00ec v\u1eady n\u00f3 \u0111\u00e3 \u0111\u01b0a ra c\u1ea3nh b\u00e1o.</li> </ul> <pre><code>function loggingIdentity&lt;T&gt;(arg: T): T {\n  console.log(arg.length); // Error: T does not have .length\n  return arg;\n}\n</code></pre> <ul> <li> <p>Thay v\u00ec l\u00e0m vi\u1ec7c v\u1edbi b\u1ea5t k\u1ef3 (<code>any</code>) v\u00e0 t\u1ea5t c\u1ea3 c\u00e1c ki\u1ec3u, ch\u00fang ta mu\u1ed1n r\u1eb1ng bu\u1ed9c (contrain) h\u00e0m n\u00e0y l\u00e0m vi\u1ec7c v\u1edbi   <code>any</code> v\u00e0 t\u1ea5t c\u1ea3 c\u00e1c ki\u1ec3u ( ngu h\u1ecdc th\u1ebf nh\u1edf: nh\u01b0ng nguy\u00ean v\u0103n l\u00e0 <code>with any and all types</code>) m\u00e0 c\u00f3 thu\u1ed9c t\u00ednh <code>.length</code>. Mi\u1ec5n l\u00e0 type c\u00f3 thu\u1ed9c t\u00ednh <code>.length</code>, ch\u00fang ta s\u1ebd cho ph\u00e9p. \u0110\u1ec3 l\u00e0m v\u1eady, ch\u00fang ta ph\u1ea3i li\u1ec7t k\u00ea y\u00eau c\u1ea7u c\u1ee7a ch\u00fang ta nh\u01b0 r\u1eb1ng bu\u1ed9c v\u1edbi <code>T</code>.</p> </li> <li> <p>\u0110\u1ec3 l\u00e0m v\u1eady, ch\u00fang ta t\u1ea1o m\u1ed9t interface m\u00f4 t\u1ea3 c\u00e1c constraint c\u1ee7a ch\u00fang ta. V\u00ed d\u1ee5 d\u01b0\u1edbi \u0111\u00e2y, ch\u00fang ta s\u1ebd t\u1ea1o m\u1ed9t interface ch\u1ec9 c\u00f3 1 property <code>.length</code> v\u00e0 d\u00f9ng interface n\u00e0y c\u00f9ng t\u1eeb kh\u00f3a <code>extends</code> \u0111\u1ec3 mo t\u1ea3 r\u00e0ng bu\u1ed9c c\u1ee7a ch\u00fang ta:</p> </li> </ul> <pre><code>interface Lengthwise {\n  length: number;\n}\n\nfunction loggingIdentity&lt;T extends Lengthwise&gt;(arg: T): T {\n  console.log(arg.length); // Now we know it has a .length property, so no more error\n  return arg;\n}\n</code></pre> <ul> <li>Generic function gi\u1edd \u0111\u00e3 \u0111\u01b0\u1ee3c r\u1eb1ng bu\u1ed9c (constrained), n\u00f3 s\u1ebd kh\u00f4ng c\u00f2n l\u00e0m vi\u1ec7c v\u1edbi <code>any</code> ho\u1eb7c t\u1ea5t c\u1ea3 c\u00e1c type n\u1eefa:</li> </ul> <pre><code>loggingIdentity(3); // Error, number does not have a .length property\n</code></pre> <ul> <li>Thay v\u00ec th\u1ebf ch\u00fang ta s\u1ebd truy\u1ec1n v\u00e0o c\u00e1c gi\u00e1 tr\u1ecb c\u00f3 type v\u1edbi t\u1ea5t c\u1ea3 thu\u1ed9c t\u00ednh \u0111\u01b0\u1ee3c y\u00eau c\u1ea7u:</li> </ul> <pre><code>loggingIdentity({ length: 10, value: 3 });\n</code></pre>"},{"location":"blog/2020/07/13/generics-typescripthttpswwwtypescriptlangorgdocshandbookgenericshtml/#using-type-parameters-in-generic-constraints","title":"Using type parameters in generic constraints","text":"<ul> <li>B\u1ea1n c\u00f3 th\u1ebf khai b\u00e1o type parameter, c\u00e1i \u0111\u01b0\u1ee3c r\u1eb1ng bu\u1ed9c b\u1edfi m\u1ed9t type parameter kh\u00e1c. V\u00ed d\u1ee5 d\u01b0\u1edbi \u0111\u00e2y, ch\u00fang ta mu\u1ed1n l\u1ea5y thu\u1ed9c t\u00ednh c\u1ee7a m\u1ed9t object v\u1edbi t\u00ean \u0111\u01b0\u1ee3c truy\u1ec1n v\u00e0o. Ch\u00fang ta mu\u1ed1n \u0111\u1ea3m b\u1ea3o r\u1eb1ng kh\u00f4ng c\u00f3 t\u00ecnh hu\u1ed1ng v\u00f4 t\u00ecnh n\u00e0o l\u1ea5y thu\u1ed9c t\u00ednh kh\u00f4ng t\u1ed3n t\u1ea1i trong obj, do v\u1eady ch\u00fang ta s\u1ebd \u0111\u1eb7t m\u1ed9t r\u1eb1ng bu\u1ed9c gi\u1eefa hai ki\u1ec3u gi\u1eef li\u1ec7u truy\u1ec1n v\u00e0o.</li> </ul> <pre><code>function getProperty&lt;T, K extends keyof T&gt;(obj: T, key: K) {\n  return obj[key];\n}\n\nlet x = { a: 1, b: 2, c: 3, d: 4 };\ngetProperty(x, \"a\"); // okay\ngetProperty(x, \"m\"); // error: Argument of type 'm' is not assignable to 'a' | 'b' | 'c' | 'd'\n</code></pre>"},{"location":"blog/2020/07/13/generics-typescripthttpswwwtypescriptlangorgdocshandbookgenericshtml/#using-class-types-in-generics","title":"Using Class Types in Generics","text":"<ul> <li>Khi kh\u1edfi t\u1ea1o c\u00e1c <code>factories</code> trong Typescript (nguy\u00ean v\u0103n factories kh\u00f4ng bi\u1ebft d\u1ecbch n\u00e0o cho s\u00e1t ngh\u0129a v\u1edbi ti\u00eau \u0111\u1ec1 ) b\u1eb1ng c\u00e1ch d\u00f9ng generics, c\u1ea7n thi\u1ebft tham chi\u1ebfu c\u00e1c ki\u1ec3u c\u1ee7a class v\u1edbi c\u00e1c h\u00e0m kh\u1edfi t\u1ea1o c\u1ee7a ch\u00fang:</li> </ul> <pre><code>function create&lt;T&gt;(c: { new (): T }): T {\n  return new c();\n}\n</code></pre> <ul> <li>M\u1ed9t v\u00ed d\u1ee5 n\u00e2ng cao h\u01a1n l\u00e0 s\u1eed d\u1ee5ng thu\u1ed9c t\u00ednh prototype \u0111\u1ec3 suy lu\u1eadn v\u00e0 r\u1eb1ng bu\u1ed9c m\u1ed1i quan h\u1ec7 gi\u1eefa constructor v\u00e0 instance c\u1ee7a class.</li> </ul> <pre><code>class BeeKeeper {\n  hasMask: boolean;\n}\n\nclass ZooKeeper {\n  nametag: string;\n}\n\nclass Animal {\n  numLegs: number;\n}\n\nclass Bee extends Animal {\n  keeper: BeeKeeper;\n}\n\nclass Lion extends Animal {\n  keeper: ZooKeeper;\n}\n\nfunction createInstance&lt;A extends Animal&gt;(c: new () =&gt; A): A {\n  return new c();\n}\n\ncreateInstance(Lion).keeper.nametag; // typechecks!\ncreateInstance(Bee).keeper.hasMask; // typechecks!\n</code></pre>"},{"location":"blog/2020/07/16/c%C3%A0i-%C4%91%E1%BA%B7t-gitlab-tr%C3%AAn-local/","title":"C\u00e0i \u0111\u1eb7t gitlab tr\u00ean local","text":""},{"location":"blog/2020/07/16/c%C3%A0i-%C4%91%E1%BA%B7t-gitlab-tr%C3%AAn-local/#truoc-khi-bat-au","title":"Tr\u01b0\u1edbc khi b\u1eaft \u0111\u1ea7u","text":""},{"location":"blog/2020/07/16/c%C3%A0i-%C4%91%E1%BA%B7t-gitlab-tr%C3%AAn-local/#bai-toan","title":"B\u00e0i to\u00e1n","text":"<ul> <li>C\u00e0i \u0111\u1eb7t gitlab.</li> </ul>"},{"location":"blog/2020/07/16/c%C3%A0i-%C4%91%E1%BA%B7t-gitlab-tr%C3%AAn-local/#giai-phap","title":"Gi\u1ea3i ph\u00e1p","text":"<ul> <li>C\u00e0i tr\u00ean docker</li> </ul>"},{"location":"blog/2020/07/16/c%C3%A0i-%C4%91%E1%BA%B7t-gitlab-tr%C3%AAn-local/#thao-luan","title":"Th\u1ea3o lu\u1eadn","text":"<ul> <li>C\u00f3 th\u1ec3 c\u00e0i tr\u1ef1c ti\u1ebfp tr\u00ean host, nh\u01b0ng c\u00e0i qua docker khi n\u00e2ng c\u1ea5p hay x\u00f3a s\u1ebd nhanh g\u1ecdn h\u01a1n(c\u00f9ng v\u1edbi nh\u1eefng \u0111i\u1ec3m m\u1ea1nh kh\u00e1c khi s\u1eed d\u1ee5ng docker).</li> </ul>"},{"location":"blog/2020/07/16/c%C3%A0i-%C4%91%E1%BA%B7t-gitlab-tr%C3%AAn-local/#yeu-cau","title":"Y\u00eau c\u1ea7u","text":"<ul> <li>Ubuntu (Mac, win c\u0169ng \u0111\u01b0\u1ee3c, t\u00e0i li\u1ec7u n\u00e0y ch\u1ea1y tr\u00ean ubuntu 20.04 LTS).</li> <li>Docker version</li> <li>C\u00f3 ki\u1ebfn th\u1ee9c c\u01a1 b\u1ea3n v\u1ec1 docker.</li> <li>Port d\u00f9ng cho gitlab 80 n\u1ebfu c\u00f3 kh\u00f4ng b\u1ecb chi\u1ebfm b\u1edfi \u1ee9ng d\u1ee5ng kh\u00e1c.</li> </ul>"},{"location":"blog/2020/07/16/c%C3%A0i-%C4%91%E1%BA%B7t-gitlab-tr%C3%AAn-local/#install","title":"Install","text":""},{"location":"blog/2020/07/16/c%C3%A0i-%C4%91%E1%BA%B7t-gitlab-tr%C3%AAn-local/#xac-inh-private-ip-tren-may","title":"X\u00e1c \u0111\u1ecbnh private IP tr\u00ean m\u00e1y","text":"<ul> <li>Ch\u1ea1y l\u1ec7nh <code>ifconfig</code>:</li> </ul> <pre><code>$ ifconfig\nenp37s0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500\n        inet 172.16.3.213  netmask 255.255.0.0  broadcast 172.16.255.255\n</code></pre> <ul> <li>Nh\u01b0 output tr\u00ean th\u00ec private IP c\u1ee7a m\u00e1y: <code>172.16.3.213</code>. N\u1ebfu m\u00e1y c\u00f3 public IP ho\u1eb7c domain th\u00ec c\u00f3 th\u1ec3 s\u1eed d\u1ee5ng (gitlab sau khi c\u00e0i \u0111\u1eb7t c\u00f3 th\u1ec3 truy c\u1eadp t\u1eeb internet).</li> </ul>"},{"location":"blog/2020/07/16/c%C3%A0i-%C4%91%E1%BA%B7t-gitlab-tr%C3%AAn-local/#cai-at","title":"C\u00e0i \u0111\u1eb7t","text":"<ul> <li> <p>Xem h\u01b0\u1edbng d\u1eabn c\u00e0i gitlab tr\u00ean trang ch\u1ee7 cho docker.</p> </li> <li> <p>Nh\u1eadn x\u00e9t:</p> </li> <li> <p>Kh\u00f4ng c\u00e0i ch\u1ea1y docker image v\u1edbi version <code>latest</code>. Latest kh\u00f4ng ph\u1ea3i l\u00e0 version.</p> </li> <li> <p>B\u1ecf port 443 ( ch\u01b0a c\u00f3 SSL), b\u1ecf port 22 n\u1ebfu host \u0111ang ch\u1ea1y d\u1ecbch v\u1ee5 ssh n\u1ebfu ko b\u1ecf port 22 container khi ch\u1ea1y s\u1ebd \u1edf tr\u1ea1ng th\u00e1i <code>Created</code> kh\u00f4ng chuy\u1ec3n sang <code>up</code> \u0111\u01b0\u1ee3c.</p> </li> <li> <p>C\u00f3 th\u1ec3 thay \u0111\u1ed5i <code>13.0.5-ce.0</code> b\u1eb1ng version m\u1edbi nh\u1ea5t. V\u1edbi private IP: <code>172.16.3.213</code> nh\u01b0 tr\u00ean, ch\u1ea1y l\u1ec7nh d\u01b0\u1edbi \u0111\u1ec3 c\u00e0i gitlab local:</p> </li> </ul> <pre><code>    sudo docker run --detach \\\n    --hostname 172.16.3.213 \\\n    --publish 80:80 \\\n    --name gitlabCE \\\n    --restart always \\\n    --volume /srv/gitlab/config:/etc/gitlab \\\n    --volume /srv/gitlab/logs:/var/log/gitlab \\\n    --volume /srv/gitlab/data:/var/opt/gitlab \\\n    gitlab/gitlab-ce:13.0.5-ce.0\n</code></pre> <ul> <li>N\u1ebfu ch\u01b0a c\u00f3 image th\u00ec c\u1ea7n ch\u1edd 1 l\u00fac \u0111\u1ec3 t\u1ea3i image v\u1ec1 v\u00e0 th\u00eam th\u1eddi gian cho container up.</li> <li>Sau \u0111\u00f3 truy c\u1eadp private IP nh\u01b0 d\u01b0\u1edbi l\u00e0 \u0111\u00e3 c\u00f3 gitlab \u0111\u1ec3 x\u00e0i :3. Nh\u1eadp m\u1eadt kh\u1ea9u(nh\u1edb m\u1eadt kh\u1ea9u d\u00f9ng sau n\u00e0y) cho t\u00e0i kho\u1ea3n <code>root</code>.</li> </ul> <p></p>"},{"location":"blog/2020/07/16/install-gitlab-runner/","title":"Install GitLab Runner","text":""},{"location":"blog/2020/07/16/install-gitlab-runner/#truoc-khi-bat-au","title":"Tr\u01b0\u1edbc khi b\u1eaft \u0111\u1ea7u","text":""},{"location":"blog/2020/07/16/install-gitlab-runner/#bai-toan","title":"B\u00e0i to\u00e1n","text":"<ul> <li>C\u00e0i \u0111\u1eb7t Gitlab-Runner \u0111\u1ec3 ch\u1ea1y CI/CD cho gitlab.</li> </ul>"},{"location":"blog/2020/07/16/install-gitlab-runner/#giai-phap","title":"Gi\u1ea3i ph\u00e1p","text":"<ul> <li>C\u00e0i \u0111\u1eb7t Gitlab-Runner tr\u00ean docker.</li> </ul>"},{"location":"blog/2020/07/16/install-gitlab-runner/#thao-luan","title":"Th\u1ea3o lu\u1eadn","text":"<ul> <li> <p>Gitlab-Runner c\u00f3 th\u1ec3 \u0111\u01b0\u1ee3c c\u00e0i \u0111\u1eb7t v\u00e0 s\u1eed d\u1ee5ng tr\u00ean nhi\u1ec1u n\u1ec1n t\u1ea3ng.</p> </li> <li> <p>S\u1eed d\u1ee5ng tr\u00ean docker l\u00e0 1 trong c\u00e1c c\u00e1ch nhanh g\u1ecdn, ti\u1ec7n d\u1ee5ng nh\u1ea5t.</p> </li> </ul>"},{"location":"blog/2020/07/16/install-gitlab-runner/#install","title":"Install","text":"<ul> <li> <p>C\u00f3 2 t\u00f9y ch\u1ecdn \u0111\u1ec3 ch\u1ea1y Runner \u1edf \u0111\u00e2y m\u00ecnh ch\u1ea1y lu\u00f4n option 1 nh\u01b0 h\u01b0\u1edbng d\u1eabn \u1edf \u0111\u00e2y</p> </li> <li> <p>S\u1eeda <code>latest</code> c\u1ee7a h\u01b0\u1edbng d\u1eabn n\u00e0y th\u00e0nh <code>v13.1.1</code> (version m\u1edbi nh\u1ea5t hi\u1ec7n t\u1ea1i c\u1ee7a gitlab-runner). Ch\u1ea1y l\u1ec7nh:</p> </li> </ul> <pre><code>sudo docker run -d --name gitlab-runner --restart always \\\n-v /srv/gitlab-runner/config:/etc/gitlab-runner \\\n-v /var/run/docker.sock:/var/run/docker.sock \\\ngitlab/gitlab-runner:v13.1.1\n</code></pre>"},{"location":"blog/2020/07/16/install-gitlab-runner/#setup","title":"Setup","text":"<ul> <li>T\u1ea1o m\u1ed9t repo m\u1edbi v\u1edbi t\u00ean <code>demo-ci</code>.</li> <li> <p>Trong <code>demo-ci</code> truy c\u1eadp: Settings ~&gt; CI/CD ~&gt; Runner click <code>Expand</code>. L\u01b0u \u00fd ph\u1ea7n <code>link</code> v\u00e0 <code>token</code> trong <code>Set up a specific Runner automatically</code>.   </p> </li> <li> <p>Sau khi c\u00f3 gitlab-Runner v\u00e0 repo. B\u01b0\u1edbc ti\u1ebfp theo \u0111\u0103ng k\u00fd runner cho repo c\u1ee5 th\u1ec3. H\u01b0\u1edbng d\u1eabn trang ch\u1ee7 \u1edf \u0111\u00e2y:</p> </li> <li> <p>Ch\u1ea1y c\u00e2u l\u1ec7nh \u0111\u0103ng k\u00fd:</p> </li> </ul> <pre><code>docker run --rm -it -v /srv/gitlab-runner/config:/etc/gitlab-runner gitlab/gitlab-runner:v13.1.1 register\n</code></pre> <ul> <li> <p>Nh\u1eadp \u0111\u1ecba ch\u1ec9 URL c\u1ee7a gitlab</p> </li> <li> <p>Nh\u01b0 ph\u1ea7n l\u01b0u \u00fd \u0111\u00e3 n\u00f3i tr\u00ean URL l\u00e0: <code>http://172.16.3.213/</code></p> </li> <li> <p>Nh\u1eadp token</p> </li> <li> <p>Nh\u01b0 ph\u1ea7n l\u01b0u \u00fd \u0111\u00e3 n\u00f3i tr\u00ean token l\u00e0: <code>p_XhU9o_r_6Bki6E_HSK</code></p> </li> <li> <p>Nh\u1eadp m\u00f4 t\u1ea3 cho runner</p> </li> <li> <p>V\u00ed d\u1ee5: <code>one of my runners</code></p> </li> <li> <p>Nh\u1eadp tag cho runner v\u1eeba c\u00e0i \u0111\u1eb7t.</p> </li> <li> <p>V\u00ed d\u1ee5: <code>first-runner</code>.</p> </li> <li> <p>\u0110i\u1ec1n Runner Executor</p> </li> <li> <p>V\u00ed d\u1ee5: <code>docker</code></p> </li> <li> <p>\u0110i\u1ec1n image name</p> </li> <li> <p>N\u1ebfu executor l\u00e0 <code>docker</code> th\u00ec m\u1edbi c\u1ea7n \u0111i\u1ec1n th\u00eam <code>image</code>.</p> </li> <li> <p>V\u00ed d\u1ee5 nh\u1eadp: <code>ubuntu</code>.</p> </li> <li> <p>Khi ho\u00e0n t\u1ea5t:</p> </li> </ul> <pre><code>  $ sudo docker run --rm -it -v /srv/gitlab-runner/config:/etc/gitlab-runner gitlab/gitlab-runner:v13.1.1 register\n  Runtime platform                                    arch=amd64 os=linux pid=6 revision=6fbc7474 version=13.1.1\n  Running in system-mode.\n\n  Please enter the gitlab-ci coordinator URL (e.g. https://gitlab.com/):\n  http://172.16.3.213/\n  Please enter the gitlab-ci token for this runner:\n  p_XhU9o_r_6Bki6E_HSK\n  Please enter the gitlab-ci description for this runner:\n  [0647bb754faa]: one of my runners\n  Please enter the gitlab-ci tags for this runner (comma separated):\n  first-runner\n  Registering runner... succeeded                     runner=rWZxJE5j\n  Please enter the executor: ssh, docker+machine, docker, docker-ssh, shell, virtualbox, docker-ssh+machine, kubernetes, custom, parallels:\n  docker\n  Please enter the default Docker image (e.g. ruby:2.6):\n  ubuntu\n  Runner registered successfully. Feel free to start it, but if it's running already the config should be automatically reloaded!\n</code></pre> <ul> <li>N\u1ebfu quay l\u1ea1i Settings ~&gt; CI/CD ~&gt; Runners Click <code>expand</code> s\u1ebd th\u1ea5y Runner \u0111\u01b0\u1ee3c g\u00e1n v\u00e0o ntn:</li> </ul> <p></p> <ul> <li>Click bi\u1ec3u t\u01b0\u1ee3ng <code>edit</code> c\u1ee7a Runner v\u00e0 t\u00edch ch\u1ecdn v\u00e0o <code>Run untagged jobs</code> \u0111\u1ec3 ch\u1ea1y c\u1ea3 c\u00e1c jobs untagged. Click <code>save changes</code>.</li> </ul>"},{"location":"blog/2020/07/17/run-gitlab-ci-with-runner/","title":"Run gitlab CI with Runner","text":""},{"location":"blog/2020/07/17/run-gitlab-ci-with-runner/#truoc-khi-bat-au","title":"Tr\u01b0\u1edbc khi b\u1eaft \u0111\u1ea7u","text":""},{"location":"blog/2020/07/17/run-gitlab-ci-with-runner/#bai-toan","title":"B\u00e0i to\u00e1n","text":"<ul> <li>Ch\u00fang ta c\u00f3 m\u1ed9t project <code>nodejs</code> l\u01b0u tr\u00ean gitlab v\u00e0 m\u1ed9t server <code>dev-server</code> ch\u1ea1y code nh\u00e1nh <code>dev</code></li> <li>Y\u00eau c\u1ea7u m\u1ed7i khi code \u0111\u1ea9y l\u00ean nh\u00e1nh <code>dev</code> tr\u00ean gitlab. Gitlab t\u1ef1 \u0111\u1ed9ng k\u00e9o code m\u1edbi nh\u1ea5t tr\u00ean <code>dev-server</code>.</li> <li>Code master kh\u00f4ng l\u00e0m <code>dev-server</code> k\u00e9o code m\u1edbi nh\u1ea5t.</li> <li> <p>M\u00f4 h\u00ecnh tr\u00f4ng s\u1ebd nh\u01b0 n\u00e0y:</p> </li> <li> <p></p> </li> </ul>"},{"location":"blog/2020/07/17/run-gitlab-ci-with-runner/#giai-phap","title":"Gi\u1ea3i ph\u00e1p","text":"<ul> <li>S\u1eed d\u1ee5ng Runner c\u1ee7a gitlab \u0111\u1ec3 ch\u1ea1y CI.</li> <li>V\u1edbi Gitlab v\u00e0 Runner \u0111\u00e3 \u0111\u01b0\u1ee3c c\u00e0i tr\u01b0\u1edbc \u0111\u00f3.</li> </ul>"},{"location":"blog/2020/07/17/run-gitlab-ci-with-runner/#thao-luan","title":"Th\u1ea3o lu\u1eadn","text":"<ul> <li>C\u00f3 th\u1ec3 s\u1eed d\u1ee5ng Jenkins nh\u01b0ng b\u00e0i n\u00e0y t\u1eadp trung th\u1ef1c h\u00e0nh Gitlab Runner.</li> </ul>"},{"location":"blog/2020/07/17/run-gitlab-ci-with-runner/#yeu-cau","title":"Y\u00eau c\u1ea7u","text":"<ul> <li> <p>Ki\u1ebfn th\u1ee9c c\u01a1 b\u1ea3n v\u1ec1 docker.</p> </li> <li> <p>Ki\u1ebfn th\u1ee9c c\u01a1 b\u1ea3n v\u1ec1 git.</p> </li> <li> <p>C\u00e1c b\u01b0\u1edbc tr\u00ean th\u1ef1c hi\u1ec7n tr\u00ean ubuntu 20.04 LTS( tr\u00ean MACOS ko ch\u1eafc ch\u1eafn ho\u1ea1t \u0111\u1ed9ng).</p> </li> </ul>"},{"location":"blog/2020/07/17/run-gitlab-ci-with-runner/#chuan-bi-moi-truong","title":"Chu\u1ea9n b\u1ecb m\u00f4i tr\u01b0\u1eddng","text":"<ul> <li>Ch\u00fang ta c\u00f3 gitlab ch\u1ea1y tr\u00ean IP v\u00e0 m\u1ed9t Runner \u0111\u00e3 \u0111\u01b0\u1ee3c bind v\u00e0o gitlab.</li> <li>Ti\u1ebfp theo c\u1ea7n m\u1ed9t <code>dev-server</code> c\u00f3 code <code>nodejs</code>. \u0110\u1ec3 ph\u1ee5c v\u1ee5 vi\u1ec7c n\u00e0y m\u00ecnh c\u00f3 t\u1ea1o s\u1eb5n m\u1ed9t repo. File Dockerfile open ssh(v\u1edbi user/pass: root/root), install git, node.</li> <li>Tr\u00ean m\u00e1y c\u1ee7a b\u1ea1n clone repo t\u1eeb github v\u1ec1:</li> </ul> <pre><code>  $ git clone https://github.com/fenixpapu/demo-ci.git\n</code></pre> <ul> <li>Di chuy\u1ec3n v\u00e0o b\u00ean trong th\u01b0 m\u1ee5c <code>demo-ci</code> v\u1eeba clone v\u1ec1, v\u00e0 build image:</li> </ul> <pre><code>  $ cd demo-ci/\n  $ git checkout dev\n  $ docker build -t node-web-app .\n</code></pre> <ul> <li>Ch\u1ea1y image:</li> </ul> <pre><code>  $ sudo docker run -p 3000:8080 --name nodejsApp -d node-web-app\n</code></pre> <ul> <li>Ki\u1ec3m tra l\u1ea1i IP c\u1ee7a Gitlab v\u00e0 <code>dev-server</code> v\u1eeba ch\u1ea1y xong:</li> </ul> <pre><code>  $ docker inspect -f '{{ .NetworkSettings.IPAddress }}' gitlabCE\n  172.17.0.2\n  $ docker inspect -f '{{ .NetworkSettings.IPAddress }}' nodejsApp\n  172.17.0.4\n</code></pre> <ul> <li>Sau khi ho\u00e0n t\u1ea5t ch\u00fang ta s\u1ebd c\u00f3 m\u00f4 h\u00ecnh m\u1ea1ng tr\u00f4ng nh\u01b0 th\u1ebf n\u00e0y( private IP c\u00f3 th\u1ec3 s\u1ebd kh\u00e1c nhau khi ch\u1ea1y tr\u00ean c\u00e1c m\u00e1y kh\u00e1c nhau):</li> </ul> <ul> <li> <p>T\u1ea1o m\u1ed9t public repository <code>demo-ci</code> tr\u00ean gitlab(172.17.0.2), gitlab s\u1ebd sinh ra m\u1ed9t URL: <code>http://172.16.3.213/root/demo-ci.git</code></p> </li> <li> <p>SSH v\u00e0o <code>dev-server</code> ki\u1ec3m tra remote repo trong container:</p> </li> </ul> <pre><code>  $ ssh root@172.17.0.4 #password: root\n  $ cd /usr/src/app/\n  $ git remote -v\n  origin    https://github.com/fenixpapu/demo-ci.git (fetch)\n  origin    https://github.com/fenixpapu/demo-ci.git (push)\n</code></pre> <ul> <li>Thay th\u1ebf remote repo c\u1ee7a github.com b\u1eb1ng local gitlab, v\u00e0 \u0111\u1ea9y code l\u00ean gitlab:</li> </ul> <pre><code>  $ git remote -v\n  origin    https://github.com/fenixpapu/demo-ci.git (fetch)\n  origin    https://github.com/fenixpapu/demo-ci.git (push)\n  $ git remote rm origin\n  $ git remote add origin http://172.16.3.213/root/demo-ci.git\n</code></pre>"},{"location":"blog/2020/07/17/run-gitlab-ci-with-runner/#cai-at-ci","title":"C\u00e0i \u0111\u1eb7t CI","text":"<ul> <li> <p>\u00dd t\u01b0\u1edfng: m\u1ed7i khi code m\u1edbi \u0111\u01b0\u1ee3c \u0111\u1ea9y l\u00ean gitlab ( nh\u00e1nh <code>dev</code>). Gitlab-Runner s\u1ebd ssh v\u00e0 <code>dev-server</code> v\u00e0 pull code m\u1edbi nh\u1ea5t v\u1ec1.</p> </li> <li> <p>T\u1ea1o ra m\u1ed9t c\u1eb7p ssh-key(ssh-key n\u00e0y c\u00f3 th\u1ec3 t\u1ea1o tr\u00ean b\u1ea5t k\u1ef3 m\u00e1y n\u00e0o, key n\u00e0y s\u1ebd \u0111\u01b0\u1ee3c d\u00f9ng \u0111\u1ec3 ssh v\u00e0o <code>dev-server</code>) b\u1eb1ng:</p> </li> </ul> <pre><code>root@172:/# ssh-keygen -t rsa\nGenerating public/private rsa key pair.\nEnter file in which to save the key (/root/.ssh/id_rsa):\nCreated directory '/root/.ssh'.\nEnter passphrase (empty for no passphrase):\nEnter same passphrase again:\nYour identification has been saved in /root/.ssh/id_rsa.\nYour public key has been saved in /root/.ssh/id_rsa.pub.\nThe key fingerprint is:\nSHA256:9q7r4c0V0PAouRq8sr4JBVCXz5lCvLxKeK69Rvv/CDg root@172.16.3.213\nThe key's randomart image is:\n+---[RSA 2048]----+\n|...... . |\n| . .+ . = |\n| .o + oo o o |\n| .+.= o . |\n| . .oo S . |\n|. +o. = . . |\n| =Eoo o . . . |\n| .=o = o = . |\n|.oo+*ooo*o+ |\n+----[SHA256]-----+\n</code></pre> <ul> <li> <p>Ki\u1ec3m tra private key trong file <code>id_rsa</code> (ph\u00e2n bi\u1ec7t v\u1edbi public key l\u00e0 file: <code>id_rsa.pub</code>): <code>cat root/.ssh/id_rsa</code>.</p> </li> <li> <p>Tr\u00ean Gitlab(<code>172.17.0.2</code>), trong repo <code>demo-ci</code> ch\u1ecdn: Settings ~&gt; CI/CD ~&gt; Variables. Click <code>expand</code>. T\u1ea1o m\u1ed9t bi\u1ebfn nh\u01b0 h\u00ecnh d\u01b0\u1edbi( B\u1ece T\u00cdCH <code>protect variable</code> N\u1ebeU KH\u00d4NG BI\u1ebeN S\u1ebc CH\u1ec8 S\u1eec D\u1ee4NG \u0110\u01af\u1ee2C TR\u00caN C\u00c1C BRANCH PROTECT) v\u1edbi gi\u00e1 tr\u1ecb l\u00e0 <code>private key</code> trong <code>id_rsa.pub</code>:</p> </li> </ul> <p></p> <ul> <li> <p>Copy public key tr\u00ean server <code>gitlabCE</code> copy v\u00e0o <code>~/.ssh/authorized_keys</code> tr\u00ean <code>dev-server</code>.</p> </li> <li> <p>S\u1eeda n\u1ed9i dung</p> </li> </ul> <ul> <li> <p>\u0110\u1ed5i \u0111\u1ecba ch\u1ec9 <code>172.17.0.4</code> v\u1edbi \u0111\u1ecba ch\u1ec9 IP c\u1ee7a <code>dev-server</code>. (Trong t\u00e0i li\u1ec7u IP dev-server \u0111ang l\u00e0: 172.17.0.4).</p> </li> <li> <p>Tr\u00ean <code>dev-server</code>: <code>ssh-key -t rsa</code>, l\u1ea5y public key, add v\u00e0o gitlab.</p> </li> <li> <p><code>git add .</code> , <code>git commit -m \"your content\"</code>, <code>git push -u origin dev</code>.</p> </li> </ul>"},{"location":"blog/2020/07/25/manage-data-in-docker/","title":"Manage data in Docker","text":"<ul> <li> <p>B\u00e0i n\u00e0y d\u1ecbch t\u1eeb t\u00e0i li\u1ec7u doc c\u1ee7a Docker \u1edf \u0111\u00e2y</p> </li> <li> <p>Theo m\u1eb7c \u0111\u1ecbnh t\u1ea5t c\u1ea3 c\u00e1c file \u0111\u01b0\u1ee3c t\u1ea1o ra b\u00ean trong m\u1ed9t container \u0111\u1ec1u \u0111\u01b0\u1ee3c l\u01b0u tr\u1eef tr\u00ean m\u1ed9t <code>writeable container layer</code>(n\u00ean hi\u1ec3u qua v\u1ec1 c\u00e1c docker layer). \u0110i\u1ec1u n\u00e0y c\u00f3 ngh\u0129a r\u1eb1ng:</p> </li> <li> <p>D\u1eef li\u1ec7u s\u1ebd kh\u00f4ng c\u00f2n khi container b\u1ecb x\u00f3a, v\u00e0 s\u1ebd l\u00e0 kh\u00f3 kh\u0103n \u0111\u1ec3 l\u1ea5y \u0111\u01b0\u1ee3c d\u1eef li\u1ec7u n\u1ebfu m\u1ed9t container kh\u00e1c c\u1ea7n x\u1eed d\u1ee5ng t\u1edbi d\u1eef li\u1ec7u n\u00e0y.</p> </li> <li>M\u1ed9t writable layer( l\u1edbp ghi \u0111\u01b0\u1ee3c) c\u1ee7a container li\u00ean k\u1ebft ch\u1eb7t ch\u1ebd v\u1edbi host m\u00e0 container \u0111ang ch\u1ea1y. Vi\u1ec7c di chuy\u1ec3n d\u1eef li\u1ec7u \u0111i b\u1ea5t k\u1ef3 \u0111\u00e2u kh\u00f4ng h\u1ec1 d\u1ec5 d\u00e0ng.</li> <li> <p>Ghi d\u1eef li\u1ec7u v\u00e0o m\u1ed9t writable layer c\u1ee7a container y\u00eau c\u1ea7u m\u1ed9t storage driver \u0111\u1ec3 qu\u1ea3n l\u00fd h\u1ec7 th\u1ed1ng file (filesystem). Storage driver cung c\u1ea5p m\u1ed9t h\u1ec7 th\u1ed1ng t\u1eadp tin k\u1ebft h\u1ee3p, s\u1eed d\u1ee5ng nh\u00e2n Linux. Vi\u1ec7c tr\u1eebu t\u01b0\u1ee3ng h\u00f3a n\u00e0y l\u00e0m gi\u1ea3m \u0111\u00e1ng k\u1ec3 hi\u1ec7u n\u0103ng khi so v\u1edbi s\u1eed d\u1ee5ng <code>data volume</code>, c\u00e1i m\u00e0 ghi tr\u1ef1c ti\u1ebfp l\u00ean filesystem c\u1ee7a host.</p> </li> <li> <p>Docker c\u00f3 hai t\u00f9y ch\u1ecdn: <code>volumes</code> v\u00e0 <code>bind mounts</code> \u0111\u1ec3 l\u01b0u file tr\u00ean host, v\u1edbi c\u00e1c c\u00e1ch n\u00e0y d\u1eef li\u1ec7u v\u1eabn c\u00f2n t\u1ed3n t\u1ea1i ngay khi container b\u1ecb d\u1eebng l\u1ea1i. N\u1ebfu b\u1ea1n ch\u1ea1y Docker tr\u00ean linux b\u1ea1n c\u00f3 th\u1ec3 s\u1eed d\u1ee5ng <code>tmpfs mount</code>. N\u1ebfu b\u1ea1n \u0111ang ch\u1ea1y Docker tr\u00ean windows b\u1ea1n c\u00f3 th\u1ec3 s\u1eed d\u1ee5ng <code>pipe</code>.</p> </li> </ul>"},{"location":"blog/2020/07/25/manage-data-in-docker/#choose-the-right-type-of-mount","title":"Choose the right type of mount","text":"<ul> <li> <p>B\u1ea5t k\u1ec3 b\u1ea1n d\u00f9ng lo\u1ea1i <code>mount</code> n\u00e0o th\u00ec d\u1eef li\u1ec7u \u0111\u1ec1u nh\u01b0 nhau \u0111\u1ee9ng t\u1eeb g\u00f3c \u0111\u1ed9 c\u1ee7a container. N\u00f3 \u0111\u01b0\u1ee3c hi\u1ec3n th\u1ecb ri\u00eang l\u1ebb trong m\u1ed9t th\u01b0 m\u1ee5c ho\u1eb7c m\u1ed9t file \u0111\u1ed9c l\u1eadp trong filesystem c\u1ee7a container.</p> </li> <li> <p>C\u00e1ch d\u1ec5 d\u00e0ng nh\u1ea5t \u0111\u1ec3 h\u00ecnh dung s\u1ef1 kh\u00e1c nhau gi\u1eefa <code>volumes</code> , <code>bind mounts</code> v\u00e0 <code>tmpfs</code> l\u00e0 v\u1ecb tr\u00ed d\u1eef li\u1ec7u t\u1ed3n t\u1ea1i tr\u00ean m\u00e1y ch\u1ee7 ch\u1ea1y Docker (host).</p> </li> <li> <p></p> </li> <li> <p><code>Volumes</code> \u0111\u01b0\u1ee3c l\u01b0u trong m\u1ed9t ph\u1ea7n filesystem c\u1ee7a host v\u00e0 \u0111\u01b0\u1ee3c qu\u1ea3n l\u00fd b\u1edfi Docker (/var/lib/docker/volumes tr\u00ean Linux). C\u00e1c process kh\u00f4ng ph\u1ea3i c\u1ee7a Docker kh\u00f4ng n\u00ean thay \u0111\u1ed5i c\u00e1c filesystem n\u00e0y. Volume l\u00e0 c\u00e1ch t\u1ed1t nh\u1ea5t \u0111\u1ec3 to\u00e0n v\u1eb9n d\u1eef li\u1ec7u (persist data) tr\u00ean Docker.</p> </li> <li><code>Bind mounts</code> c\u00f3 th\u1ec3 l\u01b0u b\u1ea5t k\u1ef3 \u0111\u00e2u trong host. Ch\u00fang th\u1eadm ch\u00ed c\u00f3 th\u1ec3 l\u00e0 c\u00e1c t\u1eadp tin h\u1ec7 th\u1ed1ng (filesystem) ho\u1eb7c th\u01b0 m\u1ee5c quan tr\u1ecdng. C\u00e1c ti\u1ebfn tr\u00ecnh c\u1ee7a Docker ho\u1eb7c kh\u00f4ng ph\u1ea3i Docker \u0111\u1ec1u c\u00f3 th\u1ec3 thay \u0111\u1ed5i ch\u00fang b\u1ea5t k\u1ef3 khi n\u00e0o.</li> <li><code>tmpfs</code> mounts: ch\u1ec9 l\u01b0u tr\u1eef d\u1eef li\u1ec7u trong <code>memory</code>(RAM) c\u1ee7a host, v\u00e0 kh\u00f4ng bao gi\u1edd ghi v\u00e0o t\u1eadp tin h\u1ec7 th\u1ed1ng c\u1ee7a host.</li> </ul>"},{"location":"blog/2020/07/25/manage-data-in-docker/#more-detail-about-mount-types","title":"More detail about mount types.","text":"<ul> <li> <p><code>Volumes</code> t\u1ea1o v\u00e0 qu\u1ea3n l\u00fd b\u1edfi Docker. B\u1ea1n c\u00f3 th\u1ec3 t\u1ea1o volume b\u1eb1ng c\u00e2u l\u1ec7nh <code>docker volume create</code>, ho\u1eb7c Docker c\u00f3 th\u1ec3 t\u1ea1o m\u1ed9t volume trong qu\u00e1 tr\u00ecnh ch\u1ea1y container ho\u1eb7c service.</p> </li> <li> <p>Khi b\u1ea1n t\u1ea1o m\u1ed9t volume, n\u00f3 l\u01b0u trong m\u1ed9t th\u01b0 m\u1ee5c trong Docker host. Khi b\u1ea1n mount volume v\u00e0o container, th\u01b0 m\u1ee5c n\u00e0y s\u1ebd xu\u1ea5t hi\u1ec7n trong container. C\u00e1ch n\u00e0y c\u0169ng t\u01b0\u01a1ng t\u1ef1 nh\u01b0 c\u00e1ch <code>bind mount</code> ho\u1ea1t \u0111\u1ed9ng, tr\u1eeb vi\u1ec7c volumes \u0111\u01b0\u1ee3c qu\u1ea3n l\u00fd b\u1edfi Docker v\u00e0 \u0111\u1ed9c l\u1eadp v\u1edbi c\u00e1c ti\u1ebfn tr\u00ecnh kh\u00e1c c\u1ee7a host.</p> </li> <li>M\u1ed9t volume c\u00f3 th\u1ec3 c\u00f9ng l\u00fac \u0111\u01b0\u1ee3c mount v\u00e0o nhi\u1ec1u container. Khi kh\u00f4ng c\u00f3 container n\u00e0o \u0111ang s\u1eed d\u1ee5ng volume, volume v\u1eabn s\u1eb5n c\u00f3 v\u1edbi Docker v\u00e0 kh\u00f4ng b\u1ecb x\u00f3a m\u1ed9t c\u00e1ch t\u1ef1 \u0111\u1ed9ng. B\u1ea1n c\u00f3 th\u1ec3 x\u00f3a m\u1ed9t volume kh\u00f4ng s\u1eed d\u1ee5ng v\u1edbi c\u00e2u l\u1ec7nh <code>docker volume prune</code>.</li> <li>Khi b\u1ea1n mount m\u1ed9t volume n\u00f3 c\u00f3 th\u1ec3 \u0111\u01b0\u1ee3c \u0111\u1eb7t t\u00ean ho\u1eb7c v\u00f4 danh(anonymous). Anonymous volume kh\u00f4ng c\u00f3 t\u00ean c\u1ee5 th\u1ec3 khi ch\u00fang \u0111\u01b0\u1ee3c mount v\u00e0o container, do v\u1eady Docker ch\u1ecdn m\u1ed9t t\u00ean ng\u1eabu nhi\u00ean \u0111\u1ea3m b\u1ea3o duy nh\u1ea5t cho volume. Named or anonymous ho\u1ea1t \u0111\u1ed9ng nh\u01b0 nhau.</li> <li> <p>Volume c\u0169ng h\u1ed7 tr\u1ee3 <code>volume drivers</code>, cho ph\u00e9p b\u1ea1n l\u01b0u d\u1eef li\u1ec7u c\u1ee7a b\u1ea1n tr\u00ean <code>remote host</code> ho\u1eb7c <code>cloud providers</code>.</p> </li> <li> <p><code>Bind mounts</code> c\u00f3 s\u1eb5n t\u1eeb nh\u1eefng ng\u00e0y \u0111\u1ea7u c\u1ee7a Docker. <code>Bind mounts</code> c\u00f3 nh\u1eefng gi\u1edbi h\u1ea1n so v\u1edbi volumes. Khi s\u1eed d\u1ee5ng bind mounts m\u1ed9t file ho\u1eb7c th\u01b0 m\u1ee5c tr\u00ean m\u00e1y ch\u1ee7 s\u1ebd \u0111\u01b0\u1ee3c mount v\u00e0o container.File ho\u1eb7c th\u01b0 m\u1ee5c \u0111\u01b0\u1ee3c tham chi\u1ebfu v\u1edbi \u0111\u01b0\u1eddng d\u1eabn \u0111\u1ea7y \u0111\u1ee7 tr\u00ean m\u00e1y ch\u1ee7. File v\u00e0 th\u01b0 m\u1ee5c n\u00e0y kh\u00f4ng c\u1ea7n thi\u1ebft ph\u1ea3i \u0111\u00e3 t\u1ed3n t\u1ea1i tr\u00ean m\u00e1y ch\u1ee7. N\u00f3 s\u1ebd \u0111\u01b0\u1ee3c t\u1ea1o n\u1ebfu n\u00f3 ch\u01b0a t\u1ed3n t\u1ea1i. Bind mounts c\u00f3 hi\u1ec7u su\u1ea5t r\u1ea5t t\u1ed1t nh\u01b0ng l\u1ea1i ph\u1ee5 thu\u1ed9c v\u00e0o c\u1ea5u tr\u00fac th\u01b0 m\u1ee5c s\u1eb5n c\u00f3 tr\u00ean m\u00e1y ch\u1ee7. N\u1ebfu b\u1ea1n \u0111ang ph\u00e1t tri\u1ec3n m\u1ed9t \u1ee9ng d\u1ee5ng m\u1edbi tr\u00ean Docker, h\u00e3y xem x\u00e9t vi\u1ec7c s\u1eed d\u1ee5ng volume \u0111\u01b0\u1ee3c \u0111\u1eb7t t\u00ean. B\u1ea1n s\u1ebd kh\u00f4ng th\u1ec3 s\u1eed d\u1ee5ng Docker CLI \u0111\u1ec3 qu\u1ea3n l\u00fd tr\u1ef1c ti\u1ebfp bind mounts.</p> </li> </ul> <pre><code>  BIND MOUNTS CHO PH\u00c9P TRUY C\u1eacP C\u00c1C T\u1eacP TIN NH\u1ea0Y C\u1ea2M\n  - M\u1ed9t t\u00e1c d\u1ee5ng ph\u1ee5 c\u1ee7a bind mounts, c\u00f3 th\u1ec3 t\u1ed1t h\u01a1n ho\u1eb7c t\u1ed3i h\u01a1n, \u0111\u00f3 l\u00e0 n\u00f3 cho ph\u00e9p b\u1ea1n thay \u0111\u1ed5i n\u1ed9i dung file h\u1ec7 th\u1ed1ng tr\u00ean M\u00c1Y CH\u1ee6 (HOST ch\u1ea1y docker) t\u1eeb ti\u1ebfn tr\u00ecnh \u0111ang ch\u1ea1y tr\u00ean CONTAINER, bao g\u1ed3m t\u1ea1o , thay \u0111\u1ed5i, ho\u1eb7c x\u00f3a c\u00e1c file ho\u1eb7c th\u01b0 m\u1ee5c c\u1ee7a h\u1ec7 th\u1ed1ng. \u0110\u00e2y l\u00e0 m\u1ed9t kh\u1ea3 n\u0103ng m\u1ea1nh m\u1ebd mang \u00fd ngh\u0129a v\u1ec1 m\u1eb7t b\u1ea3o m\u1eadt t\u00e1c \u0111\u1ed9ng l\u00ean c\u00e1c ti\u1ebfn tr\u00ecnh KH\u00d4NG PH\u1ea2I C\u1ee6A DOCKER tr\u00ean h\u1ec7 th\u1ed1ng m\u00e1y ch\u1ee7(HOST).\n</code></pre> <ul> <li> <p><code>tmpfs mount</code>: M\u1ed9t <code>tmpfs</code> mount th\u00ec kh\u00f4ng l\u01b0u d\u1eef li\u1ec7u tr\u00ean \u1ed5 c\u1ee9ng c\u1ee7a c\u1ea3 container l\u1eabn m\u1ea5y ch\u1ee7. N\u00f3 c\u00f3 th\u1ec3 \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng b\u1edfi m\u1ed9t container trong su\u1ed1t v\u00f2ng \u0111\u1eddi c\u1ee7a container, \u0111\u1ec3 l\u01b0u nh\u1eefng d\u1eef li\u1ec7u kh\u00f4ng c\u1ea7n \u0111\u1ea3m b\u1ea3o t\u00ednh to\u00e0n v\u1eb9n ho\u1eb7c th\u00f4ng tin nh\u1ea1y c\u1ea3m.</p> </li> <li> <p><code>Named pipes</code>: M\u1ed9t <code>npipe</code> mount c\u00f3 th\u1ec3 s\u1eed d\u1ee5ng cho vi\u1ec7c truy\u1ec1n th\u00f4ng gi\u1eefa m\u00e1y ch\u1ee7 Docker v\u00e0 container. Tr\u01b0\u1eddng h\u1ee3p s\u1eed d\u1ee5ng ph\u1ed5 bi\u1ebfn l\u00e0 ch\u1ea1y m\u1ed9t tool c\u1ee7a b\u00ean th\u1ee9 ba b\u00ean trong container v\u00e0 k\u1ebft n\u1ed1i t\u1edbi Docker Engine API s\u1eed d\u1ee5ng m\u1ed9t named pipe.</p> </li> <li> <p>Bind mount v\u00e0 volume c\u00f3 th\u1ec3 \u0111\u1ec1u \u0111\u01b0\u1ee3c mount v\u00e0o container b\u1eb1ng c\u1edd <code>-v</code> ho\u1eb7c <code>--volume</code>, d\u00f9 c\u00fa ph\u00e1p c\u00f3 h\u01a1i kh\u00e1c nhau \u0111\u00f4i ch\u00fat. V\u1edbi <code>tmpfs</code> b\u1ea1n c\u00f3 th\u1ec3 d\u00f9ng c\u1edd <code>--tmpfs</code>. Tuy nhi\u00ean t\u1eeb Docker 17.06 tr\u1edf \u0111i, khuy\u1ebfn kh\u00edch d\u00f9ng <code>--mount</code> cho c\u1ea3 container v\u00e0 service d\u00f9ng v\u1edbi bind mount ,volume, v\u00e0 c\u1ea3 tmpfs, nh\u01b0 m\u1ed9t c\u00fa ph\u00e1p r\u00f5 r\u00e0ng h\u01a1n.</p> </li> </ul>"},{"location":"blog/2020/07/25/manage-data-in-docker/#good-use-cases-for-volumes","title":"Good use cases for volumes","text":"<ul> <li> <p>Volume l\u00e0 c\u00e1ch n\u00ean d\u00f9ng nh\u1ea5t cho Docker container v\u00e0 services khi mu\u1ed1n b\u1ea3o to\u00e0n d\u1eef li\u1ec7u. M\u1ed9t v\u00e0i tr\u01b0\u1eddng h\u1ee3p s\u1eed d\u1ee5ng volume bao g\u1ed3m:</p> </li> <li> <p>Chia s\u1ebb d\u1eef li\u1ec7u gi\u1eef c\u00e1c container \u0111ang ch\u1ea1y. N\u1ebfu b\u1ea1n kh\u00f4ng t\u1ea1o m\u1ed9t c\u00e1ch r\u00f5 r\u00e0ng th\u00ec volume s\u1ebd \u0111\u01b0\u1ee3c t\u1ea1o l\u1ea7n ch\u1ea1y \u0111\u1ea7u ti\u00ean v\u00e0 mount v\u00e0o container. Khi container d\u1eebng ho\u1eb7c b\u1ecb x\u00f3a, volume s\u1ebd v\u1eabn c\u00f2n t\u1ed3n t\u1ea1i. Nhi\u1ec1u container c\u00f3 th\u1ec3 mount \u0111\u1ed3ng th\u1eddi v\u00e0o c\u00f9ng m\u1ed9t volume, d\u00f9 l\u00e0 \u0111\u1ecdc-ghi hay ch\u1ec9 \u0111\u1ecdc (read-only). Volume ch\u1ec9 b\u1ecb x\u00f3a \u0111i khi b\u1ea1n x\u00f3a ch\u00fang m\u1ed9t c\u00e1ch c\u1ee5 th\u1ec3.</p> </li> <li> <p>Khi m\u00e1y ch\u1ee7 Docker kh\u00f4ng c\u00f3 c\u1ea5u tr\u00fac th\u1ef1c m\u1ee5c ho\u1eb7c file nh\u1ea5t \u0111\u1ecbnh (container l\u00fac ch\u1ea1y tr\u00ean Window l\u00fac ch\u1ea1y tr\u00ean Ubuntu - ng\u01b0\u1eddi d\u1ecbch). Volume s\u1ebd gi\u00fap b\u1ea1n t\u00e1ch r\u1eddi c\u1ea5u h\u00ecnh c\u1ee7a m\u00e1y ch\u1ee7 Docker v\u1edbi container.</p> </li> <li> <p>Khi b\u1ea1n mu\u1ed1n l\u01b0u d\u1eef li\u1ec7u c\u1ee7a container tr\u00ean m\u1ed9t m\u00e1y ch\u1ee7 kh\u00e1c ho\u1eb7c d\u1ecbch v\u1ee5 cloud, h\u01a1n l\u00e0 local.</p> </li> <li> <p>Khi b\u1ea1n c\u1ea7n backed, restore ho\u1eb7c migrate d\u1eef li\u1ec7u t\u1eeb m\u1ed9t m\u00e1y ch\u1ee7 Docker t\u1edbi m\u1ed9t m\u00e1y kh\u00e1c. Volume lu\u00f4n l\u00e0 l\u1ef1a ch\u1ecdn t\u1ed1t nh\u1ea5t. Ch\u00fang ta c\u00f3 th\u1ec3 d\u1eebng container s\u1eed d\u1ee5ng volume, sau \u0111\u00f3 backed th\u01b0 m\u1ee5c volume( nh\u01b0 <code>/var/lib/docker/volumes/&lt;volume-name&gt;</code>)</p> </li> </ul>"},{"location":"blog/2020/07/25/manage-data-in-docker/#good-use-cases-for-bind-mounts","title":"Good use cases for bind mounts","text":"<ul> <li> <p>Th\u01b0\u1eddng th\u00ec n\u00ean s\u1eed d\u1ee5ng volume b\u1ea5t c\u1ee9 khi n\u00e0o c\u00f3 th\u1ec3. Bind mounts s\u1ebd th\u00edch h\u1ee3p cho c\u00e1c ki\u1ec3u tr\u01b0\u1eddng h\u1ee3p sau:</p> </li> <li> <p>Chi s\u1ebb c\u1ea5u file c\u1ea5u h\u00ecnh t\u1eeb m\u00e1y ch\u1ee7 Docker t\u1edbi container. \u0110\u00e2y l\u00e0 c\u00e1ch m\u1eb7c \u0111\u1ecbnh Docker cung c\u1ea5p DNS cho container, b\u1eb1ng c\u00e1ch mount <code>/etc/resolv.conf</code> t\u1eeb m\u00e1y ch\u1ee7 t\u1edbi m\u1ed7i container.</p> </li> <li> <p>Chia s\u1ebb source code ho\u1eb7c build artifacts gi\u1eefa c\u00e1c m\u00f4i tr\u01b0\u1eddng ph\u00e1t tri\u1ec3n tr\u00ean Docker host v\u00e0 m\u1ed9t container. V\u00ed d\u1ee5 b\u1ea1n mount m\u1ed9t th\u01b0 m\u1ee5c Maven <code>target/</code> v\u00e0o m\u1ed9t container, v\u00e0 m\u1ed7i khi b\u1ea1n build project Maven tr\u00ean m\u00e1y ch\u1ee7 Docker, container s\u1ebd c\u00f3 quy\u1ec1n truy c\u1eadp v\u00e0o artifacts \u0111\u00e3 \u0111\u01b0\u1ee3c build l\u1ea1i n\u00e0y. N\u1ebfu b\u1ea1n s\u1eed d\u1ee5ng Docker cho ph\u00e1t tri\u1ec3n theo c\u00e1ch n\u00e0y, th\u1ef1c t\u1ebf file Dockerfile tr\u00ean production c\u1ee7a b\u1ea1n n\u00ean copy file artifacts tr\u1ef1c ti\u1ebfp v\u00e0o image h\u01a1n l\u00e0 d\u00f9ng bind mount</p> </li> <li> <p>Khi file ho\u1eb7c c\u1ea5u tr\u00fac th\u01b0 m\u1ee5c c\u1ee7a m\u00e1y ch\u1ee7 Docker \u0111\u01b0\u1ee3c \u0111\u1ea3m b\u1ea3o th\u00edch h\u1ee3p v\u1edbi bind mounts c\u1ee7a container.</p> </li> </ul>"},{"location":"blog/2020/07/25/manage-data-in-docker/#good-use-cases-for-tmpfs-mounts","title":"Good use cases for tmpfs mounts","text":"<ul> <li><code>tmpfs</code> mounts \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng t\u1ed1t nh\u1ea5t cho tr\u01b0\u1eddng h\u1ee3p khi b\u1ea1n kh\u00f4ng mu\u1ed1n d\u1eef li\u1ec7u \u0111\u01b0\u1ee3c l\u01b0u tr\u00ean c\u1ea3 m\u00e1y ch\u1ee7 l\u1eabn trong container. \u0110\u00e2y c\u00f3 th\u1ec3 l\u00e0 v\u00ec l\u00fd do b\u1ea3o m\u1eadt ho\u1eb7c \u0111\u1ea3m b\u1ea3o hi\u1ec7u n\u0103ng c\u1ee7a container khi \u1ee9ng d\u1ee5ng c\u1ee7a b\u1ea1n c\u1ea7n ghi m\u1ed9t l\u01b0\u1ee3ng l\u1edbn d\u1eef li\u1ec7u <code>non-persistent state</code>.</li> </ul>"},{"location":"blog/2020/07/25/manage-data-in-docker/#tips-for-using-bind-mounts-or-volumes","title":"Tips for using bind mounts or volumes","text":"<ul> <li> <p>N\u1ebfu b\u1ea1n s\u1eed d\u1ee5ng bind mounts ho\u1eb7c volumne, ghi nh\u1edb nh\u1eefng \u0111i\u1ec1u sau:</p> </li> <li> <p>N\u1ebfu b\u1ea1n mount m\u1ed9t <code>empty volume</code> v\u00e0o m\u1ed9t th\u01b0 m\u1ee5c trong container, khi th\u01b0 m\u1ee5c n\u00e0y \u0111\u00e3 t\u1ed3n t\u1ea1i file ho\u1eb7c th\u01b0 m\u1ee5c, c\u00e1c file ho\u1eb7c c\u00e1c th\u01b0 m\u1ee5c khi \u0111\u00f3 \u0111\u01b0\u1ee3c <code>propagated</code>(copied) v\u00e0o trong volume. T\u01b0\u01a1ng t\u1ef1 n\u1ebfu b\u1ea1n start m\u1ed9t container v\u00e0 ch\u1ec9 \u0111\u1ecbnh m\u1ed9t volume ch\u01b0a t\u1ed3n t\u1ea1i, m\u1ed9t empty volume s\u1ebd \u0111\u01b0\u1ee3c t\u1ea1o cho b\u1ea1n.</p> </li> <li> <p>N\u1ebfu b\u1ea1n mount m\u1ed9t bind mount ho\u1eb7c m\u1ed9t non-empty volume v\u00e0o m\u1ed9t th\u01b0 m\u1ee5c trong container, khi th\u01b0 m\u1ee5c \u0111\u00f3 \u0111\u00e3 c\u00f3 file ho\u1eb7c c\u00e1c th\u01b0 m\u1ee5c con t\u1ed3n t\u1ea1i, c\u00e1c file ho\u1eb7c c\u00e1c th\u01b0 m\u1ee5c n\u00e0y s\u1ebd b\u1ecb che khu\u1ea5t b\u1edfi mount. Vi\u1ec7c n\u00e0y t\u01b0\u01a1ng t\u1ef1 nh\u01b0 khi b\u1ea1n l\u01b0u file v\u00e0o <code>/mnt</code> tr\u00ean Linux v\u00e0 sau \u0111\u00f3 b\u1ea1n mount m\u1ed9t USB v\u00e0o <code>/mnt</code> v\u1eady. N\u1ed9i dung c\u1ee7a <code>/mnt</code> s\u1ebd b\u1ecb che khu\u1ea5t b\u1edfi n\u1ed9i dung c\u1ee7a USB cho t\u1edbi khi USB \u0111\u01b0\u1ee3c r\u00fat ra (ho\u1eb7c unmount). N\u1ed9i dung c\u00e1c file hay c\u00e1c th\u01b0 m\u1ee5c kh\u00f4ng b\u1ecb x\u00f3a hay thay th\u1ebf, ch\u00fang ch\u1ec9 \u0111\u01a1n gi\u1ea3n kh\u00f4ng th\u1ec3 truy xu\u1ea5t trong khi bind mount ho\u1eb7c volume \u0111\u01b0\u1ee3c mount v\u00e0o :D</p> </li> </ul>"},{"location":"blog/2020/07/25/manage-data-in-docker/#happy-using-docker-3-d-d-d","title":"Happy using Docker &lt;3 :D :D :D","text":""},{"location":"blog/2020/07/26/how-to-config-nginx/","title":"How to config NGINX","text":"<ul> <li> <p>B\u00e0i g\u1ed1c t\u1ea1i \u0111\u00e2y</p> </li> <li> <p>NGINX l\u00e0 m\u1ed9t web server nh\u1eb9, hi\u1ec7u n\u0103ng cao \u0111\u01b0\u1ee3c thi\u1ebft k\u1ebf cho tr\u01b0\u1eddng h\u1ee3p traffic l\u1edbn.</p> </li> <li> <p>M\u1ed9t trong c\u00e1c t\u00ednh n\u0103ng m\u1ea1nh nh\u1ea5t c\u1ee7a NGINX l\u00e0 kh\u1ea3 n\u0103ng ph\u1ee5c v\u1ee5 hi\u1ec7u qu\u1ea3 n\u1ed9i dung t\u0129nh (static content) nh\u01b0 file HTML v\u00e0 media. NGINX s\u1eed d\u1ee5ng m\u1ed9t c\u01a1 ch\u1ebf b\u1ea5t \u0111\u1ed3ng b\u1ed9, cung c\u1ea5p d\u1ef1 \u0111o\u00e1n hi\u1ec7u n\u0103ng theo t\u1ea3i.(\u0111o\u1ea1n n\u00e0y l\u00fa ch\u01b0a hi\u1ec3u l\u1eafm :v).</p> </li> <li> <p>NGINX trao \u0111\u1ed5i n\u1ed9i dung \u0111\u1ed9ng cho CGI, FastCGI, ho\u1eb7c c\u00e1c web server kh\u00e1c nh\u01b0 Apache. C\u00e1c n\u1ed9i dung n\u00e0y sau \u0111\u00f3 \u0111\u01b0\u1ee3c truy\u1ec1n ng\u01b0\u1ee3c l\u1ea1i cho NGINX \u0111\u1ec3 chuy\u1ec3n t\u1edbi client. B\u00e0i vi\u1ebft n\u00e0y s\u1ebd gi\u00fap b\u1ea1n l\u00e0m quen v\u1edbi c\u00e1c tham s\u1ed1 v\u00e0 quy \u01b0\u1edbc c\u01a1 b\u1ea3n c\u1ee7a NGINX</p> </li> </ul>"},{"location":"blog/2020/07/26/how-to-config-nginx/#directives-blocks-and-contexts","title":"Directives, Blocks, and Contexts","text":"<ul> <li> <p>T\u1ea5t c\u1ea3 file c\u1ea5u h\u00ecnh NGINX \u0111\u01b0\u1ee3c \u0111\u1eb7t trong th\u01b0 m\u1ee5c <code>/etc/nginx</code>.</p> </li> <li> <p>File c\u1ea5u h\u00ecnh ch\u00ednh trong <code>/etc/nginx/nginx.conf</code>.</p> </li> <li> <p>C\u00e1c c\u1ea5u h\u00ecnh t\u00f9y ch\u1ecdn trong NGINX \u0111\u01b0\u1ee3c g\u1ecdi l\u00e0 c\u00e1c directives(c\u00e1c ch\u1ec9 th\u1ecb). C\u00e1c ch\u1ec9 th\u1ecb \u0111\u01b0\u1ee3c t\u1ed5 ch\u1ee9c v\u00e0o c\u00e1c groups (nh\u00f3m) \u0111\u01b0\u1ee3c bi\u1ebft \u0111\u1ebfn nh\u01b0 <code>blocks</code> hay <code>contexts</code>. Hai thu\u1eadt ng\u1eef n\u00e0y t\u01b0\u01a1ng \u0111\u01b0\u01a1ng nhau.</p> </li> <li> <p>C\u00e1c d\u00f2ng b\u1eaft \u0111\u1ea7u v\u1edbi k\u00fd t\u1ef1 <code>#</code> l\u00e0 c\u00e1c comment v\u00e0 kh\u00f4ng \u0111\u01b0\u1ee3c bi\u00ean d\u1ecbch b\u1edfi NGINX. C\u00e1c d\u00f2ng ch\u01b0a c\u00e1c ch\u1ec9 th\u1ecb ph\u1ea3i k\u1ebft th\u00fac v\u1edbi <code>;</code> ho\u1eb7c NGINX s\u1ebd b\u1ecb l\u1ed7i khi t\u1ea3 c\u1ea5u h\u00ecnh v\u00e0 report l\u1ea1i l\u1ed7i n\u00e0y.</p> </li> <li> <p>C\u00f9ng xem th\u1eed c\u1ea5u h\u00ecnh m\u1eb7c \u0111\u1ecbnh c\u1ee7a <code>/etc/nginx/nginx.conf</code>.</p> </li> </ul> /etc/nginx/nginx.conf<pre><code>user  nginx;\nworker_processes  1;\n\nerror_log  /var/log/nginx/error.log warn;\npid        /var/run/nginx.pid;\n\nevents {\nworker_connections 1024;\n}\n\nhttp {\n  ...\n}\n</code></pre> <ul> <li>File b\u1eaft \u0111\u1ea7u v\u1edbi 4 directives(ch\u1ec9 th\u1ecb): <code>user</code>, <code>worker_processes</code>, <code>error_log</code>, v\u00e0 <code>pid</code>. Ch\u00fang \u0111\u1eb7t ngo\u00e0i b\u1ea5t k\u1ef3 block hay context c\u1ee5 th\u1ec3 n\u00e0o, do v\u1eady ch\u00fang \u0111\u01b0\u1ee3c coi t\u1ed3n t\u1ea1i trong context ch\u00ednh ( <code>main context</code>). <code>events</code> v\u00e0 <code>http</code> blocks l\u00e0 c\u00e1c ch\u1ec9 th\u1ecb th\u00eam (additional directive), ch\u00fang c\u0169ng t\u1ed3n t\u1ea1i trong <code>main context</code>.</li> </ul>"},{"location":"blog/2020/07/26/how-to-config-nginx/#the-http-block","title":"The http block","text":"<pre><code>http {\n    include       /etc/nginx/mime.types;\n    default_type  application/octet-stream;\n\n    log_format  main  '$remote_addr - $remote_user [$time_local] \"$request\" '\n                      '$status $body_bytes_sent \"$http_referer\" '\n                      '\"$http_user_agent\" \"$http_x_forwarded_for\"';\n\n    access_log  /var/log/nginx/access.log  main;\n\n    sendfile        on;\n    #tcp_nopush     on;\n\n    keepalive_timeout  65;\n\n    #gzip  on;\n\n    include /etc/nginx/conf.d/*.conf;\n}\n</code></pre> <ul> <li><code>http</code> block ch\u1ee9a c\u00e1c ch\u1ec9 th\u1ecb cho vi\u1ec7c \u0111i\u1ec1u khi\u1ec3n traffic web. Nh\u1eefng ch\u1ec9 th\u1ecb n\u00e0y th\u01b0\u1eddng tham chi\u1ebfu nh\u01b0 l\u00e0 <code>universal</code> v\u00ec ch\u00fang \u0111\u01b0\u1ee3c truy\u1ec1n t\u1edbi t\u1ea5t c\u1ea3 c\u00e1c website c\u1ea5u h\u00ecnh NGINX ph\u1ee5c v\u1ee5. Xem NGINX docs \u0111\u1ec3 th\u1ea5y list c\u00e1c ch\u1ec9 th\u1ecb c\u00f3 trong <code>http</code> block, bao g\u1ed3m c\u1ea3 <code>server</code>.</li> </ul>"},{"location":"blog/2020/07/26/how-to-config-nginx/#server-blocks","title":"Server blocks","text":"<ul> <li> <p><code>http</code> block \u1edf tr\u00ean ch\u01b0a m\u1ed9t directive(ch\u1ec9 th\u1ecb) <code>include</code>, s\u1ebd n\u00f3i cho NGINX bi\u1ebft file c\u1ea5u h\u00ecnh cho website \u0111\u01b0\u1ee3c \u0111\u1eb7t \u1edf \u0111\u00e2u.</p> </li> <li> <p>N\u1ebfu b\u1ea1n c\u00e0i \u0111\u1eb7t NGINX t\u1eeb repository ch\u00ednh th\u1ee9c, b\u1ea1n s\u1ebd th\u1ea5y line n\u00e0y s\u1ebd cho bi\u1ebft:     <code>include /etc/nginx/conf.d/*.conf;</code> nh\u01b0 c\u00f3 trong <code>http</code> block \u1edf tr\u00ean. M\u1ed7i website b\u1ea1n \u0111\u1eb7t host v\u1edbi NGINX s\u1ebd c\u00f3 cho ri\u00eang m\u00ecnh m\u1ed9t file c\u1ea5u h\u00ecnh trong <code>/etc/nginx/conf.d/</code>, v\u1edbi t\u00ean \u0111\u01b0\u1ee3c \u0111\u1ecbnh d\u1ea1ng ki\u1ec3u nh\u01b0 <code>example.com.conf</code>. C\u00e1c site b\u1ecb disabled (kh\u00f4ng c\u00f2n \u0111\u01b0\u1ee3c ph\u1ee5c v\u1ee5 b\u1edfi NGINX) n\u00ean \u0111\u01b0\u1ee3c \u0111\u1eb7t t\u00ean nh\u01b0 <code>example.com.conf.disabled</code>.</p> </li> <li> <p>N\u1ebfu b\u1ea1n c\u00e0i \u0111\u1eb7t NGINX t\u1eeb Debian ho\u1eb7c Ubuntu, c\u00f3 th\u1ec3 s\u1ebd c\u00f3 line n\u00e0y (tuy nhi\u00ean c\u00e1c b\u1ea3n m\u1edbi ko c\u00f2n) <code>include /etc/nginx/sites-enabled/*;</code>. C\u00e1c th\u01b0 m\u1ee5c <code>../sites-enabled/</code> ch\u1ee9a c\u00e1c \u0111\u01b0\u1eddng d\u1eabn t\u01b0\u1ee3ng tr\u01b0ng t\u1edbi file c\u1ea5u h\u00ecnh site \u0111\u01b0\u1ee3c l\u01b0u trong <code>/etc/nginx/sites-available/</code>. Sites trong <code>sites-available</code> c\u00f3 th\u1ec3 b\u1ecb disable b\u1eb1ng c\u00e1ch x\u00f3a li\u00ean k\u1ebft t\u01b0\u1ee3ng tr\u01b0ng (symlink) t\u1edbi <code>sites-enabled</code>.</p> </li> <li> <p>D\u1ef1a tr\u00ean source c\u00e0i \u0111\u1eb7t c\u1ee7a b\u1ea1n, b\u1ea1n c\u00f3 th\u1ec3 t\u00ecm th\u1ea5y c\u1ea5u h\u00ecnh v\u00ed d\u1ee5 \u1edf <code>/etc/nginx/conf.d/default.conf</code> ho\u1eb7c <code>/etc/nginx/sites-enabled/default</code>.</p> </li> <li> <p>B\u1ea5t k\u1ec3 source c\u00e0i \u0111\u1eb7t nh\u01b0 th\u1ebf n\u00e0o, file c\u1ea5u h\u00ecnh server s\u1ebd ch\u1ee9a m\u1ed9t block (ho\u1eb7c c\u00e1c block) <code>server</code> cho m\u1ed9t web site. V\u00ed d\u1ee5:</p> </li> </ul> /etc/nginx/conf.d/example.com.conf<pre><code>server {\nlisten 80 default_server;\nlisten [::]:80 default_server;\nserver_name example.com www.example.com;\nroot /var/www/example.com;\nindex index.html;\ntry_files \\$uri /index.html;\n}\n</code></pre>"},{"location":"blog/2020/07/26/how-to-config-nginx/#listening-ports","title":"Listening Ports","text":"<ul> <li>Directive <code>listen</code> n\u00f3i v\u1edbi NGINX hostname/IP v\u00e0 TCP port n\u00f3 n\u00ean l\u1eafng nghe cho k\u1ebft n\u1ed1i HTTP. Tham s\u1ed1 <code>default_server</code> c\u00f3 ngh\u0129a m\u00e1y \u1ea3o n\u00e0y s\u1ebd tr\u1ea3 l\u1eddi request tr\u00ean port 80 n\u1ebfu kh\u00f4ng c\u00f3 b\u1ea5t k\u1ef3 host n\u00e0o ph\u00f9 h\u1ee3p. C\u00e2u l\u1ec7nh th\u1ee9 hai l\u1eafng nghe tr\u00ean IPv6 v\u1edbi c\u00e1ch c\u01b0 x\u1eed t\u01b0\u01a1ng t\u1ef1.</li> </ul>"},{"location":"blog/2020/07/26/how-to-config-nginx/#name-based-virtual-hosting","title":"Name-based virtual hosting","text":"<ul> <li> <p>Directive <code>server_name</code> cho ph\u00e9p nhi\u1ec1u domain \u0111\u01b0\u1ee3c ph\u1ee5c v\u1ee5 nh\u01b0 m\u1ed9t IP duy nh\u1ea5t. Server quy\u1ebft \u0111\u1ecbnh domain \u0111\u01b0\u1ee3c ph\u1ee5c v\u1ee5 d\u1ef1a tr\u00ean request header m\u00e0 n\u00f3 nh\u1eadn \u0111\u01b0\u1ee3c.</p> </li> <li> <p>B\u1ea1n th\u01b0\u1eddng n\u00ean t\u1ea1o m\u1ed9t file tr\u00ean m\u1ed7i m\u1ed9t domain ho\u1eb7c site b\u1ea1n mu\u1ed1n host tr\u00ean server c\u1ee7a b\u1ea1n. D\u01b0\u1edbi \u0111\u00e2y m\u1ed9t v\u00e0i v\u00ed d\u1ee5:</p> </li> <li> <p>X\u1eed l\u00fd request cho c\u1ea3 <code>example.com</code> v\u00e0 <code>www.example.com</code></p> </li> </ul> /etc/nginx/conf.d/example.com.conf<pre><code>  server_name example.com www.example.com;\n</code></pre> <ol> <li>Ch\u1ec9 th\u1ecb <code>server_name</code> c\u00f3 th\u1ec3 s\u1eed d\u1ee5ng wildcards <code>*.example.com</code> v\u00e0 <code>.example.com</code> c\u1ea3 hai \u0111\u1ec1u ch\u1ec9 server c\u00e1ch x\u1eed l\u00fd requests v\u1edbi t\u1ea5t c\u1ea3 c\u00e1c sub domain c\u1ee7a <code>example.com</code></li> </ol> /etc/nginx/conf.d/example.com.conf<pre><code>server_name *.example.com;\nserver_name .example.com;\n</code></pre> <ol> <li>X\u1eed l\u00fd v\u1edbi t\u1ea5t c\u1ee7a request v\u1edbi domain b\u1eaft \u0111\u1ea7u b\u1eb1ng <code>example.</code>:</li> </ol> /etc/nginx/conf.d/example.com.conf<pre><code>server_name example;\n</code></pre> <ul> <li> <p>NGINX cho ph\u00e9p b\u1ea1n ch\u1ec9 r\u00f5 server name kh\u00f4ng ph\u00f9 h\u1ee3p. NGINX s\u1eed d\u1ee5ng name t\u1eeb http header \u0111\u1ec3 tr\u1ea3 l\u1eddi request, d\u00f9 request \u0111\u00f3 h\u1ee3p l\u1ec7 hay kh\u00f4ng.</p> </li> <li> <p>S\u1eed d\u1ee5ng non-domain hostname th\u00ec h\u1eefu \u00edch n\u1ebfu server c\u1ee7a b\u1ea1n trong m\u1ed9t m\u1ea1ng LAN, howacj n\u1ebfu b\u1ea1n bi\u1ebft t\u1ea5t c\u1ea3 c\u00e1c client s\u1ebd t\u1ea1o ra request t\u1edbi server. Bao g\u1ed3m c\u1ea3 front-end proxy server v\u1edbi /etc/hosts` c\u1ea5u h\u00ecnh cho IP address m\u00e0 NGINX \u0111ang l\u1eafng nghe.</p> </li> </ul>"},{"location":"blog/2020/07/26/how-to-config-nginx/#location-blocks","title":"Location Blocks","text":"<ul> <li>Thi\u1ebft l\u1eadp <code>location</code> cho ph\u00e9p b\u1ea1n c\u1ea5u h\u00ecnh c\u00e1ch NGINX s\u1ebd ph\u1ea3n h\u1ed3i request v\u1edbi t\u00e0i nguy\u00ean trong server. Gi\u1ed1ng nh\u01b0 directive <code>server_name</code>n\u00f3i cho NGINX bi\u1ebft c\u00e1ch x\u1eed l\u00fd request t\u1edbi domain, directive <code>location</code> \u0111\u1ea3m b\u1ea3o cho request t\u1edbi c\u00e1c file ho\u1eb7c th\u01b0 m\u1ee5c c\u1ee5 th\u1ec3 nh\u01b0 <code>http://example.com/blog/</code>. \u0110\u00e2y l\u00e0 m\u1ed9t v\u00ed d\u1ee5:</li> </ul> /etc/nginx/sites-available/example.com<pre><code>  location / {}\n  location /images/ {}\n  location /blog/ {}\n  location /planet/ {}\n  location /planet/blog/ {}\n</code></pre> <ul> <li> <p>C\u00e1c directive <code>localtion</code> tr\u00ean kh\u1edbp theo chu\u1ed7i k\u00fd t\u1ef1:</p> </li> <li> <p>Request : <code>http://example.com/</code></p> </li> <li> <p>Returns: Gi\u1ea3 s\u1eed r\u1eb1ng c\u00f3 m\u1ed9t <code>server_name</code> cho <code>example.com</code>,directive <code>location /</code> s\u1ebd x\u00e1c \u0111\u1ecbnh \u0111i\u1ec1u g\u00ec x\u1ea3y ra v\u1edbi request n\u00e0y.</p> </li> <li> <p>NGINX lu\u00f4n lu\u00f4n \u0111\u00e1p \u1ee9ng c\u00e1c request b\u1eb1ng c\u00e1ch s\u1eed d\u1ee5ng c\u00e1c k\u1ebft qu\u1ea3 ph\u00f9 h\u1ee3p nh\u1ea5t:</p> </li> <li> <p>Request: <code>http://example.com/planet/blog/</code> ho\u1eb7c <code>http:/example.com/planet/blog/about/</code></p> </li> <li> <p>Returns: s\u1ebd \u0111\u01b0\u1ee3c \u0111\u00e1p \u1ee9ng b\u1edfi ch\u1ec9 th\u1ecb <code>location /planet/blog/</code> v\u00ec n\u00f3 c\u00f3 th\u1ec3 h\u01a1n, d\u00f9 <code>location /planet/</code> c\u0169ng ph\u00f9 h\u1ee3p v\u1edbi request n\u00e0y.</p> </li> </ul> /etc/nginx/sites-available/example.com<pre><code>location ~ IndexPage\\.php$ {}\nlocaiton ~ ^/BlogPlanet(/|/index\\.php)$ {}\n</code></pre> <ul> <li>Khi m\u1ed9t directive <code>location</code> \u0111\u01b0\u1ee3c theo sau b\u1edfi m\u1ed9t d\u1ea5u ng\u00e3 (~), NGINX th\u1ef1c thi m\u1ed9t regex (regular expression) match. Nh\u1eefng regex n\u00e0y lu\u00f4n lu\u00f4n case-sensitive ( ph\u00e2n bi\u1ec7t hoa th\u01b0\u1eddng). V\u00ec v\u1eady, <code>IndexPage.php</code> s\u1ebd match v\u1edbi v\u00ed d\u1ee5 \u0111\u1ea7u ti\u00ean \u1edf tr\u00ean, nh\u01b0ng <code>indexpage.php</code> s\u1ebd kh\u00f4ng. Trong v\u00ed d\u1ee5 th\u1ee9 2, regex <code>^/BlogPlanet(/|/index\\.php)$</code> s\u1ebd match v\u1edbi request cho <code>/BlogPlanet/</code> v\u00e0 <code>/BlogPlanet/index.php</code>, nh\u01b0ng KH\u00d4NG match <code>/BlogPlanet</code>, <code>blogplanet</code>, ho\u1eb7c <code>/blogplanet/index.php</code>. NGINX s\u1eed d\u1ee5ng Perl Compatible Regular Expressions - PCRE</li> </ul> /etc/nginx/sites-available/example.com<pre><code>location ~* \\.(pl|cgi|perl|prl)$ { }\nlocation ~* \\.(md|mdwn|txt|mkdn)$ { }\n</code></pre> <ul> <li>N\u1ebfu b\u1ea1n mu\u1ed1n match v\u1edbi <code>case-insensitive</code> (match KH\u00d4NG ph\u00e2n bi\u1ec7t hoa th\u01b0\u1eddng), s\u1eed d\u1ee5ng m\u1ed9t d\u1ea5u ng\u00e3 v\u1edbi m\u1ed9t d\u1ea5u sao (~*). C\u00e1c v\u00ed d\u1ee5 tr\u00ean ch\u1ec9 \u0111\u1ecbnh c\u00e1ch NGINX n\u00ean s\u1eed l\u00fd t\u1ea5t c\u1ea3 c\u00e1c request m\u00e0 k\u1ebft th\u00fac trong m\u1ed9t ph\u1ea7n m\u1edf r\u1ed9ng file. V\u00ed d\u1ee5 \u0111\u1ea7u ti\u00ean, b\u1ea5t k\u1ef3 file n\u00e0o k\u1ebft th\u00fac v\u1edbi: <code>.pl</code>, <code>.PL</code>, <code>.cgi</code>, <code>.CGI</code>, <code>.perl</code>, <code>.Perl</code>, <code>.prl</code>, v\u00e0 <code>.PrL</code> s\u1ebd match.</li> </ul> /etc/nginx/sites-available/example.com<pre><code>location ^~/images/IndexPage/ {}\nlocation ^~/blog/BlogPlanet/ {}\n</code></pre> <ul> <li>Th\u00eam m\u1ed9t d\u1ea5u m\u0169 v\u00e0 d\u1ea5u ng\u00e3 (^~) v\u00e0o directive <code>location</code> n\u1edbi v\u1edbi NGINX, n\u1ebfu n\u00f3 match m\u1ed9t string c\u1ee5 th\u1ec3 , d\u1eebng t\u00ecm ki\u1ebfm m\u1ed9t match c\u1ee5 th\u1ec3 h\u01a1n (match d\u00e0i h\u01a1n) v\u00e0 s\u1eed d\u1ee5ng lu\u00f4n c\u00e1c ch\u1ec9 th\u1ecb (directive) \u1edf \u0111\u00e2y.</li> </ul> /etc/nginx/sites-available/example.com<pre><code>location = / {}\n</code></pre> <ul> <li> <p>Cu\u1ed1i c\u00f9ng, n\u1ebfu b\u1ea1n th\u00eam m\u1ed9t d\u1ea5u b\u1eb1ng (=) v\u00e0o <code>location</code>, \u0111i\u1ec1u n\u00e0y \u1ea5p \u0111\u1eb7t m\u1ed9t match ch\u00ednh x\u00e1c v\u1edbi path request v\u00e0 d\u1eebng t\u00ecm ki\u1ebfm cho m\u1ed9t match c\u1ee5 th\u1ec3 h\u01a1n. V\u00ed d\u1ee5 tr\u00ean s\u1ebd ch\u1ec9 match <code>http://example.com/</code>, kh\u00f4ng match <code>http://example.com/index.html</code>. S\u1eed d\u1ee5ng match ch\u00ednh x\u00e1c c\u00f3 th\u1ec3 t\u0103ng t\u1ed1c \u0111\u1ed9 ph\u1ea3n h\u1ed3i request l\u00ean m\u1ed9t ch\u00fat, h\u1eefu \u00edch khi b\u1ea1n c\u00f3 m\u1ed9t v\u00e0i request \u0111\u1eb7c bi\u1ec7t ph\u1ecf bi\u1ebfn.</p> </li> <li> <p>C\u00e1c directive (ch\u1ec9 th\u1ecb) \u0111\u01b0\u1ee3c x\u1eed l\u00fd theo th\u1ee9 t\u1ef1 sau:</p> </li> <li> <p>String match ch\u00ednh x\u00e1c \u0111\u01b0\u1ee3c x\u1eed l\u00fd tr\u01b0\u1edbc ti\u00ean. N\u1ebfu m\u1ed9t match \u0111\u01b0\u1ee3c t\u00ecm th\u1ea5y, NGINX d\u1eebng t\u00ecm ki\u1ebfm v\u00e0 \u0111\u00e1p \u1ee9ng request.</p> </li> <li> <p>C\u00e1c directive c\u00f2n l\u1ea1i \u0111\u01b0\u1ee3c x\u1eed l\u00fd ti\u1ebfp theo. N\u1ebfu NGINX g\u1eb7p m\u1ed9t match v\u1edbi <code>^~</code> \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng, n\u00f3 s\u1ebd d\u1eebng \u1edf \u0111\u00e2y v\u00e0 \u0111\u00e1p \u1ee9ng y\u00eau c\u1ea7u. N\u1ebfu kh\u00f4ng, NGINX ti\u1ebfp t\u1ee5c x\u1eed l\u00fd c\u00e1c directive location ti\u1ebfp theo.</p> </li> <li> <p>T\u1ea5t c\u1ea3 c\u00e1c directives v\u1edbi regexx (~ v\u00e0 ~*) \u0111\u01b0\u1ee3c x\u1eed l\u00fd. N\u1ebfu m\u1ed9t regex kh\u1edbp v\u1edbi request, NGINX d\u1eebng t\u00ecm ki\u1ebfm v\u00e0 \u0111\u00e1p \u1ee9ng y\u00eau c\u1ea7u.</p> </li> <li> <p>N\u1ebfu kh\u00f4ng regex n\u00e0o match, string kh\u1edbp nh\u1ea5t c\u00f3 th\u1ec3 s\u1ebd \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng.</p> </li> <li> <p>\u0110\u1ea3m b\u1ea3o r\u1eb1ng m\u1ed7i file v\u00e0 folder d\u01b0\u1edbi m\u1ed9t domain s\u1ebd match \u00edt nh\u1ea5t m\u1ed9t <code>location</code> directive.</p> </li> </ul> <pre><code>NOTE:\nLocation l\u1ed3ng nhau th\u00ec kh\u00f4ng \u0111\u01b0\u1ee3c khuy\u1ebfn kh\u00edch ho\u1eb7c supported.\n</code></pre>"},{"location":"blog/2020/07/26/how-to-config-nginx/#location-root-and-index","title":"Location Root and Index","text":"<ul> <li> <p><code>location</code> l\u00e0 m\u1ed9t bi\u1ebfn kh\u00e1c, c\u00f3 block c\u1ee7a ri\u00eang n\u00f3</p> </li> <li> <p>M\u1ed9t khi NGINX x\u00e1c \u0111\u1ecbnh m\u1ed9t directive <code>location</code> ph\u00f9 h\u1ee3p nh\u1ea5t v\u1edbi request, response cho request n\u00e0y \u0111\u01b0\u1ee3c x\u00e1c \u0111\u1ecbnh b\u1edfi n\u1ed9i dung li\u00ean quan trong block c\u1ee7a directive <code>location</code>. \u0110\u00e2y l\u00e0 m\u1ed9t v\u00ed d\u1ee5:</p> </li> </ul> /etc/nginx/sites-available/example.com<pre><code>location / {\n  root html;\n  index index.html index.htm;\n}\n</code></pre> <ul> <li> <p>Trong v\u00ed d\u1ee5 n\u00e0y, t\u00e0i li\u1ec7u root \u0111\u01b0\u1ee3c \u0111\u1eb7t trong th\u01b0 m\u1ee5c <code>html/</code> B\u00ean d\u01b0\u1edbi c\u00e0i \u0111\u1eb7t m\u1eb7c \u0111\u1ecbnh c\u1ee7a NGINX, \u0111\u01b0\u1eddng d\u1eabn \u0111\u1ea7y \u0111\u1ee7 cho v\u1ecb tr\u00ed n\u00e0y l\u00e0 <code>/etc/nginx/html/</code>.</p> </li> <li> <p>Request: <code>http://example.com/blog/includes/style.css</code></p> </li> <li> <p>Returns: NGINX s\u1ebd c\u1ed1 g\u1eafng ph\u1ee5c v\u1ee5 c\u00e1c file \u0111\u01b0\u1ee3c \u0111\u1eb7t \u1edf: <code>/etc/nginx/html/blog/includes/styles.css</code></p> </li> </ul> <pre><code>NOTE:\nB\u1ea1n c\u00f3 th\u1ec3 s\u1eed d\u1ee5ng \u0111\u01b0\u1eddng d\u1eabn tuy\u1ec7t \u0111\u1ed1i n\u1ebfu mu\u1ed1n\n</code></pre> <ul> <li>Bi\u1ebfn <code>index</code> n\u00f3i v\u1edbi NGINX file \u0111\u01b0\u1ee3c ph\u1ee5c v\u1ee5 n\u1ebfu kh\u00f4ng \u0111\u01b0\u1ee3c ch\u1ec9 \u0111\u1ecbnh r\u00f5 r\u00e0ng.</li> <li> <p>V\u00ed d\u1ee5:</p> </li> <li> <p>Request: <code>http://example.com</code></p> </li> <li> <p>Returns: NGINX s\u1ebd c\u1ed1 ph\u1ee5c v\u1ee5 file \u0111\u01b0\u1ee3c \u0111\u1eb7t \u1edf <code>/etc/nginx/html/index.html</code>.</p> </li> <li> <p>N\u1ebfu nhi\u1ec1u file \u0111\u01b0\u1ee3c ch\u1ec9 \u0111\u1ecbnh cho directive <code>index</code>, NGINX s\u1ebd x\u1eed l\u00fd theo th\u1ee9 t\u1ef1 li\u1ec7t k\u00ea v\u00e0 ph\u1ee5c v\u1ee5 request v\u1edbi file \u0111\u1ea7u ti\u00ean t\u1ed3n t\u1ea1i. N\u1ebfu <code>index.html</code> kh\u00f4ng t\u1ed3n t\u1ea1i trong th\u01b0 m\u1ee5c li\u00ean quan, khi \u0111\u00f3 <code>index.htm</code> s\u1ebd \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng. N\u1ebfu <code>index.htm</code> c\u0169ng kh\u00f4ng t\u1ed3n t\u1ea1i, m\u1ed9t message 404 s\u1ebd \u0111\u01b0\u1ee3c g\u1eedi \u0111i.</p> </li> <li> <p>\u0110\u00e2y l\u00e0 m\u1ed9t v\u00ed d\u1ee5 ph\u1ee9c t\u1ea1p h\u01a1n m\u1ed9t ch\u00fat, hi\u1ec3n th\u1ecb m\u1ed9t t\u1eadp c\u00e1c directive <code>location</code> cho m\u1ed9t server response v\u1edbi domain <code>example.com</code>:</p> </li> </ul> /etc/nginx/sites-available/example.com<pre><code>location / {\n  root /srv/www/example.com/public_html;\n  index index.html index.htm;\n}\n\nlocation ~ \\.pl$ {\n  gzip off;\n  include /etc/nginx/fastcgi_params;\n  fastcgi_pass unix:/var/run/fcgiwrap.socket;\n  fastcgi_index index.pl;\n  fastcgi_param SCRIPT_FILENAME /srv/www/example.com/public_html$fastcgi_script_name;\n}\n</code></pre> <ul> <li> <p>Trong v\u00ed d\u1ee5 n\u00e0y, t\u1ea5t c\u1ea3 request cho resource k\u1ebft th\u00fac v\u1edbi \u0111u\u00f4i <code>.pl</code> \u0111\u01b0\u1ee3c x\u1eed l\u00fd b\u1edfi <code>location</code> block, ch\u1ec9 r\u00f5 m\u1ed9t <code>fastcgi</code> x\u1eed l\u00fd cho nh\u1eefng request n\u00e0y. N\u1ebfu kh\u00f4ng, NGINX s\u1eed d\u1ee5ng directive location \u0111\u1ea7u ti\u00ean. T\u00e0i nguy\u00ean \u0111\u01b0\u1ee3c \u0111\u1eb7t trong file h\u1ec7 th\u1ed1ng \u1edf <code>/srv/www/example.com/public_html/</code>. N\u1ebfu kh\u00f4ng file name n\u00e0o \u0111\u01b0\u1ee3c ch\u1ec9 \u0111\u1ecbnh trong request, NGINX s\u1ebd t\u00ecm ki\u1ebfm v\u00e0 cung c\u1ea5p file <code>index.html</code> ho\u1eb7c <code>index.htm</code>. N\u1ebfu kh\u00f4ng <code>index</code> file n\u00e0o \u0111\u01b0\u1ee3c t\u00ecm th\u1ea5y, server s\u1ebd tr\u1ea3 v\u1ec1 404.</p> </li> <li> <p>C\u00f9ng ph\u00e2n t\u00edch \u0111i\u1ec1u g\u00ec x\u1ea3y ra v\u1edbi m\u1ed9t v\u00e0i request:</p> </li> <li> <p>Request: <code>http://example.com/</code></p> </li> <li> <p>Returns: <code>/srv/www/example.com/public_html/index.html</code> n\u1ebfu n\u00f3 t\u1ed3n t\u1ea1i. n\u1ebfu file kh\u00f4ng t\u1ed3n t\u1ea1i, n\u00f3 s\u1ebd tr\u1ea3 v\u1ec1 file <code>/srv/www/example.com/public_html/index.htm</code>. N\u1ebfu file n\u00e0y c\u0169ng kh\u00f4ng t\u00f2n t\u1ea1i NGINX tr\u1ea3 v\u1ec1 l\u1ed7i 404.</p> </li> <li> <p>Request: <code>http://example.com/tasks.pl</code></p> </li> <li> <p>Returns: NGINX s\u1ebd s\u1eed d\u1ee5ng tr\u00ecnh x\u1eed l\u00fd FastCGI \u0111\u1ec3 th\u1ef1c thi file \u0111\u01b0\u1ee3c l\u01b0u t\u1ea1i <code>/srv/www/example.com/public_html/tasks.pl</code> v\u00e0 tr\u1ea3 v\u1ec1 k\u1ebft qu\u1ea3.</p> </li> <li> <p>Request: <code>http://example.com/username/roster.pl</code></p> </li> <li> <p>Returns: NGINX s\u1ebd s\u1eed d\u1ee5ng tr\u00ecnh x\u1eed l\u00fd FastCGI \u0111\u1ec3 th\u1ef1c thi file \u0111\u1eb7t t\u1ea1i <code>srv/www/example.com/public_html/username/roster.pl</code> v\u00e0 tr\u1ea3 v\u1ec1 k\u1ebft qu\u1ea3.</p> </li> </ul>"},{"location":"blog/2020/09/10/ph%C3%A2n-bi%E1%BB%87t-apache-hadoop-v%C3%A0-apache-spark/","title":"Ph\u00e2n bi\u1ec7t Apache Hadoop v\u00e0 Apache Spark","text":"<ul> <li>B\u00e0i g\u1ed1c t\u1ea1i \u0111\u00e2y</li> <li> <p>Link g\u1ed1c ti\u1ebfng Anh t\u1eeb trang n\u00e0y.</p> </li> <li> <p>Big Data l\u00e0 g\u00ec? Quy m\u00f4 d\u1eef li\u1ec7u nh\u01b0 th\u1ebf n\u00e0o th\u00ec \u0111\u01b0\u1ee3c coi l\u00e0 \u0111\u1ee7 l\u1edbn \u0111\u1ec3 \u0111\u01b0\u1ee3c g\u1ecdi l\u00e0 Big Data? C\u00f3 nhi\u1ec1u gi\u1ea3 \u0111\u1ecbnh cho thu\u1eadt ng\u1eef Big Data. L\u01b0\u1ee3ng d\u1eef li\u1ec7u kho\u1ea3ng 50TB c\u00f3 th\u1ec3 \u0111\u01b0\u1ee3c coi l\u00e0 l\u1edbn \u0111\u1ed1i v\u1edbi Start-up, nh\u01b0ng n\u00f3 c\u00f3 th\u1ec3 kh\u00f4ng ph\u1ea3i l\u00e0 Big Data cho c\u00e1c c\u00f4ng ty nh\u01b0 Google v\u00e0 Facebook. \u0110\u00f3 l\u00e0 b\u1edfi v\u00ec h\u1ecd c\u00f3 c\u01a1 s\u1edf h\u1ea1 t\u1ea7ng \u0111\u1ec3 l\u01b0u tr\u1eef v\u00e0 x\u1eed l\u00fd l\u01b0\u1ee3ng data kh\u1ed5ng l\u1ed3 n\u00e0y. Khi \u0111\u00f3 Data t\u1ef1 n\u00f3 s\u1ebd tr\u1edf th\u00e0nh Big Data.</p> </li> <li>V\u1eady Apache Hadoop v\u00e0 Apache Spark l\u00e0 g\u00ec ? \u0110i\u1ec1u g\u00ec \u0111\u00e3 khi\u1ebfn IT tr\u1edf n\u00ean chuy\u00ean nghi\u1ec7p khi n\u00f3i v\u1ec1 nh\u1eefng t\u1eeb \"hot\" n\u00e0y v\u00e0 t\u1ea1i sao nhu c\u1ea7u v\u1ec1 ng\u00e0nh ph\u00e2n t\u00edch d\u1eef li\u1ec7u (Data Analytics) v\u00e0 Khoa h\u1ecdc d\u1eef li\u1ec7u ( Data Scientists) \u0111ang t\u0103ng theo c\u1ea5p s\u1ed1 nh\u00e2n?</li> </ul> <ul> <li>Apache Hadoop v\u00e0 Apache Spark \u0111\u1ec1u l\u00e0 c\u00e1c Big Data Framework - ch\u00fang cung c\u1ea5p m\u1ed9t s\u1ed1 c\u00f4ng c\u1ee5 ph\u1ed5 bi\u1ebfn nh\u1ea5t \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng \u0111\u1ec3 th\u1ef1c hi\u1ec7n c\u00e1c t\u00e1c v\u1ee5 ph\u1ed5 bi\u1ebfn li\u00ean quan \u0111\u1ebfn Big Data. V\u1eady c\u00e1c n\u1ec1n t\u1ea3ng n\u00e0y kh\u00e1c nhau \u1edf \u0111\u00e2u ? H\u00e3y c\u00f9ng so s\u00e1nh v\u1edbi m\u1ed9t s\u1ed1 th\u00f4ng s\u1ed1 c\u01a1 b\u1ea3n nh\u01b0 d\u01b0\u1edbi nha:</li> </ul> N\u1ed9i dung Apache Hadoop Apache Spark Kh\u00e1i ni\u1ec7m - Apache Hadoop l\u00e0 m\u1ed9t framwork ngu\u1ed3n m\u1edf \u0111\u01b0\u1ee3c thi\u1ebft k\u1ebf \u0111\u1ec3 m\u1edf r\u1ed9ng quy m\u00f4 t\u1eeb c\u00e1c m\u00e1y ch\u1ee7 \u0111\u01a1n l\u1ebb \u0111\u1ebfn h\u00e0ng ng\u00e0n m\u00e1y v\u00e0 ch\u1ea1y c\u00e1c \u1ee9ng d\u1ee5ng tr\u00ean c\u00e1c c\u1ee5m ph\u1ea7n c\u1ee9ng. - Apache Hadoop c\u00f3 th\u1ec3 x\u1eed l\u00fd nhi\u1ec1u vi\u1ec7c kh\u00e1 t\u1ed1t. N\u00f3 c\u0169ng \u0111\u01b0\u1ee3c ph\u00e1t tri\u1ec3n v\u00e0 d\u1ea7n ho\u00e0n thi\u1ec7n c\u00e1c t\u00ednh n\u0103ng v\u00e0 kh\u1ea3 n\u0103ng m\u1edbi \u0111\u1ec3 gi\u00fap thi\u1ebft l\u1eadp v\u00e0 s\u1eed d\u1ee5ng d\u1ec5 d\u00e0ng h\u01a1n. C\u00f3 m\u1ed9t h\u1ec7 sinh th\u00e1i l\u1edbn c\u00e1c \u1ee9ng d\u1ee5ng hi\u1ec7n \u0111ang t\u1eadn d\u1ee5ng Hadoop.  - Hadoop c\u1ee7a Apache \u0111\u01b0\u1ee3c chia th\u00e0nh hai l\u1edbp. L\u1edbp \u0111\u1ea7u ti\u00ean l\u00e0 l\u1edbp l\u01b0u tr\u1eef v\u00e0 \u0111\u01b0\u1ee3c g\u1ecdi l\u00e0 H\u1ec7 th\u1ed1ng t\u1ec7p ph\u00e2n t\u00e1n Hadoop (Hadoop Distributed File System -HDFS), l\u1edbp th\u1ee9 hai l\u00e0 l\u1edbp x\u1eed l\u00fd v\u00e0 \u0111\u01b0\u1ee3c g\u1ecdi l\u00e0 MapReduce. L\u1edbp l\u01b0u tr\u1eef c\u1ee7a Hadoop, t\u1ee9c l\u00e0 HDFS ch\u1ecbu tr\u00e1ch nhi\u1ec7m l\u01b0u tr\u1eef d\u1eef li\u1ec7u trong khi MapReduce ch\u1ecbu tr\u00e1ch nhi\u1ec7m x\u1eed l\u00fd d\u1eef li\u1ec7u trong Hadoop Cluster. - Apache Spark l\u00e0 m\u1ed9t c\u1ee5m framework \u0111i\u1ec7n to\u00e1n nhanh, \u0111\u01b0\u1ee3c thi\u1ebft k\u1ebf \u0111\u1ec3 t\u00ednh to\u00e1n nhanh trong x\u1eed l\u00fd d\u1eef li\u1ec7u quy m\u00f4 l\u1edbn. Apache Spark l\u00e0 m\u1ed9t c\u00f4ng c\u1ee5 x\u1eed l\u00fd ph\u00e2n t\u00e1n (distributed processing engine) nh\u01b0ng n\u00f3 kh\u00f4ng \u0111i k\u00e8m v\u1edbi tr\u00ecnh qu\u1ea3n l\u00fd t\u00e0i nguy\u00ean c\u1ee5m (inbuilt cluster resource manager) v\u00e0 h\u1ec7 th\u1ed1ng l\u01b0u tr\u1eef ph\u00e2n t\u00e1n s\u1eb5n c\u00f3 (distributed storage system) m\u00e0 ph\u1ea3i c\u1eafm v\u00e0o m\u1ed9t tr\u00ecnh qu\u1ea3n l\u00fd c\u1ee5m v\u00e0 h\u1ec7 th\u1ed1ng l\u01b0u tr\u1eef.  - Apache Spark bao g\u1ed3m Spark Core v\u00e0 B\u1ed9 th\u01b0 vi\u1ec7n. Spark core th\u1ef1c thi v\u00e0 qu\u1ea3n l\u00fd c\u00f4ng vi\u1ec7c b\u1eb1ng c\u00e1ch cung c\u1ea5p tr\u1ea3i nghi\u1ec7m li\u1ec1n m\u1ea1ch cho ng\u01b0\u1eddi d\u00f9ng. Ng\u01b0\u1eddi d\u00f9ng ph\u1ea3i g\u1eedi c\u00f4ng vi\u1ec7c t\u1edbi Spark core v\u00e0 Spark core \u0111\u1ea3m nhi\u1ec7m vi\u1ec7c x\u1eed l\u00fd, th\u1ef1c thi v\u00e0 tr\u1ea3 l\u1eddi l\u1ea1i cho ng\u01b0\u1eddi d\u00f9ng qua API Spark Core b\u1eb1ng c\u00e1c ng\u00f4n ng\u1eef l\u1eadp tr\u00ecnh kh\u00e1c nhau nh\u01b0 Scala, Python, Java v\u00e0 R.  - Apache Spark l\u00e0 c\u00f4ng c\u1ee5 x\u1eed l\u00fd d\u1eef li\u1ec7u cho c\u00e1c ch\u1ebf \u0111\u1ed9 h\u00e0ng lo\u1ea1t v\u00e0 ph\u00e1t tr\u1ef1c tuy\u1ebfn c\u00f3 c\u00e1c truy v\u1ea5n SQL, X\u1eed l\u00fd \u0111\u1ed3 th\u1ecb (Graph Processing) v\u00e0 Machine Learning. X\u1eed l\u00fd d\u1eef li\u1ec7u - Apache Hadoop ch\u1ec9 x\u1eed l\u00fd d\u1eef li\u1ec7u theo l\u00f4.  - Apache Hadoop ch\u1eadm h\u01a1n Apache Spark. Spark x\u1eed l\u00fd d\u1eef li\u1ec7u theo l\u00f4 v\u00e0 th\u1eddi gian th\u1ef1c. T\u00ednh t\u01b0\u01a1ng th\u00edch Apache Hadoop t\u01b0\u01a1ng th\u00edch ch\u1ee7 y\u1ebfu nhi\u1ec1u c\u00e1c data sources v\u00e0 \u0111\u1ecbnh d\u1ea1ng t\u1ec7p C\u00f3 th\u1ec3 t\u00edch h\u1ee3p v\u1edbi t\u1ea5t c\u1ea3 c\u00e1c ngu\u1ed3n d\u1eef li\u1ec7u v\u00e0 \u0111\u1ecbnh d\u1ea1ng t\u1ec7p \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3 b\u1edfi c\u1ee5m Hadoop H\u1ed7 tr\u1ee3 ng\u00f4n ng\u1eef Apache Hadoop h\u1ed7 tr\u1ee3 ng\u00f4n ng\u1eef ch\u00ednh l\u00e0 Java nh\u01b0ng c\u00e1c ng\u00f4n ng\u1eef nh\u01b0 C, C++, ruby, Python, Perl, Groovy c\u0169ng \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3 b\u1eb1ng Hadoop Streaming H\u1ed7 tr\u1ee3 Java, Scala, Python v\u00e0 R Ph\u00e2n t\u00edch th\u1eddi gian th\u1ef1c - Mapreduce c\u1ee7a Apache Hadoop kh\u00f4ng th\u1ec3 x\u1eed l\u00fd th\u1eddi gian th\u1ef1c v\u00ec n\u00f3 \u0111\u01b0\u1ee3c thi\u1ebft k\u1ebf \u0111\u1ec3 th\u1ef1c hi\u1ec7n x\u1eed l\u00fd h\u00e0ng lo\u1ea1t tr\u00ean l\u01b0\u1ee3ng d\u1eef li\u1ec7u kh\u00f4ng l\u1ed3.  - Apache Hadoop \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng cho c\u00f4ng vi\u1ec7c x\u1eed l\u00fd h\u00e0ng lo\u1ea1t nh\u01b0 ph\u00e2n t\u00edch c\u00e1c tham s\u1ed1 kh\u00e1c nhau nh\u01b0 nh\u00f3m tu\u1ed5i, \u0111\u1ecba \u0111i\u1ec3m, th\u1eddi gian s\u1eed d\u1ee5ng video YouTube c\u1ee5 th\u1ec3 trong 24 gi\u1edd ho\u1eb7c 7 ng\u00e0y qua. - Apache Spark c\u00f3 th\u1ec3 x\u1eed l\u00fd d\u1eef li\u1ec7u th\u1eddi gian th\u1ef1c t\u1ee9c l\u00e0 d\u1eef li\u1ec7u \u0111\u1ebfn t\u1eeb c\u00e1c lu\u1ed3ng s\u1ef1 ki\u1ec7n th\u1eddi gian th\u1ef1c v\u1edbi t\u1ed1c \u0111\u1ed9 h\u00e0ng tri\u1ec7u s\u1ef1 ki\u1ec7n m\u1ed7i gi\u00e2y. V\u00ed d\u1ee5: Data Twitter ch\u1eb3ng h\u1ea1n ho\u1eb7c lu\u1ee3t chia s\u1ebb, \u0111\u0103ng b\u00e0i tr\u00ean Facebook. S\u1ee9c m\u1ea1nh Spark l\u00e0 kh\u1ea3 n\u0103ng x\u1eed l\u00fd lu\u1ed3ng tr\u1ef1c ti\u1ebfp hi\u1ec7u qu\u1ea3.  - Apache Spark c\u00f3 th\u1ec3 \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng \u0111\u1ec3 x\u1eed l\u00fd ph\u00e1t hi\u1ec7n gian l\u1eadn trong khi th\u1ef1c hi\u1ec7n c\u00e1c giao d\u1ecbch ng\u00e2n h\u00e0ng. \u0110\u00f3 l\u00e0 b\u1edfi v\u00ec, t\u1ea5t c\u1ea3 c\u00e1c kho\u1ea3n thanh to\u00e1n tr\u1ef1c tuy\u1ebfn \u0111\u01b0\u1ee3c th\u1ef1c hi\u1ec7n trong th\u1eddi gian th\u1ef1c v\u00e0 ch\u00fang ta c\u1ea7n ng\u1eebng giao d\u1ecbch gian l\u1eadn trong khi qu\u00e1 tr\u00ecnh thanh to\u00e1n \u0111ang di\u1ec5n ra. M\u1ee5c ti\u00eau s\u1eed d\u1ee5ng S\u1eed d\u1ee5ng khi c\u1ea7n:  - X\u1eed l\u00fd h\u00e0ng lo\u1ea1t b\u1ed9 d\u1eef li\u1ec7u l\u1edbn.  - Kh\u00f4ng y\u00eau c\u1ea7u gi\u1ea3i ph\u00e1p trung gian.  Apache Hadoop cung c\u1ea5p giao di\u1ec7n web \u0111\u1ec3 g\u1eedi v\u00e0 th\u1ef1c thi c\u00f4ng vi\u1ec7c. T\u1ea5t c\u1ea3 c\u00e1c c\u00f4ng c\u1ee5 Business Intelligence (BI) nh\u01b0 Qlikview, Tableau, Zoom Data, Zeeplin \u0111\u1ec1u c\u00f3 k\u1ebft n\u1ed1i v\u1edbi Hadoop v\u00e0 h\u1ec7 sinh th\u00e1i c\u1ee7a n\u00f3.  C\u00f3 ngh\u0129a l\u00e0 b\u1ea1n c\u00f3 th\u1ec3 l\u01b0u tr\u1eef d\u1eef li\u1ec7u trong HDFS v\u00e0 sau khi x\u1eed l\u00fd d\u1eef li\u1ec7u b\u1eb1ng Hadoop, b\u1ea1n c\u00f3 th\u1ec3 tr\u1ef1c ti\u1ebfp h\u00ecnh dung output c\u1ee7a m\u00ecnh ch\u1ea1y tr\u00ean h\u1ec7 th\u1ed1ng l\u01b0u tr\u1eef. - X\u1eed l\u00fd d\u1eef li\u1ec7u nhanh v\u00e0 t\u01b0\u01a1ng t\u00e1c.  - X\u1eed l\u00fd \u0111\u1ed3 th\u1ecb . - X\u1eed l\u00fd c\u00f4ng vi\u1ec7c l\u1eb7p \u0111i l\u1eb7p l\u1ea1i.  - X\u1eed l\u00fd th\u1eddi gian th\u1ef1c . - Joining Dataset  - Machine Learning  Apache Spark l\u00e0 Framework th\u1ef1c thi d\u1eef li\u1ec7u d\u1ef1a tr\u00ean Hadoop HDFS. Apache Spark kh\u00f4ng thay th\u1ebf cho Hadoop nh\u01b0ng n\u00f3 l\u00e0 m\u1ed9t framework \u1ee9ng d\u1ee5ng. Apache Spark tuy ra \u0111\u1eddi sau nh\u01b0ng \u0111\u01b0\u1ee3c nhi\u1ec1u ng\u01b0\u1eddi bi\u1ebft \u0111\u1ebfn h\u01a1n Apache Hadoop v\u00ec kh\u1ea3 n\u0103ng x\u1eed l\u00fd h\u00e0ng lo\u1ea1t v\u00e0 th\u1eddi gian th\u1ef1c. <ul> <li> <p>C\u1ea3 Apache Hadoop v\u00e0 Apache Spark \u0111\u1ec1u l\u00e0 c\u00f4ng c\u1ee5 quan tr\u1ecdng nh\u1ea5t \u0111\u1ec3 x\u1eed l\u00fd Big Data. C\u1ea3 hai \u0111\u1ec1u c\u00f3 tr\u1ecdng s\u1ed1 c\u1ee5 th\u1ec3 nh\u01b0 nhau trong l\u0129nh v\u1ef1c C\u00f4ng ngh\u1ec7 th\u00f4ng tin. B\u1ea5t k\u1ef3 Developer n\u00e0o c\u0169ng c\u00f3 th\u1ec3 ch\u1ecdn gi\u1eefa Apache Hadoop v\u00e0 Apache Spark d\u1ef1a tr\u00ean y\u00eau c\u1ea7u d\u1ef1 \u00e1n c\u1ee7a h\u1ecd v\u00e0 kh\u1ea3 n\u0103ng x\u1eed l\u00fd d\u1ec5 d\u00e0ng.</p> </li> <li> <p>C\u00f4ng c\u1ee5 Apache Hadoop v\u00e0 Apache Spark ph\u1ee5 thu\u1ed9c v\u00e0o nhu c\u1ea7u kinh doanh s\u1ebd quy\u1ebft \u0111\u1ecbnh l\u1ef1a ch\u1ecdn framework. X\u1eed l\u00fd tuy\u1ebfn t\u00ednh c\u00e1c dataset l\u00e0 l\u1ee3i th\u1ebf c\u1ee7a Hadoop MapReduce, trong khi Spark mang l\u1ea1i hi\u1ec7u su\u1ea5t nhanh, x\u1eed l\u00fd l\u1eb7p, ph\u00e2n t\u00edch th\u1eddi gian th\u1ef1c, x\u1eed l\u00fd \u0111\u1ed3 th\u1ecb, machine learning v\u00e0 h\u01a1n th\u1ebf n\u1eefa. \u0110\u1eb7c bi\u1ec7t, Spark t\u01b0\u01a1ng th\u00edch ho\u00e0n to\u00e0n v\u1edbi h\u1ec7 sinh th\u00e1i Hadoop v\u00e0 ho\u1ea1t \u0111\u1ed9ng tr\u01a1n tru v\u1edbi H\u1ec7 th\u1ed1ng t\u1ec7p ph\u00e2n t\u00e1n Hadoop, Apache Hive, v.v.</p> </li> <li> <p>N\u1ebfu b\u1ea1n \u0111ang l\u00e0m vi\u1ec7c tr\u00ean m\u00f4i tr\u01b0\u1eddng th\u1eddi gian th\u1ef1c v\u00e0 x\u1eed l\u00fd nhanh, b\u1ea1n ph\u1ea3i ch\u1ecdn Apache Spark. S\u1ef1 th\u1eadt l\u00e0 Apache Spark v\u00e0 Apache Hadoop c\u00f3 m\u1ed1i quan h\u1ec7 c\u1ed9ng sinh v\u1edbi nhau.</p> </li> <li> <p>Apache Hadoop cung c\u1ea5p c\u00e1c t\u00ednh n\u0103ng m\u00e0 Apache Spark kh\u00f4ng s\u1edf h\u1eefu, ch\u1eb3ng h\u1ea1n nh\u01b0 h\u1ec7 th\u1ed1ng t\u1ec7p ph\u00e2n t\u00e1n.</p> </li> <li> <p>Apache Hadoop l\u00e0 m\u1ed9t n\u1ec1n t\u1ea3ng ho\u00e0n thi\u1ec7n h\u01a1n \u0111\u1ec3 x\u1eed l\u00fd h\u00e0ng lo\u1ea1t. B\u1ea1n c\u00f3 th\u1ec3 t\u00edch h\u1ee3p s\u1ed1 l\u01b0\u1ee3ng l\u1edbn s\u1ea3n ph\u1ea9m v\u1edbi Apache Hadoop.</p> </li> <li> <p>Ngay c\u1ea3 khi Apache Spark m\u1ea1nh h\u01a1n nh\u01b0ng s\u1ef1 th\u1eadt l\u00e0 - b\u1ea1n v\u1eabn c\u1ea7n HDFS \u0111\u1ec3 l\u01b0u tr\u1eef t\u1ea5t c\u1ea3 d\u1eef li\u1ec7u. N\u1ebfu b\u1ea1n mu\u1ed1n s\u1eed d\u1ee5ng c\u00e1c th\u00e0nh ph\u1ea7n Hadoop kh\u00e1c nh\u01b0 Hive, Pig, Impala, Hbase, Sqoop ho\u1eb7c c\u00e1c d\u1ef1 \u00e1n kh\u00e1c. T\u00f3m l\u1ea1i, b\u1ea1n v\u1eabn s\u1ebd c\u1ea7n ch\u1ea1y Hadoop v\u00e0 MapReduce c\u00f9ng v\u1edbi Apache Spark \u0111\u1ec3 s\u1eed d\u1ee5ng t\u1ea5t c\u1ea3 c\u00e1c t\u00e0i nguy\u00ean c\u1ee7a Big Data.</p> </li> </ul>"},{"location":"blog/2020/09/20/socketio-emit-cheat-sheet/","title":"socket.io emit cheat sheet","text":"<ul> <li>\u0110ang l\u00e0m d\u1ef1 \u00e1n li\u00ean quan socket.io th\u1ea5y file n\u00e0y hay qu\u00e1 n\u00ean ch\u00f4m ch\u1ec9a v\u1ec1 \u0111\u00e2y sau tham chi\u1ebfu cho ti\u1ec7n.</li> <li>Source tr\u00ean trang ch\u1ee7 th\u00ec \u1edf d\u00e2y</li> </ul> <pre><code>io.on(\"connect\", onConnect);\n\nfunction onConnect(socket) {\n  // Quan tr\u1ecdng l\u00e0 c\u00e1c c\u00e1i `socket.*` ( socket ch\u1ea5m c\u00e1i g\u00ec) ch\u1ee9 ko ph\u1ea3i text nh\u01b0 ch\u1eef `broadcast` th\u00ec n\u00f3 s\u1ebd broadcast :D\n\n  // sending to the client\n  socket.emit(\"hello\", \"can you hear me?\", 1, 2, \"abc\");\n\n  // sending to all clients except sender\n  socket.broadcast.emit(\"broadcast\", \"hello friends!\");\n\n  // sending to all clients in 'game' room excepts sender\n  socket.to(\"game\").emit(\"nice game\", \"let's play a game\");\n\n  // sending to all clients in 'game1' and/or in 'game2' room, except sender\n  socket.to(\"game1\").to(\"game2\").emit(\"nice game\", \"let's play a game(too)\");\n\n  // sending to all clients in 'game' room, including sender\n  io.in(\"game\").emit(\"big-announcement\", \"the game will start soon\");\n\n  // sending to all clients in namespace 'myNamespace', including sender\n  io.of(\"myNamespace\").emit(\n    \"bigger-announcement\",\n    \"the tournament will start soon\"\n  );\n\n  // sending to a specific room in a specific namespace, including sender\n  io.of(\"myNamespace\").to(\"room\").emit(\"event\", \"message\");\n\n  // sending to individual socketid (private message)\n  io.to(socketId).emit(\"hey\", \"I just met you\");\n\n  // WARNING: `socket.to(socket.id).emit()` will NOT work, as it will send to everyone in the room named `socket.id` but the sender. Please use the classic `socket.emit()` instead.\n\n  // sending with acknowledgement\n  socket.emit(\"question\", \"do you think so?\", function (answer) {});\n\n  // sending without compression\n  socket.compress(false).emit(\"uncompressed\", \"that's rough\");\n\n  // sending a message that might be dropped if the client is not ready to receive message\n  socket.volatile.emit(\"maybe\", \"do you really need it?\");\n\n  // specifying whether the data to send has binary data\n  socket.binary(false).emit(\"what\", \"I have no binaries!\");\n\n  // sending to all clients on this node (when using multiple nodes)\n  io.local.emit(\"hi\", \"my lovely babies\");\n\n  // sending to all connected clients\n  io.emit(\"an event sent to all connected clients\");\n}\n</code></pre>"},{"location":"blog/2020/10/10/run-docker-commands-without-sudo/","title":"Run Docker commands without sudo","text":"<ol> <li>Add <code>docker</code> group if it doesn't already exist ( It should be already existed).</li> </ol> <pre><code>  sudo groupadd docker\n</code></pre> <ol> <li>Add current user <code>$USER</code> to the docker group</li> </ol> <pre><code>  sudo gpasswd -a $USER docker\n</code></pre> <ol> <li>Restart the docker daemon</li> </ol> <pre><code>  sudo service docker restart\n</code></pre>"},{"location":"blog/2020/10/15/install-hadoop-cluster/","title":"Install hadoop cluster","text":""},{"location":"blog/2020/10/15/install-hadoop-cluster/#run-docker","title":"Run docker","text":"<ul> <li>If master note <code>-p 9000:9000</code>.</li> </ul> <pre><code>docker run -it -d -p 9000:9000 --privileged=true --name centos8-master centos:centos8 \"/sbin/init\"\n</code></pre> <ul> <li>Why <code>ssh localhost</code> when runt with /bin/bash</li> </ul>"},{"location":"blog/2020/10/15/install-hadoop-cluster/#access-container","title":"Access container","text":"<pre><code>docker exec -it centos8 /bin/bash\n</code></pre>"},{"location":"blog/2020/10/15/install-hadoop-cluster/#install-package","title":"Install package","text":"<pre><code>yum update\nyum install passwd -y\nyum install sudo\nyum install wget\nyum -y install openssh-server openssh-clients\n</code></pre>"},{"location":"blog/2020/10/15/install-hadoop-cluster/#add-user-and-add-to-group-root","title":"Add user and add to group root","text":"<pre><code>adduser master\npasswd master # set pass 12345678\nusermod -aG wheel master\n</code></pre>"},{"location":"blog/2020/10/15/install-hadoop-cluster/#login-with-user-created-previous","title":"Login with user created previous","text":"<pre><code>su - master\n</code></pre> <ul> <li>After this step it default we work on path: <code>/home/&lt;user&gt;</code></li> </ul>"},{"location":"blog/2020/10/15/install-hadoop-cluster/#enable-ssh-include-ignore-passphrase-and-add-authorized_keys","title":"Enable ssh (include ignore passphrase and add authorized_keys)","text":"<pre><code># check ssh status will failed\nsudo systemctl status sshd\nsudo systemctl start sshd\n\n# check ssh again should show login info\nssh localhost\n\n#ignore passphrase and add authorized_keys\nssh-keygen -t rsa -P '' -f ~/.ssh/id_rsa\ncat ~/.ssh/id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys\nchmod 0600 ~/.ssh/authorized_keys\n</code></pre>"},{"location":"blog/2020/10/15/install-hadoop-cluster/#download-and-install-java8-and-hadoop","title":"Download and install java8 and hadoop","text":"<ul> <li> <p>If use container should mount rather than download on each of container</p> </li> <li> <p>Hadoop's stables version are here</p> </li> <li>This is current latest stable version: https://downloads.apache.org/hadoop/common/stable/hadoop-3.2.1.tar.gz</li> </ul> <pre><code>sudo yum install java-1.8.0-openjdk\nsudo yum install wget\nwget https://downloads.apache.org/hadoop/common/stable/hadoop-3.2.1.tar.gz\n</code></pre> <ul> <li>Extract hadoop binary:</li> </ul> <pre><code>tar -xvf hadoop-3.2.1.tar.gz\n</code></pre>"},{"location":"blog/2020/10/15/install-hadoop-cluster/#edit-etcenvironment-and-bashrc","title":"Edit <code>/etc/environment</code> and <code>~/.bashrc</code>","text":"<ul> <li>Edit file <code>/etc/environemnt</code></li> </ul> <pre><code># sudo vim /etc/environment\nexport JAVA_HOME='/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.265.b01-0.el8_2.x86_64/jre'\nexport HADOOP_HOME=$HOME/hadoop-3.2.1\n</code></pre> <ul> <li>Edit file <code>~/.bashrc</code></li> </ul> <pre><code># sudo vim ~/.bashrc\nexport JAVA_HOME='/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.265.b01-0.el8_2.x86_64/jre'\nexport PATH=$PATH:$JAVA_HOME/bin\n\nexport HADOOP_HOME=$HOME/hadoop-3.2.1\nexport HADOOP_INSTALL=$HADOOP_HOME\nexport HADOOP_MAPRED_HOME=$HADOOP_HOME\nexport HADOOP_COMMON_HOME=$HADOOP_HOME\nexport HADOOP_HDFS_HOME=$HADOOP_HOME\nexport YARN_HOME=$HADOOP_HOME\n\nexport PATH=$PATH:$HADOOP_HOME/bin:$HADOOP_HOME/sbin\n</code></pre> <ul> <li>Edit file <code>~/.bash_profile</code></li> </ul> <pre><code>#sudo vim ~/.bash_profile\nexport JAVA_HOME='/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.265.b01-0.el8_2.x86_64/jre'\nexport PATH=$PATH:$JAVA_HOME/bin\n\nexport HADOOP_HOME=$HOME/hadoop-3.2.1\nexport HADOOP_INSTALL=$HADOOP_HOME\nexport HADOOP_MAPRED_HOME=$HADOOP_HOME\nexport HADOOP_COMMON_HOME=$HADOOP_HOME\nexport HADOOP_HDFS_HOME=$HADOOP_HOME\nexport YARN_HOME=$HADOOP_HOME\n\nexport PATH=$PATH:$HADOOP_HOME/bin:$HADOOP_HOME/sbin\n</code></pre> <ul> <li>Reload apply change</li> </ul> <pre><code>source /etc/environment\nsource ~/.bashrc\nsource ~/.bash_profile\n</code></pre>"},{"location":"blog/2020/10/15/install-hadoop-cluster/#edit-hadoop-config-for-namenode","title":"Edit hadoop config For nameNode","text":"<ul> <li>Create folder</li> </ul> <pre><code>cd /home/master/hadoop-3.2.1\nmkdir data\ncd data\nmkdir namenode\n</code></pre> <ul> <li>Edit <code>/hadoop-3.2.1/etc/hadoop/hadoop-env.sh</code></li> </ul> <pre><code>export HADOOP_PREFIX=$HOME/hadoop-3.2.1\n</code></pre> <ul> <li>Edit <code>/hadoop-3.2.1/etc/hadoop/core-site.xml</code></li> </ul> <pre><code>#172.17.0.2 is nameNode's IP\n  &lt;configuration&gt;\n      &lt;property&gt;\n          &lt;name&gt;fs.default.name&lt;/name&gt;\n          &lt;value&gt;hdfs://172.17.0.2:9000&lt;/value&gt;\n      &lt;/property&gt;\n  &lt;/configuration&gt;\n</code></pre> <ul> <li>Edit <code>/hadoop-3.2.1/etc/hadoop/hdfs-site.xml</code></li> </ul> <pre><code>&lt;configuration&gt;\n  &lt;property&gt;\n      &lt;name&gt;dfs.namenode.name.dir&lt;/name&gt;\n      &lt;value&gt;/home/master/hadoop-3.2.1/data/namenode&lt;/value&gt;\n  &lt;/property&gt;\n  &lt;property&gt;\n      &lt;name&gt;dfs.datanode.data.dir&lt;/name&gt;\n      &lt;value&gt;/home/master/hadoop-3.2.1/data/datanode&lt;/value&gt;\n  &lt;/property&gt;\n  &lt;property&gt;\n    &lt;name&gt;dfs.replication&lt;/name&gt;\n    &lt;value&gt;2&lt;/value&gt;\n&lt;/property&gt;\n&lt;/configuration&gt;\n</code></pre> <ul> <li>Edit <code>/hadoop-3.2.1/etc/hadoop/mapred-site.xml</code></li> </ul> <pre><code>  &lt;configuration&gt;\n      &lt;property&gt;\n          &lt;name&gt;mapreduce.framework.name&lt;/name&gt;\n          &lt;value&gt;yarn&lt;/value&gt;\n      &lt;/property&gt;\n  &lt;/configuration&gt;\n</code></pre> <ul> <li>Edit <code>/hadoop-3.2.1/etc/hadoop/yarn-site.xml</code></li> </ul> <pre><code>  &lt;configuration&gt;\n      &lt;property&gt;\n          &lt;name&gt;yarn.resourcemanager.hostname&lt;/name&gt;\n          &lt;value&gt;localhost&lt;/value&gt;\n      &lt;/property&gt;\n      &lt;property&gt;\n        &lt;name&gt;yarn.nodemanager.aux-services&lt;/name&gt;\n        &lt;value&gt;mapreduce_shuffle&lt;/value&gt;\n      &lt;/property&gt;\n      &lt;property&gt;\n        &lt;name&gt;yarn.resourcemanager.resource-tracker.address&lt;/name&gt;\n        &lt;value&gt;172.17.0.0.2:8025&lt;/value&gt;\n      &lt;/property&gt;\n      &lt;property&gt;\n        &lt;name&gt;yarn.resourcemanager.scheduler.address&lt;/name&gt;\n        &lt;value&gt;172.17.0.0.2:8030&lt;/value&gt;\n      &lt;/property&gt;\n      &lt;property&gt;\n        &lt;name&gt;yarn.resourcemanager.address&lt;/name&gt;\n        &lt;value&gt;172.17.0.0.2:8050&lt;/value&gt;\n      &lt;/property&gt;\n  &lt;/configuration&gt;\n</code></pre>"},{"location":"blog/2020/10/15/install-hadoop-cluster/#start-hadoop-namenode","title":"Start Hadoop nameNode","text":"<ul> <li>Format first ( f*ck this step, it taken me about 6h, when second try I forget it)</li> </ul> <pre><code>hdfs namenode -format\n</code></pre> <ul> <li>Start hadoop</li> </ul> <pre><code>start-all.sh\n</code></pre> <ul> <li>Check If is hadoop working?</li> </ul> <pre><code>hdfs dfsadmin -report\n</code></pre> <ul> <li>Success lock like this</li> </ul> <pre><code>[master@02054491f2fe hadoop-3.2.1]$ hdfs dfsadmin -report\nConfigured Capacity: 136782172160 (127.39 GB)\nPresent Capacity: 87905959936 (81.87 GB)\nDFS Remaining: 87905931264 (81.87 GB)\nDFS Used: 28672 (28 KB)\nDFS Used%: 0.00%\nReplicated Blocks:\n  Under replicated blocks: 0\n  Blocks with corrupt replicas: 0\n  Missing blocks: 0\n  Missing blocks (with replication factor 1): 0\n  Low redundancy blocks with highest priority to recover: 0\n  Pending deletion blocks: 0\nErasure Coded Block Groups:\n  Low redundancy block groups: 0\n  Block groups with corrupt internal blocks: 0\n  Missing block groups: 0\n  Low redundancy blocks with highest priority to recover: 0\n  Pending deletion blocks: 0\n\n-------------------------------------------------\nLive datanodes (1):\n\nName: 127.0.0.1:9866 (localhost)\nHostname: 02054491f2fe\nDecommission Status : Normal\nConfigured Capacity: 136782172160 (127.39 GB)\nDFS Used: 28672 (28 KB)\nNon DFS Used: 41856688128 (38.98 GB)\nDFS Remaining: 87905931264 (81.87 GB)\nDFS Used%: 0.00%\nDFS Remaining%: 64.27%\nConfigured Cache Capacity: 0 (0 B)\nCache Used: 0 (0 B)\nCache Remaining: 0 (0 B)\nCache Used%: 100.00%\nCache Remaining%: 0.00%\nXceivers: 1\nLast contact: Thu Oct 15 08:00:27 UTC 2020\nLast Block Report: Thu Oct 15 07:39:51 UTC 2020\nNum of Blocks: 0\n</code></pre>"},{"location":"blog/2020/10/15/install-hadoop-cluster/#edit-config-datanode","title":"Edit config dataNode","text":"<ul> <li>Create folder <code>datanode</code> on <code>datanode1</code> and <code>datanode2</code></li> </ul> <pre><code>cd /home/master/hadoop-3.2.1\nmkdir data\ncd data\nmkdir datanode\nchmod 755 datanode/\n</code></pre> <ul> <li>Change permission on hadoop folder:</li> </ul> <pre><code>chmod -R 777 hadoop-3.2.1\n</code></pre> <ul> <li>At master (namenode) move to folder <code>/home/master/hadoop-3.2.1/etc/hadoop</code>, and copy file *.xml to <code>datanode1</code> and <code>datanode2</code>.</li> </ul> <pre><code># For example we will copy from nameNode(master) to dataNode (slave5 - ip: 172.17.0.3)\nscp core-site.xml yarn-site.xml mapred-site.xml hdfs-site.xml slaves slave5@172.17.0.3:/home/slave5/hadoop-3.2.1/etc/hadoop\n\n# here for datanode2\nscp core-site.xml yarn-site.xml mapred-site.xml hdfs-site.xml slaves slave2@172.17.0.4:/home/slave2/hadoop-3.2.1/etc/hadoop\n</code></pre> <ul> <li>Edit file <code>hdfs-site.xml</code> to mapped with datanode</li> </ul> <pre><code># something like this\n&lt;configuration&gt;\n    &lt;property&gt;\n        &lt;name&gt;dfs.namenode.name.dir&lt;/name&gt;\n  &lt;value&gt;/home/slave5/hadoop-3.2.1/data/namenode&lt;/value&gt;\n    &lt;/property&gt;\n    &lt;property&gt;\n        &lt;name&gt;dfs.datanode.data.dir&lt;/name&gt;\n        &lt;value&gt;/home/slave5/hadoop-3.2.1/data/datanode&lt;/value&gt;\n    &lt;/property&gt;\n    &lt;property&gt;\n      &lt;name&gt;dfs.replication&lt;/name&gt;\n      &lt;value&gt;2&lt;/value&gt;\n  &lt;/property&gt;\n&lt;/configuration&gt;\n</code></pre> <ul> <li>Format dataNode</li> </ul> <pre><code>hdfs datanode -format\n</code></pre> <ul> <li>Start dataNode</li> </ul> <pre><code>\n</code></pre>"},{"location":"blog/2020/10/20/m%E1%BB%99t-s%E1%BB%91-note-khi-t%C3%ACm-hi%E1%BB%83u-v%E1%BB%81-python/","title":"M\u1ed9t s\u1ed1 note khi t\u00ecm hi\u1ec3u v\u1ec1 python","text":""},{"location":"blog/2020/10/20/m%E1%BB%99t-s%E1%BB%91-note-khi-t%C3%ACm-hi%E1%BB%83u-v%E1%BB%81-python/#casefold-vs-lower","title":"casefold() vs lower()","text":"<ul> <li>C\u00f9ng l\u00e0 method c\u1ee7a <code>String</code> \u0111\u1ec3 lowercase m\u1ed9t string. Casefold c\u00f3 v\u1ebb m\u1ea1nh h\u01a1n v\u00ec n\u00f3 lo\u1ea1i b\u1ecf t\u1ea5t c\u1ea3 ph\u00e2n bi\u1ec7t hoa th\u01b0\u1eddng trong m\u1ed9t chu\u1ed7i. N\u1ebfu ch\u1ec9 l\u00e0m vi\u1ec7c v\u1edbi ti\u1ebfng Anh th\u00ec 2 method n\u00e0y t\u01b0\u01a1ng t\u1ef1 nhau. V\u00ed d\u1ee5 kh\u00e1c nhau trong ti\u1ebfng \u0110\u1ee9c.</li> </ul> <pre><code>S = `Das stra\u00dfe`\nx = S.casefold() # das strasse\ny = S.lower() # das stra\u00dfe\n</code></pre>"},{"location":"blog/2020/10/20/m%E1%BB%99t-s%E1%BB%91-note-khi-t%C3%ACm-hi%E1%BB%83u-v%E1%BB%81-python/#python-collections-arrays","title":"Python collections (Arrays)","text":"<ul> <li>C\u00f3 4 ki\u1ec3u d\u1eef li\u1ec7u d\u1ea1ng collection trong ng\u00f4n ng\u1eef Python:</li> <li>List l\u00e0 m\u1ed9t collection c\u00f3 th\u1ee9 t\u1ef1 v\u00e0 c\u00f3 th\u1ec3 thay \u0111\u1ed5i. Cho ph\u00e9p tr\u00f9ng l\u1eb7p.</li> <li>Tuple l\u00e0 m\u1ed9t collection c\u00f3 th\u1ee9 t\u1ef1 v\u00e0 kh\u00f4ng th\u1ec3 thay \u0111\u1ed5i. Cho ph\u00e9p tr\u00f9ng l\u1eb7p.</li> <li>Set l\u00e0 m\u1ed9t collection kh\u00f4ng c\u00f3 th\u1ee9 t\u1ef1 v\u00e0 kh\u00f4ng \u0111\u00e1nh ch\u1ec9 m\u1ee5c (index). Kh\u00f4ng tr\u00f9ng l\u1eb7p.</li> <li>Dictionary l\u00e0 collection kh\u00f4ng c\u00f3 th\u1ee9 t\u1ef1, c\u00f3 th\u1ec3 thay \u0111\u1ed5i, v\u00e0 c\u00f3 ch\u1ec9 m\u1ee5c. Kh\u00f4ng tr\u00f9ng l\u1eb7p.</li> </ul>"},{"location":"blog/2020/10/20/m%E1%BB%99t-s%E1%BB%91-note-khi-t%C3%ACm-hi%E1%BB%83u-v%E1%BB%81-python/#parameters-or-arguments","title":"Parameters or Arguments","text":"<ul> <li>Parameter l\u00e0 bi\u1ebfn \u0111\u01b0\u1ee3c li\u1ec7t k\u00ea trong d\u1ea5u ngo\u1eb7c khi function \u0111\u01b0\u1ee3c \u0111\u1ecbnh ngh\u0129a.</li> <li>Argument l\u00e0 gi\u00e1 tr\u1ecb truy\u1ec1n v\u00e0o m\u1ed9t function khi n\u00f3 \u0111\u01b0\u1ee3c g\u1ecdi.</li> </ul>"},{"location":"blog/2020/10/20/m%E1%BB%99t-s%E1%BB%91-note-khi-t%C3%ACm-hi%E1%BB%83u-v%E1%BB%81-python/#python-lambda","title":"Python Lambda","text":"<ul> <li>Lamba function l\u00e0 m\u1ed9t function v\u00f4 danh nh\u1ecf</li> <li>C\u00f3 th\u1ec3 nh\u1eadn v\u00e0o s\u1ed1 th\u00e2m s\u1ed1 (parameter) t\u00f9y th\u00edch nh\u01b0ng ch\u1ec9 c\u00f3 th\u1ec3 c\u00f3 m\u1ed9t bi\u1ec3u th\u1ee9c.</li> <li>Th\u1eb1ng n\u00e0y c\u00f3 m\u1ed9t c\u00e1ch d\u00f9ng kh\u00e1 gi\u1ed1ng <code>closure</code> c\u1ee7a javascript.</li> </ul>"},{"location":"blog/2020/10/20/m%E1%BB%99t-s%E1%BB%91-note-khi-t%C3%ACm-hi%E1%BB%83u-v%E1%BB%81-python/#class-method","title":"Class - Method","text":"<ul> <li> <p>T\u1eeb kh\u00f3a <code>self</code> \u0111\u01b0\u1ee3c tham chi\u1ebfu t\u1edbi \u0111\u1ed1i t\u01b0\u1ee3ng hi\u1ec7n t\u1ea1i c\u1ee7a m\u1ed9t class ( t\u1ee9c object), v\u00e0 \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng \u0111\u1ec3 truy v\u1ea5n c\u00e1c bi\u1ebfn thu\u1ed9c v\u1ec1 \u0111\u1ed1i t\u01b0\u1ee3ng n\u00e0y.</p> </li> <li> <p><code>Self</code> kh\u00f4ng nh\u1ea5t thi\u1ebft ph\u1ea3i t\u00ean <code>self</code>, ch\u00fang ta c\u00f3 th\u1ec3 \u0111\u1eb7t t\u00ean b\u1ea5t k\u1ef3, nh\u01b0ng n\u00f3 ph\u1ea3i l\u00e0 tham s\u1ed1 \u0111\u1ea7u ti\u00ean c\u1ee7a b\u1ea5t k\u1ef3 function n\u00e0o trong class.</p> </li> </ul>"},{"location":"blog/2020/10/20/vim-keyboards-shortcut/","title":"VIM keyboards shortcut","text":"<ul> <li>X\u00f3a t\u1eeb \u0111\u1ea7u t\u1edbi k\u00fd t\u1ef1 <code>X</code> (tr\u00e1i qua ph\u1ea3i) : <code>dtX</code></li> <li>X\u00f3a t\u1eeb \u0111\u1ea7u t\u1edbi k\u00fd t\u1ef1 <code>X</code> bao g\u1ed3m c\u1ea3 X (tr\u00e1i qua ph\u1ea3i): <code>dfX</code></li> <li>X\u00f3a ng\u01b0\u1ee3c t\u1edbi k\u00fd t\u1ef1 <code>X</code> (ph\u1ea3i qua tr\u00e1i): <code>dTX</code></li> <li>X\u00f3a ng\u01b0\u1ee3c t\u1edbi k\u00fd t\u1ef1 <code>X</code> g\u1ed5m c\u1ea3 k\u00fd t\u1ef1 <code>X</code> (ph\u1ea3i qua tr\u00e1i): <code>dFX</code></li> </ul> <ul> <li><code>gg</code> \u0111\u1ec3 \u0111i \u0111\u1ebfn \u0111\u1ea7u file. <code>dG</code> \u0111\u1ec3 x\u00f3a to\u00e0n b\u1ed9 file :v - feel so good.</li> <li><code>$</code> \u0111i \u0111\u1ebfn cu\u1ed1i d\u00f2ng, <code>^</code> \u0111\u1ec3 \u0111i \u0111\u1ebfn \u0111\u1ea7u d\u00f2ng. (Nh\u01b0 regEx nh\u1ec3 &gt;:)).</li> <li><code>a</code> \u0111\u1ec3 append ngay sau con tr\u1ecf, <code>A</code> \u0111\u1ec3 append cu\u1ed1i d\u00f2ng.</li> </ul>"},{"location":"blog/2021/05/01/refine-web-searchshttpssupportgooglecomwebsearchanswer2466433hlen/","title":"Refine web searchs","text":"<ul> <li>You can use symbols or words in your search to make your search results more precise..</li> <li>Google Search usually ignores punctuation that isn\u2019t part of a search operator.</li> <li>Don\u2019t put spaces between the symbol or word and your search term. A search for <code>site:nytimes.com</code> will work, but <code>site: nytimes.com</code> won\u2019t.</li> </ul>"},{"location":"blog/2021/05/01/refine-web-searchshttpssupportgooglecomwebsearchanswer2466433hlen/#refine-image-searches","title":"Refine image searches","text":""},{"location":"blog/2021/05/01/refine-web-searchshttpssupportgooglecomwebsearchanswer2466433hlen/#overall-advanced-search","title":"Overall Advanced Search","text":"<pre><code>1. Go to [Advanced Image Search](https://www.google.com/advanced_image_search)\n2. Use filters like region or file type to narrow your results.\n3. At the bottom, click `Advance Search`\n</code></pre>"},{"location":"blog/2021/05/01/refine-web-searchshttpssupportgooglecomwebsearchanswer2466433hlen/#search-for-an-exact-image-size","title":"Search for an exact image size","text":"<ul> <li>Right after the word you're looking for, add the text <code>imagesize:widthxheight</code>. Make sure to add the dimensions in pixels.</li> <li>Example: <code>imagesize:500x400</code></li> </ul>"},{"location":"blog/2021/05/01/refine-web-searchshttpssupportgooglecomwebsearchanswer2466433hlen/#common-search-techniques","title":"Common search techniques","text":""},{"location":"blog/2021/05/01/refine-web-searchshttpssupportgooglecomwebsearchanswer2466433hlen/#search-social-media","title":"Search social media","text":"<ul> <li>Put <code>@</code> in front of a word to search social media. For example: <code>@twitter</code>.</li> </ul>"},{"location":"blog/2021/05/01/refine-web-searchshttpssupportgooglecomwebsearchanswer2466433hlen/#search-for-a-price","title":"Search for a price","text":"<ul> <li>Put <code>$</code> in front of a number. For example: <code>camera $400</code>.</li> </ul>"},{"location":"blog/2021/05/01/refine-web-searchshttpssupportgooglecomwebsearchanswer2466433hlen/#search-hashtags","title":"Search hashtags","text":"<ul> <li>Put <code>#</code> in front of a word. For example <code>#throwbackthursday</code></li> </ul>"},{"location":"blog/2021/05/01/refine-web-searchshttpssupportgooglecomwebsearchanswer2466433hlen/#exclude-words-from-your-search","title":"Exclude words from your search","text":"<ul> <li>Put <code>-</code> in front of a word you want to leave out. For example, <code>jaguar speed -car</code></li> </ul>"},{"location":"blog/2021/05/01/refine-web-searchshttpssupportgooglecomwebsearchanswer2466433hlen/#search-for-an-exact-match","title":"Search for an exact match","text":"<ul> <li>Put a word or phrase inside quotes. For example, <code>\"tallest building\"</code>.</li> </ul>"},{"location":"blog/2021/05/01/refine-web-searchshttpssupportgooglecomwebsearchanswer2466433hlen/#search-within-a-range-of-numbers","title":"Search within a range of numbers","text":"<ul> <li>Put <code>..</code> between two numbers. For example, camera <code>$50..$100</code>.</li> </ul>"},{"location":"blog/2021/05/01/refine-web-searchshttpssupportgooglecomwebsearchanswer2466433hlen/#combine-searches","title":"Combine searches","text":"<ul> <li>Put <code>\"OR\"</code> between each search query. For example, <code>marathon OR race</code>.</li> </ul>"},{"location":"blog/2021/05/01/refine-web-searchshttpssupportgooglecomwebsearchanswer2466433hlen/#search-for-a-specific-site","title":"Search for a specific site","text":"<ul> <li>Put <code>site:</code> in front of a site or domain. For example, <code>site:youtube.com</code> or <code>site:.gov</code>.</li> </ul>"},{"location":"blog/2021/05/01/refine-web-searchshttpssupportgooglecomwebsearchanswer2466433hlen/#search-for-related-sites","title":"Search for related sites","text":"<ul> <li>Put <code>related:</code> in front of a web address you already know. For example, <code>related:time.com</code>.</li> </ul>"},{"location":"blog/2021/05/01/refine-web-searchshttpssupportgooglecomwebsearchanswer2466433hlen/#see-googles-cached-version-of-a-site","title":"See Google\u2019s cached version of a site","text":"<ul> <li>Put <code>cache:</code> in front of the site address.</li> <li>Important: Not all search operators return exhaustive results.</li> </ul>"},{"location":"blog/2021/05/07/%C3%BD-ngh%C4%A9a-d%E1%BA%A5u-g%E1%BA%A1ch-d%C6%B0%E1%BB%9Bi-trong-pythonhttpsdbaderorgblogmeaning-of-underscores-in-python/","title":"\u00dd ngh\u0129a d\u1ea5u g\u1ea1ch d\u01b0\u1edbi trong python","text":"<ul> <li>C\u00f3 nhi\u1ec1u \u00fd ngh\u0129a v\u00e0 c\u00e1c quy \u01b0\u1edbc v\u1ec1 single(<code>_</code>) v\u00e0 double underscores (<code>__</code> - <code>dunder</code>) trong python. C\u00e1ch ch\u00fang ho\u1ea1t   \u0111\u1ed9ng nh\u01b0 th\u1ebf n\u00e0o v\u00e0 c\u00e1ch ch\u00fang t\u00e1c d\u1ed9ng l\u00ean <code>classes</code> trong Python nh\u01b0 th\u1ebf n\u00e0o.</li> <li>Trong Python: <code>_</code> v\u00e0 <code>__</code> c\u00f3 \u00fd ngh\u0129a trong t\u00ean bi\u1ebfn v\u00e0 ph\u01b0\u01a1ng th\u1ee9c, m\u1ed9t v\u00e0i \u00fd ngh\u0129a \u0111\u1ebfn t\u1eeb quy \u01b0\u1edbc v\u00e0 \u00fd \u0111\u1ecbnh nh\u01b0 g\u1ee3i \u00fd cho l\u1eadp tr\u00ecnh vi\u00ean - v\u00e0 m\u1ed9t s\u1ed1 th\u00ec th\u1ef1c s\u1ef1 \u0111\u01b0\u1ee3c th\u1ef1c thi b\u1edfi tr\u00ecnh th\u00f4ng d\u1ecbch.</li> <li>N\u1ebfu b\u1ea1n t\u1ef1 h\u1ecfi \"\u00dd ngh\u0129a c\u1ee7a single v\u00e0 double underscores trong bi\u1ebfn v\u00e0 ph\u01b0\u01a1ng th\u1ee9c c\u1ee7a python\"? T\u00f4i s\u1ebd c\u1ed1   g\u1eafng tr\u1ea3 l\u1eddi c\u00e2u h\u1ecfi trong c\u00e1c ph\u1ea7n d\u01b0\u1edbi \u0111\u00e2y.</li> </ul> <ul> <li> <p>Trong b\u00e0i n\u00e0y ch\u00fang ta s\u1ebd th\u1ea3o lu\u1eadn v\u1ec1 5 ki\u1ec3u m\u1eabu underscore v\u00e0 quy \u01b0\u1edbc \u0111\u1eb7t t\u00ean v\u00e0 c\u00e1ch ch\u00fang t\u00e1c   \u0111\u1ed9ng l\u00ean ch\u01b0\u01a1ng tr\u00ecnh Python c\u1ee7a b\u1ea1n:</p> </li> <li> <p>Single leading underscore(d\u1ea5u <code>_</code> \u1edf tr\u01b0\u1edbc): <code>_var</code></p> </li> <li>Single trailing underscore( d\u1ea5u <code>_</code> \u1edf cu\u1ed1i): <code>var_</code></li> <li>Double leading underscore(d\u1ea5u <code>__</code> \u1edf tr\u01b0\u1edbc): <code>__var</code></li> <li>Double leading and trailing underscore (d\u1ea5u <code>__</code> \u1edf tr\u01b0\u1edbc v\u00e0 sau): <code>__var__</code></li> <li> <p>Single underscore(m\u1ed9t m\u00ecnh): <code>_</code></p> </li> <li> <p>Ph\u1ea7n cu\u1ed1i c\u0169ng s\u1ebd c\u00f3 cheatsheet t\u00f3m t\u1eaft 5 ki\u1ec3u kh\u00e1c nhau tr\u00ean. (Quan \u0111i\u1ec3m ng\u01b0\u1eddi d\u1ecbch - l\u00e0 t\u00f4i : hi\u1ec3u r\u1ed3i th\u00ec th\u00f4i c\u1ea7n m\u1eb9 g\u00ec   cheat sheet c\u00e1i n\u00e0y ng\u1eafn)</p> </li> </ul>"},{"location":"blog/2021/05/07/%C3%BD-ngh%C4%A9a-d%E1%BA%A5u-g%E1%BA%A1ch-d%C6%B0%E1%BB%9Bi-trong-pythonhttpsdbaderorgblogmeaning-of-underscores-in-python/#single-leading-underscore-_var","title":"Single leading underscore: <code>_var</code>","text":"<ul> <li>Khi t\u00ean bi\u1ebfn(variable) hay ph\u01b0\u01a1ng th\u1ee9c(method) c\u00f3 ch\u1ee9a 1 d\u1ea5u g\u1ea1ch d\u01b0\u1edbi <code>_</code> ph\u00eda tr\u01b0\u1edbc n\u00f3 ch\u1ec9 mang \u00fd ngh\u0129a   duy nh\u1ea5t v\u1ec1 m\u1eb7t quy \u01b0\u1edbc. T\u1ee9c g\u1ecdi \u00fd cho c\u00e1c l\u1eadp tr\u00ecnh vi\u00ean - v\u00e0 n\u00f3 c\u00f3 ngh\u0129a c\u1ed9ng \u0111\u1ed3ng Python \u0111\u1ed3ng \u00fd n\u00f3 n\u00ean   mang \u00fd ngh\u0129a \u0111\u00f3, nh\u01b0ng n\u00f3 kh\u00f4ng h\u1ec1 t\u00e1c \u0111\u1ed9ng \u0111\u1ebfn c\u00e1ch th\u1ee9c ch\u01b0\u01a1ng tr\u00ecnh c\u1ee7a b\u1ea1n ho\u1ea1t \u0111\u1ed9ng.</li> <li> <p>D\u1ea5u <code>_</code> tr\u01b0\u1edbc bi\u1ebfn v\u00e0 ph\u01b0\u01a1ng th\u1ee9c \u0111\u1ec3 g\u1ee3i \u00fd cho l\u1eadp tr\u00ecnh vi\u00ean kh\u00e1c bi\u1ebft bi\u1ebfn hay ph\u01b0\u01a1ng th\u1ee9c n\u00e0y n\u00ean \u0111\u01b0\u1ee3c   d\u00f9ng n\u1ed9i b\u1ed9. Quy \u01b0\u1edbc n\u00e0y \u0111\u01b0\u1ee3c \u0111\u1ecbnh ngh\u0129a tr\u00ean PEP8.</p> </li> <li> <p>Quy \u01b0\u1edbc s\u1eed d\u1ee5ng n\u1ed9i b\u1ed9 n\u00e0y kh\u00f4ng \u0111\u01b0\u1ee3c th\u1ef1c thi b\u1edfi Python. Python kh\u00f4ng ph\u00e2n bi\u1ec7t r\u00f5 r\u00e0ng gi\u1eefa <code>private</code> v\u00e0   <code>public</code> nh\u01b0 Java.</p> </li> <li>C\u00f9ng xem v\u00ed d\u1ee5 d\u01b0\u1edbi \u0111\u00e2y:</li> </ul> <pre><code>class Test:\n    def __init__(self):\n        self.foo = 11\n        self._bar = 23\n</code></pre> <ul> <li>\u0110i\u1ec1u g\u00ec s\u1ebd x\u1ea3y ra n\u1ebfu b\u1ea1n kh\u1edfi t\u1ea1o object t\u1eeb class Test v\u00e0 truy xu\u1ea5t t\u1edbi <code>foo</code> v\u00e0 <code>_bar</code> \u0111\u01b0\u1ee3c \u0111\u1ecbnh ngh\u0129a trong   h\u00e0m kh\u1edfi t\u1ea1o <code>__init__</code> c\u00f9ng th\u1eed nh\u00e9:</li> </ul> <pre><code>&gt;&gt;&gt; t = Test() &gt;&gt;&gt; t.foo\n11 &gt;&gt;&gt; t.\\_bar\n23\n</code></pre> <ul> <li>B\u1ea1n c\u00f3 th\u1ec3 th\u1ea5y 1 d\u1ea5u g\u1ea1ch d\u01b0\u1edbi trong <code>_bar</code> kh\u00f4ng ng\u0103n ch\u00fang ta v\u01b0\u01a1n t\u1edbi class v\u00e0 truy c\u1eadp gi\u00e1 tr\u1ecb c\u1ee7a bi\u1ebfn n\u00e0y.</li> <li> <p>Do 1 d\u1ea5u g\u1ea1ch d\u01b0\u1edbi c\u1ee7a Python ch\u1ec9 \u0111\u01a1n thu\u1ea7n l\u00e0 m\u1ed9t th\u1ecfa thu\u1eadn - \u00edt nh\u1ea5t l\u00e0 trong t\u00ean bi\u1ebfn v\u00e0 ph\u01b0\u01a1ng th\u1ee9c.</p> </li> <li> <p><code>Tuy nhi\u00ean d\u1ea5u \"_\" l\u1ea1i c\u00f3 t\u00e1c \u0111\u1ed9ng t\u1edbi t\u00ean import t\u1eeb modules.</code> T\u01b0\u1edfng t\u01b0\u1ee3ng b\u1ea1n c\u00f3 m\u1ed9t module <code>my_module.py</code> nh\u01b0 d\u01b0\u1edbi \u0111\u00e2y:</p> </li> </ul> my_module.py<pre><code>def external_func():\n    return 23\n\ndef _internal_func():\n    return 42\n</code></pre> <ul> <li>Gi\u1edd n\u1ebfu b\u1ea1n s\u1eed d\u1ee5ng <code>wildcard import</code> \u0111\u1ec3 import t\u1ea5t c\u1ea3 c\u00e1c function t\u1eeb module, Python s\u1ebd kh\u00f4ng   import function v\u1edbi t\u00ean c\u00f3 m\u1ed9t d\u1ea5u \"_\" \u0111\u1eb1ng tr\u01b0\u1edbc ( tr\u1eeb khi module \u0111\u00f3 \u0111\u1ecbnh ngh\u0129a m\u1ed9t <code>__all__list</code> n\u00f3 s\u1ebd ghi \u0111\u00e8 h\u00e0nh vi n\u00e0y)</li> </ul> <pre><code>&gt;&gt;&gt; from my_module import *\n&gt;&gt;&gt; external_func()\n23\n&gt;&gt;&gt; _internal_func()\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nNameError: name '_internal_func' is not defined\n</code></pre> <ul> <li>Nh\u00e2n ti\u1ec7n th\u00ec import * th\u00ec n\u00ean \u0111\u01b0\u1ee3c tr\u00e1nh v\u00ec n\u00f3 khi\u1ebfn kh\u00f4ng r\u00f5 r\u00e0ng nh\u1eefng t\u00ean n\u00e0o c\u00f3 trong namespace.   T\u1ed1t h\u01a1n h\u1ebft th\u00ec n\u00ean s\u1eed d\u1ee5ng c\u00e1ch import th\u00f4ng th\u01b0\u1eddng \u0111\u1ec3 \u0111\u01b0\u1ee3c r\u00f5 r\u00e0ng.</li> <li>Kh\u00f4ng gi\u1ed1ng nh\u01b0 wildcard import, import ki\u1ec3u th\u00f4ng th\u01b0\u1eddng kh\u00f4ng b\u1ecb \u1ea3nh h\u01b0\u1edfng b\u1edfi d\u1ea5u g\u1ea1ch d\u01b0\u1edbi \u0111\u1eb1ng tr\u01b0\u1edbc t\u00ean:</li> </ul> <pre><code>&gt;&gt;&gt; import my_module\n&gt;&gt;&gt; my_module.external_func()\n23\n&gt;&gt;&gt; my_module._internal_func()\n42\n</code></pre> <ul> <li>Ok! vi\u1ec7c n\u00e0y c\u00f3 ch\u00fat g\u00e2y nh\u1ea7m l\u1eabn. Nh\u01b0ng n\u1ebfu b\u1ea1n theo PEP8 khuy\u1ebfn ngh\u1ecb kh\u00f4ng d\u00f9ng wildcard import, th\u00ec t\u1ea5t c\u1ea3 nh\u1eefng g\u00ec b\u1ea1n c\u1ea7n nh\u1edb l\u00e0:</li> </ul> <pre><code>\"_\" - g\u1ea1ch d\u01b0\u1edbi l\u00e0 m\u1ed9t quy \u01b0\u1edbc \u0111\u1eb7t t\u00ean trong Python ch\u1ec9 ra m\u1ed9t t\u00ean n\u00ean \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng n\u1ed9i b\u1ed9. Vi\u1ec7c n\u00e0y th\u01b0\u1eddng kh\u00f4ng\n\u0111\u01b0\u1ee3c th\u1ef1c thi b\u1edfi tr\u00ecnh th\u00f4ng d\u1ecbch Python v\u00e0 c\u00f3 t\u00e1c d\u1ee5ng nh\u01b0 m\u1ed9t g\u1ee3i \u00fd cho l\u1eadp tr\u00ecnh vi\u00ean.\n</code></pre>"},{"location":"blog/2021/05/07/%C3%BD-ngh%C4%A9a-d%E1%BA%A5u-g%E1%BA%A1ch-d%C6%B0%E1%BB%9Bi-trong-pythonhttpsdbaderorgblogmeaning-of-underscores-in-python/#single-trailing-underscore-var_","title":"Single Trailing Underscore: <code>var_</code>","text":"<ul> <li>\u0110\u00f4i khi c\u00e1i t\u00ean ph\u00f9 h\u1ee3p nh\u1ea5t cho m\u1ed9t bi\u1ebfn \u0111\u00e3 \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng cho m\u1ed9t t\u1eeb kh\u00f3a. Nh\u01b0 <code>class</code> hay <code>def</code> kh\u00f4ng th\u1ec3 \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng   nh\u01b0 t\u00ean bi\u1ebfn trong Python. Trong tr\u01b0\u1eddng h\u1ee3p n\u00e0y b\u1ea1n c\u00f3 th\u1ec3 th\u00eam d\u1ea5u \"_\" \u1edf cu\u1ed1i \u0111\u1ec3 tr\u00e1nh b\u1ecb xung \u0111\u1ed9t t\u00ean.</li> </ul> <pre><code>&gt;&gt;&gt; def make_object(name, class):\nFile \"&lt;stdin&gt;\", line 1\n  def make_object(name, class):\n                        ^\nSyntaxError: invalid syntax\n&gt;&gt;&gt; def make_object(name, class_):\n...     pass\n...\n</code></pre> <ul> <li>T\u00f3m l\u1ea1i, m\u1ed9t d\u1ea5u g\u1ea1ch d\u01b0\u1edbi ph\u00eda sau (postfix) \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng b\u1edfi quy \u01b0\u1edbc nh\u1eb1m tr\u00e1nh xung \u0111\u1ed9t t\u1eeb kh\u00f3a c\u1ee7a Python.   Khuy\u1ebfn ngh\u1ecb n\u00e0y \u0111\u01b0\u1ee3c gi\u1ea3i th\u00edch trong PEP8.</li> </ul>"},{"location":"blog/2021/05/07/%C3%BD-ngh%C4%A9a-d%E1%BA%A5u-g%E1%BA%A1ch-d%C6%B0%E1%BB%9Bi-trong-pythonhttpsdbaderorgblogmeaning-of-underscores-in-python/#double-leading-underscore-__var","title":"Double Leading Underscore: <code>__var</code>","text":"<ul> <li> <p>C\u00e1c c\u00e1ch \u0111\u1eb7t t\u00ean ch\u00fang ta \u0111i qua \u1edf tr\u00ean ch\u1ec9 \u0111\u1ebfn t\u1eeb c\u00e1c th\u1ecfa thu\u1eadn. V\u1edbi c\u00e1c thu\u1ed9c t\u00ednh ( attribute) trong class c\u1ee7a Python (variables v\u00e0 methods) b\u1eaft \u0111\u1ea7u b\u1eb1ng hai d\u1ea5u g\u1ea1ch d\u01b0\u1edbi <code>__</code> s\u1ebd c\u00f3 m\u1ed9t ch\u00fat kh\u00e1c bi\u1ec7t.</p> </li> <li> <p>Hai d\u1ea5u g\u1ea1ch d\u01b0\u1edbi ph\u00eda tr\u01b0\u1edbc s\u1ebd l\u00e0 nguy\u00ean nh\u00e2n tr\u00ecnh th\u00f4ng d\u1ecbch Python vi\u1ebft l\u1ea1i t\u00ean thu\u1ed9c t\u00ednh \u0111\u1ec3 tr\u00e1nh xung \u0111\u1ed9t t\u00ean v\u1edbi c\u00e1c l\u1edbp con (subclasses).</p> </li> <li> <p>\u0110\u00e2y c\u0169ng \u0111\u01b0\u1ee3c g\u1ecdi l\u00e0 <code>name mangling</code> - tr\u00ecnh th\u00f4ng d\u1ecbch thay \u0111\u1ed5i t\u00ean c\u1ee7a bi\u1ebfn theo c\u00e1ch l\u00e0m cho n\u00f3 kh\u00f3 h\u01a1n \u0111\u1ec3 b\u1ecb xung \u0111\u1ed9t khi class \u0111\u01b0\u1ee3c m\u1edf r\u1ed9ng v\u1ec1 sau.</p> </li> <li> <p>T\u00f4i bi\u1ebft vi\u1ec7c n\u00e0y nghe c\u00f3 v\u1ebb tr\u1eebu t\u01b0\u1ee3ng. \u0110o\u1ea1n m\u00e3 nh\u1ecf d\u01b0\u1edbi \u0111\u00e2y s\u1ebd l\u00e0m r\u00f5 \u0111i\u1ec1u tr\u00ean h\u01a1n:</p> </li> </ul> <pre><code>&gt;&gt;&gt; class Test:\n...     def __init__(self):\n...             self.foo = 11\n...             self._bar = 23\n...             self.__baz = 23\n</code></pre> <ul> <li>Gi\u1edd c\u00f9ng xem thu\u1ed9c t\u00ednh c\u1ee7a \u0111\u1ed1i t\u01b0\u1ee3ng s\u1eed d\u1ee5ng built-in <code>dir()</code> function:</li> </ul> <pre><code>&gt;&gt;&gt; t = Test()\n&gt;&gt;&gt; dir(t)\n['_Test__baz', '__class__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__str__', '__subclasshook__', '__weakref__', '_bar', 'foo']\n</code></pre> <ul> <li> <p>L\u1ec7nh n\u00e0y show cho ch\u00fang ta m\u1ed9t danh s\u00e1ch c\u00e1c thu\u1ed9c t\u00ednh c\u1ee7a object. Nh\u00ecn v\u00e0o danh s\u00e1ch v\u00e0 t\u00ecm ki\u1ebfm c\u00e1c t\u00ean bi\u1ebfn c\u1ee7a ch\u00fang ta: <code>foo</code>, <code>_bar</code>, v\u00e0 <code>__baz</code> - Ch\u1eafc b\u1ea1n s\u1ebd ch\u00fa \u00fd t\u1edbi m\u1ed9t s\u1ed1 thay \u0111\u1ed5i th\u00fa v\u1ecb:</p> </li> <li> <p><code>self.foo</code> kh\u00f4ng thay \u0111\u1ed5i trong danh s\u00e1ch thu\u1ed9c t\u00ednh.</p> </li> <li> <p><code>self._bar</code> c\u00f3 v\u1ebb c\u0169ng t\u01b0\u01a1ng t\u1ef1. Hi\u1ec3n th\u1ecb trong danh s\u00e1ch class nh\u01b0 <code>_bar</code>. Nh\u01b0 \u0111\u00e3 n\u00f3i \u1edf tr\u00ean m\u1ed9t d\u1ea5u <code>_</code> \u1edf tr\u01b0\u1edbc ch\u1ec9 l\u00e0 quy \u01b0\u1edbc trong tr\u01b0\u1eddng h\u1ee3p n\u00e0y. M\u1ed9t g\u1ee3i \u00fd cho l\u1eadp tr\u00ecnh vi\u00ean.</p> </li> <li> <p>Tuy nhi\u00ean, Whoop! <code>self.__baz</code>, c\u00f3 v\u1ebb b\u1ecb thay \u0111\u1ed5i. Khi b\u1ea1n t\u00ecm <code>__baz</code> trong danh s\u00e1ch b\u1ea1n s\u1ebd kh\u00f4ng th\u1ea5y bi\u1ebfn n\u00e0o c\u00f3 t\u00ean nh\u01b0 v\u1eady c\u1ea3.</p> </li> <li> <p>V\u1eady \u0111i\u1ec1u g\u00ec \u0111\u00e3 x\u1ea3y \u0111\u1ebfn v\u1edbi <code>__baz</code>?</p> </li> <li> <p>Nh\u00ecn k\u1ef9 h\u01a1n b\u1ea1n s\u1ebd th\u1ea5y m\u1ed9t thu\u1ed9c t\u00ednh c\u00f3 t\u00ean <code>_Test__baz</code> trong object. \u0110\u00e2y l\u00e0 m\u1ed9t <code>name mangling - n\u00f3i d\u1ed1i t\u00ean</code> m\u00e0 tr\u00ecnh bi\u00ean d\u1ecbch Python \u0111\u00e3 \u00e1p d\u1ee5ng. N\u00f3 l\u00e0m v\u1eady \u0111\u1ec3 b\u1ea3o v\u1ec7 bi\u1ebfn kh\u1ecfi b\u1ecb ghi \u0111\u00e8 trong c\u00e1c l\u1edbp con.</p> </li> <li> <p>C\u00f9ng t\u1ea1o m\u1ed9t l\u1edbp kh\u00e1c m\u1edf r\u1ed9ng class Test v\u00e0 c\u1ed1 t\u00ecnh ghi \u0111\u00e8 c\u00e1c thu\u1ed9c t\u00ednh \u0111\u00e3 t\u1ed3n t\u1ea1i \u0111\u01b0\u1ee3c th\u00eam trong h\u00e0m kh\u1edfi t\u1ea1o:</p> </li> </ul> <pre><code>&gt;&gt;&gt; class ExtendedTest(Test):\n...     def __init__(self):\n...             super().__init__()\n...             self.foo = 'overridden'\n...             self._bar = 'overridden'\n...             self.__baz = 'overridden'\n</code></pre> <ul> <li>Gi\u1edd th\u00ec b\u1ea1n ngh\u0129 sao v\u1ec1 gi\u00e1 tr\u1ecb c\u1ee7a <code>foo</code>, <code>_bar</code>, v\u00e0 <code>__baz</code> s\u1ebd c\u00f3 trong object c\u1ee7a ExtendedTest. Th\u1eed ki\u1ec3m tra xem:</li> </ul> <pre><code>&gt;&gt;&gt; t2 = ExtendedTest()\n&gt;&gt;&gt; t2.foo\n'overridden'\n&gt;&gt;&gt; t2._bar\n'overridden'\n&gt;&gt;&gt; t2.__baz\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nAttributeError: 'ExtendedTest' object has no attribute '__baz'\n</code></pre> <ul> <li>Ch\u1edd \u0111\u00e3, sao ch\u00fang ta l\u1ea1i nh\u1eadn \u0111\u01b0\u1ee3c l\u1ed7i <code>AttributeError</code> khi ch\u00fang ta c\u1ed1 g\u1eafng ki\u1ec3m tra gi\u00e1 tr\u1ecb c\u1ee7a <code>t2.__baz</code>? N\u00f3i d\u1ed1i t\u00ean(<code>name mangling</code>) \u0111\u00e3 ch\u1ed1ng l\u1ea1i m\u1ed9t l\u1ea7n n\u1eefa! N\u00f3 l\u00e0m cho obj n\u00e0y th\u1eadm ch\u00ed c\u00f2n kh\u00f4ng c\u00f3 thu\u1ed9c t\u00ednh <code>__baz</code>:</li> </ul> <pre><code>&gt;&gt;&gt; dir(t2)\n['_ExtendedTest__baz', '_Test__baz', '__class__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__str__', '__subclasshook__', '__weakref__', '_bar', 'foo']\n</code></pre> <ul> <li>Nh\u01b0 b\u1ea1n th\u1ea5y, <code>__baz</code> \u0111\u00e3 chuy\u1ec3n th\u00e0nh <code>_ExtendedTest__baz</code> \u0111\u1ec3 ng\u0103n ch\u1eb7n m\u1ed9t s\u1ef1 s\u1eeda \u0111\u1ed5i ng\u1eabu nhi\u00ean:</li> </ul> <pre><code>&gt;&gt;&gt; t2._ExtendedTest__baz\n'overridden'\n</code></pre> <ul> <li>Nh\u01b0ng bi\u1ebfn <code>_Test__baz</code> v\u1eabn \u1edf \u0111\u00f3 ( kh\u00f4ng m\u1ea5t \u0111i \u0111\u00e2u c\u1ea3 m\u00e0 lo):</li> </ul> <pre><code>&gt;&gt;&gt; t2._Test__baz\n23\n</code></pre> <ul> <li>C\u00e1ch t\u00ean n\u00f3i d\u1ed1i dunders l\u00e0 trong su\u1ed1t v\u1edbi l\u1eadp tr\u00ecnh vi\u00ean. L\u1ea5y v\u00ed d\u1ee5 s\u1ebd x\u00e1c minh \u0111i\u1ec1u n\u00e0y:</li> </ul> <pre><code>&gt;&gt;&gt; class ManglingTest:\n...     def __init__(self):\n...             self.__mangled = \"Hello\"\n...     def get_mangled(self):\n...             return self.__mangled\n...\n&gt;&gt;&gt; ManglingTest().get_mangled()\n'Hello'\n&gt;&gt;&gt; ManglingTest().__mangled\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nAttributeError: 'ManglingTest' object has no attribute '__mangled'\n&gt;&gt;&gt;\n</code></pre> <ul> <li>Li\u1ec7u n\u00f3i d\u1ed1i t\u00ean c\u00f3 \u00e1p d\u1ee5ng cho t\u00ean c\u1ee7a ph\u01b0\u01a1ng th\u1ee9c ? Ch\u1eafc ch\u1eafn l\u00e0 c\u00f3 - n\u00f3i d\u1ed1i t\u00ean (<code>name mangling</code>) t\u00e1c \u0111\u1ed9ng t\u1edbi t\u1ea5t c\u1ea3 c\u00e1c t\u00ean (names) b\u1eaft \u0111\u1ea7u v\u1edbi hai d\u1ea5u g\u1ea1ch d\u01b0\u1edbi (\"dunders\") trong context c\u1ee7a class:</li> </ul> <pre><code>&gt;&gt;&gt; class MangledMethod:\n...     def __method(self):\n...             return 42\n...     def call_it(self):\n...             return self.__method()\n...\n&gt;&gt;&gt; MangledMethod().__method()\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nAttributeError: 'MangledMethod' object has no attribute '__method'\n&gt;&gt;&gt; MangledMethod().call_it()\n42\n</code></pre> <ul> <li>M\u1ed9t th\u00fa v\u1ecb kh\u00e1c, v\u00ed d\u1ee5 h\u00e0nh vi c\u1ee7a <code>name mangling</code>:</li> </ul> <pre><code>&gt;&gt;&gt; _MangledGlobal__mangled = 23\n&gt;&gt;&gt; class MangledGlobal:\n...     def test(self):\n...             return __mangled\n...\n&gt;&gt;&gt; MangledGlobal().test()\n23\n</code></pre> <ul> <li> <p>V\u00ed d\u1ee5 tr\u00ean t\u00f4i khai b\u00e1o bi\u1ebfn to\u00e0n c\u1ee5c t\u00ean : <code>_MangledGlobal__mangled</code>. Sau \u0111\u00f3 t\u00f4i truy c\u1eadp v\u00e0o context c\u1ee7a class c\u00f3 t\u00ean <code>MangledGlobal</code>. V\u00ec <code>name mangling</code>m\u00e0 t\u00f4i c\u00f3 th\u1ec3 tham chi\u1ebfu t\u1edbi bi\u1ebfn to\u00e0n c\u1ee5c <code>_MangledGlobal__mangled</code> b\u00ean trong ph\u01b0\u01a1ng th\u1ee9c <code>test()</code> tr\u00ean class.</p> </li> <li> <p>Tr\u00ecnh bi\u00ean d\u1ecbch c\u1ee7a Python t\u1ef1 \u0111\u1ed9ng m\u1edf r\u1ed9ng t\u00ean (name) **mangled th\u00e0nh <code>\\_MangledGlobal**mangled</code> do n\u00f3 b\u1eaft \u0111\u1ea7u v\u1edbi \"dunders\". Vi\u1ec7c n\u00e0y ch\u1ee9ng t\u1ecf r\u1eb1ng vi\u1ec7c x\u00e1o tr\u1ed9n t\u00ean (<code>name mangling</code>) kh\u00f4ng ch\u1ec9 r\u1eb1ng bu\u1ed9c c\u00e1c thu\u1ed9c t\u00ednh c\u1ee7a class. N\u00f3 \u00e1p d\u1ee5ng cho b\u1ea5t k\u1ef3 t\u00ean n\u00e0o v\u1edbi <code>dunders</code> \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng trong m\u1ed9t class.</p> </li> <li> <p>Gi\u1edd m\u1edbi c\u00f3 nhi\u1ec1u th\u1ee9 \u0111\u1ec3 note l\u1ea1i \u0111\u00e2y^</p> </li> <li> <p>Th\u00e0nh th\u1eadt m\u00e0 n\u00f3i t\u00f4i kh\u00f4ng vi\u1ebft nh\u1eefng th\u1ee9 n\u00e0y trong \u0111\u1ea7u t\u00f4i ra. N\u00f3 \u0111\u00e3 l\u00e0m t\u00f4i ph\u1ea3i research v\u00e0 ch\u1ec9nh s\u1eeda \u0111\u1ec3 c\u00f3 th\u1ec3 vi\u1ebft ra. T\u00f4i \u0111\u00e3 s\u1eed d\u1ee5ng Python h\u00e0ng v\u00e0i n\u0103m tr\u1eddi nh\u01b0ng nh\u1eefng quy t\u1eafc v\u00e0 c\u00e1c case \u0111\u1eb7c bi\u1ec7t nh\u01b0 th\u1ebf n\u00e0y kh\u00f4ng th\u01b0\u1eddng xuy\u00ean xu\u1ea5t hi\u1ec7n trong t\u00e2m tr\u00ed t\u00f4i.</p> </li> <li> <p>Nhi\u1ec1u khi \u0111i\u1ec1u quan tr\u1ecdng nh\u1ea5t v\u1edbi m\u1ed9t l\u1eadp tr\u00ecnh vi\u00ean l\u00e0 nh\u1eadn d\u1ea1ng m\u1eabu (<code>pattern recognition</code>) v\u00e0 bi\u1ebft n\u01a1i \u0111\u1ec3 tra c\u1ee9u. N\u1ebfu b\u1ea1n th\u1ea5y h\u01a1i cho\u00e1ng ng\u1ee3p v\u00ec \u0111i\u1ec1u n\u00e0y \u0111\u1eebng lo l\u1eafng. D\u00e0nh th\u1eddi gian v\u00e0 ch\u01a1i v\u1edbi c\u00e1c v\u00ed d\u1ee5 trong b\u00e0i.</p> </li> <li> <p>Kh\u1eafc s\u00e2u c\u00e1c kh\u00e1i ni\u1ec7m n\u00e0y, b\u1ea1n s\u1ebd nh\u1edb c\u00e1c \u00fd t\u01b0\u1edfng chung c\u1ee7a name mangling v\u00e0 m\u1ed9t s\u1ed1 h\u00e0nh vi m\u00e0 t\u00f4i \u0111\u00e3 cho b\u1ea1n th\u1ea5y. N\u1ebfu b\u1ea1n g\u1eb7p ch\u00fang \u0111\u00e2u \u0111\u00f3 ngo\u00e0i t\u1ef1 nhi\u00ean (<code>\"in the wild\"</code>), b\u1ea1n s\u1ebd bi\u1ebft ph\u1ea3i t\u00ecm ki\u1ebfm ch\u00fang \u1edf \u0111\u00e2u.</p> </li> </ul>"},{"location":"blog/2021/05/07/%C3%BD-ngh%C4%A9a-d%E1%BA%A5u-g%E1%BA%A1ch-d%C6%B0%E1%BB%9Bi-trong-pythonhttpsdbaderorgblogmeaning-of-underscores-in-python/#double-leading-and-trailing-underscores-__var__","title":"Double Leading and Trailing Underscores: <code>__var__</code>","text":"<ul> <li>C\u00f3 l\u1ebd l\u00e0 \u0111i\u1ec1u \u0111\u00e1ng ng\u1ea1c nhi\u00ean khi, <code>name mangling</code> s\u1ebd kh\u00f4ng \u00e1p d\u1ee5ng n\u1ebfu m\u1ed9t t\u00ean b\u1eaft \u0111\u1ea7u v\u00e0 k\u1ebft th\u00fac v\u1edbi dunders. C\u00e1c bi\u1ebfn \u0111\u01b0\u1ee3c bao quanh b\u1edfi m\u1ed9t dunders tr\u01b0\u1edbc v\u00e0 sau s\u1ebd kh\u00f4ng b\u1ecb \u1ea3nh h\u01b0\u1edfng b\u1edfi tr\u00ecnh th\u00f4ng d\u1ecbch Python:</li> </ul> <pre><code>class PrefixPostfixTest:\n  def __init__(self):\n    self.__bam__ = 42\n\nPrefixPostfixTest().__bam__\n42\n</code></pre> <ul> <li> <p>Tuy nhi\u00ean c\u00e1c bi\u1ebfn, t\u00ean (name) c\u00f3 dunders c\u1ea3 tr\u01b0\u1edbc v\u00e0 sau \u0111\u01b0\u1ee3c d\u00e0nh cho m\u1ee5c \u0111\u00edch \u0111\u1eb7c bi\u1ec7t trong ng\u00f4n ng\u1eef. Quy t\u1eafc n\u00e0y bao g\u1ed3m nh\u1eefng th\u1ee9 nh\u01b0 <code>__init__</code> cho kh\u1edfi t\u1ea1o \u0111\u1ed1i t\u01b0\u1ee3ng , hay <code>__call__</code> trong t\u1ea1o m\u1ed9t l\u1eddi g\u1ecdi object.</p> </li> <li> <p>Nh\u1eefng d\u1ea5u dunders n\u00e0y th\u01b0\u1eddng \u0111\u01b0\u1ee3c tham chi\u1ebfu nh\u01b0 nh\u1eefng ph\u01b0\u01a1ng th\u1ee9c ma thu\u1eadt (magic methods) - nh\u01b0ng nhi\u1ec1u ng\u01b0\u1eddi trong c\u1ed9ng \u0111\u1ed3ng Python, bao g\u1ed3m c\u1ea3 t\u00f4i ( t\u00e1c gi\u1ea3) v\u00e0 c\u1ea3 t\u00f4i ( th\u1eb1ng \u0111ang d\u1ecbch b\u00e0i n\u00e0y), kh\u00f4ng th\u00edch n\u00f3.</p> </li> <li> <p>T\u1ed1t nh\u1ea5t b\u1ea1n n\u00ean tr\u00e1nh xa c\u00e1ch \u0111\u1eb7t t\u00ean m\u00e0 b\u1eaft \u0111\u1ea7u v\u00e0 k\u1ebft th\u00fac v\u1edbi dunders trong ch\u01b0\u01a1ng tr\u00ecnh c\u1ee7a m\u00ecnh \u0111\u1ec3 tr\u00e1nh xung \u0111\u1ed9t v\u1edbi thay \u0111\u1ed5i trong t\u01b0\u01a1ng l\u1ea1i c\u1ee7a ng\u00f4n ng\u1eef Python.</p> </li> </ul>"},{"location":"blog/2021/05/07/%C3%BD-ngh%C4%A9a-d%E1%BA%A5u-g%E1%BA%A1ch-d%C6%B0%E1%BB%9Bi-trong-pythonhttpsdbaderorgblogmeaning-of-underscores-in-python/#single-underscore-_","title":"Single Underscore: <code>_</code>","text":"<ul> <li> <p>Theo quy \u01b0\u1edbc, m\u1ed9t d\u1ea5u <code>_</code> \u0111\u1ee9ng m\u1ed9t m\u00ecnh \u0111\u00f4i khi \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng nh\u01b0 m\u1ed9t t\u00ean ch\u1ec9 ra r\u1eb1ng bi\u1ebfn n\u00e0y l\u00e0 t\u1ea1m th\u1eddi ho\u1eb7c kh\u00f4ng quan tr\u1ecdng ( ho\u1eb7c kh\u00f4ng \u0111\u01b0\u1ee3c d\u00f9ng).</p> </li> <li> <p>V\u00ed d\u1ee5, trong v\u00f2ng l\u1eb7p ch\u00fang ta kh\u00f4ng c\u1ea7n truy c\u1eadp \u0111\u1ebfn bi\u1ebfn \u0111\u1ebfm v\u00e0 ch\u00fang ta c\u00f3 th\u1ec3 s\u1eed d\u1ee5ng <code>_</code> \u0111\u1ec3 ch\u1ec9 ra r\u1eb1ng \u0111\u00e2y l\u00e0 bi\u1ebfn t\u1ea1m th\u1eddi:</p> </li> </ul> <pre><code>for _ in range(32):\n  print(\"Hello, world\")\n</code></pre> <ul> <li> <p>Ch\u00fang ta c\u0169ng c\u00f3 th\u1ec3 d\u00f9ng <code>_</code> khi gi\u1ea3i n\u00e9n bi\u1ec3u th\u1ee9c khi mu\u1ed1n b\u1ecf qua m\u1ed9t gi\u00e1 tr\u1ecb. M\u1ed9t l\u1ea7n n\u1eefa, vi\u1ec7c n\u00e0y ch\u1ec9 l\u00e0 theo quy \u01b0\u1edbc v\u00e0 kh\u00f4ng c\u00f3 s\u1ef1 \u0111\u1eb7c bi\u1ec7t n\u00e0o trong tr\u00ecnh th\u00f4ng d\u1ecbch Python. <code>_</code> ch\u1ec9 l\u00e0 m\u1ed9t t\u00ean bi\u1ebfn h\u1ee3p l\u1ec7 \u0111\u00f4i khi \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng cho m\u1ee5c \u0111\u00edch n\u00e0y (bi\u1ebfn <code>_</code> kh\u00f4ng \u0111\u01b0\u1ee3c quan t\u00e2m hay ko s\u1eed d\u1ee5ng ).</p> </li> <li> <p>Nh\u01b0 code d\u01b0\u1edbi \u0111\u00e2y t\u00f4i s\u1ebd gi\u1ea3i n\u00e9n tuple car th\u00e0nh c\u00e1c bi\u1ebfn ri\u00eang bi\u1ec7t. Nh\u01b0ng t\u00f4i ch\u1ec9 quan t\u00e2m \u0111\u1ebfn gi\u00e1 tr\u1ecb <code>color</code> v\u00e0 <code>mileage</code>. Tuy nhi\u00ean, \u0111\u1ec3 gi\u1ea3i n\u00e9n bi\u1ec3u th\u1ee9c th\u00e0nh c\u00f4ng t\u00f4i c\u1ea7n g\u00e1n t\u1ea5t c\u1ea3 c\u00e1c gi\u00e1 tr\u1ecb b\u00ean tuple v\u00e0o c\u00e1c bi\u1ebfn. V\u00e0 <code>_</code> c\u00f3 gi\u00e1 tr\u1ecb nh\u01b0 bi\u1ebfn gi\u1eef ch\u1ed7:</p> </li> </ul> <pre><code>&gt;&gt;&gt; car = ('red', 'auto', 12, 3812.4)\n&gt;&gt;&gt; color, _, _, mileage = car\n&gt;&gt;&gt;\n&gt;&gt;&gt; color\n'red'\n&gt;&gt;&gt; mileage\n3812.4\n&gt;&gt;&gt; _\n12\n&gt;&gt;&gt; _\n12\n</code></pre> <ul> <li> <p>B\u00ean c\u1ea1nh vi\u1ec7c s\u1eed d\u1ee5ng nh\u01b0 m\u1ed9t bi\u1ebfn t\u1ea1m, <code>_</code> l\u00e0 m\u1ed9t bi\u1ebfn \u0111\u1eb7c bi\u1ec7t m\u00e0 h\u1ea7u h\u1ebft Python REPLs \u0111\u1ea1i di\u1ec7n cho k\u1ebft qu\u1ea3 c\u1ee7a bi\u1ec3u th\u1ee9c cu\u1ed1i c\u00f9ng \u0111\u01b0\u1ee3c \u0111\u00e1nh gi\u00e1 b\u1edfi tr\u00ecnh th\u00f4ng d\u1ecbch.</p> </li> <li> <p>Vi\u1ec7c n\u00e0y th\u1eadt thu\u1eadn ti\u1ec7n n\u1ebfu b\u1ea1n \u0111ang l\u00e0m vi\u1ec7c v\u1edbi m\u1ed9t tr\u00ecnh th\u00f4ng d\u1ecbch v\u00e0 mu\u1ed1n truy c\u1eadp v\u00e0o k\u1ebft qu\u1ea3 cu\u1ed1i c\u00f9ng c\u1ee7a l\u1ea7n t\u00ednh to\u00e1n tr\u01b0\u1edbc \u0111\u00f3. Ho\u1eb7c n\u1ebfu b\u1ea1n \u0111ang x\u00e2y d\u1ef1ng c\u00e1c \u0111\u1ed1i t\u01b0\u1ee3ng v\u00e0 mu\u1ed1n t\u01b0\u01a1ng t\u00e1c v\u1edbi ch\u00fang m\u00e0 kh\u00f4ng c\u1ea7n g\u00e1n t\u00ean cho ch\u00fang tr\u01b0\u1edbc:</p> </li> </ul> <pre><code>&gt;&gt;&gt; 20 + 3\n23\n&gt;&gt;&gt; _\n23\n&gt;&gt;&gt; print(_)\n23\n&gt;&gt;&gt; list()\n[]\n&gt;&gt;&gt; _.append(1)\n&gt;&gt;&gt; _.append(2)\n&gt;&gt;&gt; _.append(3)\n&gt;&gt;&gt; _\n[1, 2, 3]\n&gt;&gt;&gt;\n</code></pre>"},{"location":"blog/2021/05/07/%C3%BD-ngh%C4%A9a-d%E1%BA%A5u-g%E1%BA%A1ch-d%C6%B0%E1%BB%9Bi-trong-pythonhttpsdbaderorgblogmeaning-of-underscores-in-python/#happy-coding-with-python","title":"HAPPY CODING WITH PYTHON","text":""},{"location":"blog/2021/10/28/upgrade-eks-version/","title":"Upgrade eks version","text":"<ul> <li>This doc is about upgrade kubernetes version on AWS (eks).</li> <li>Official guide is here</li> <li>Other useful resource:</li> <li>eksworkshop.com</li> <li>AWS EKS running out of IP address</li> <li>Optimize EKS networking for scale</li> </ul>"},{"location":"blog/2021/10/28/upgrade-eks-version/#prepare","title":"Prepare","text":"<ul> <li>Change to right cluster, which you to upgrade version with commands:</li> </ul> <pre><code>    $ kubectl config get-contexts\n    $ kubectl config use-context &lt;context-name&gt;\n    Switched to context \"&lt;context-name&gt;\".\n</code></pre>"},{"location":"blog/2021/10/28/upgrade-eks-version/#k8s-components","title":"K8s components","text":"<ul> <li> <p>We have some components need to be consider when we upgrade k8s version: <code>control plane</code>, <code>node group (aka: data plane)</code>, <code>VPC CNI</code>, <code>Core DNS</code> and <code>kube-proxy</code></p> </li> <li> <p>Process upgrade (on official link is): <code>control plane</code> --&gt; <code>node group</code> -&gt; <code>VPC CNI</code>, <code>Core DNS</code> and <code>kube-proxy</code>.</p> </li> <li>But some other guides follow process: <code>control plane</code> --&gt; <code>VPC CNI</code>, <code>Core DNS</code> and <code>kube-proxy</code> -&gt; <code>node group</code>. I will follow this process.</li> </ul>"},{"location":"blog/2021/10/28/upgrade-eks-version/#upgrade-k8s-version","title":"Upgrade k8s version","text":""},{"location":"blog/2021/10/28/upgrade-eks-version/#upgrade-control-plane","title":"Upgrade Control plane","text":"<ul> <li>New k8s versions have significant changes. Make sure you test new version on dev environment before you update your production clusters. You can not downgrade.</li> <li> <p>It required 5 free IPs. If you are not have enough available. Check <code>Increase available IP address</code> section below.</p> </li> <li> <p>Compare k8s version of Control plane and k8s version of Data plane ( nodes group)</p> </li> <li> <p>Get k8s version of Control plane:</p> </li> </ul> <pre><code>    $ kubectl version --short\n    Client Version: v1.19.11\n    Server Version: v1.19.13-eks-8df270\n</code></pre> <ul> <li>Get k8s version of Data Plane:</li> </ul> <pre><code>    $ kubectl get nodes\n    NAME                                              STATUS   ROLES    AGE   VERSION\n    ip-10-100-0-92.ap-southeast-1.compute.internal    Ready    &lt;none&gt;   28d   v1.19.13-eks-f39f26\n    ip-10-100-10-44.ap-southeast-1.compute.internal   Ready    &lt;none&gt;   12d   v1.19.13-eks-f39f26\n</code></pre> <ul> <li> <p>k8s can only support nodes that are one version behind. So if your nodes have one or more version behind. You need upgrade nodes's version before continue on upgrade control plane version.</p> </li> <li> <p>Ensure that the proper pod security policies are in place to avoid any issues.</p> </li> <li> <p>You can check for the default policy with the following command:</p> </li> </ul> <pre><code>    $ kubectl get psp eks.privileged\n    NAME             PRIV   CAPS   SELINUX    RUNASUSER   FSGROUP    SUPGROUP   READONLYROOTFS   VOLUMES\n    eks.privileged   true   *      RunAsAny   RunAsAny    RunAsAny   RunAsAny   false            *\n</code></pre> <ul> <li> <p>No error in output, it mean everything is ok. If you got error, see here before you continue.</p> </li> <li> <p>If you originally deployed your cluster on k8s 1.17 or earlier, then you may need to remove a discontinued term from your CoreDNS manifest.</p> </li> <li> <p>View official docs for detail</p> </li> <li> <p>Update your cluster using <code>eksctl</code>, the AWS Management Console, or the AWS CLI</p> </li> <li> <p>IMPORTANT</p> </li> </ul> <pre><code>    - You only can update one version at a time.\n    - Control Plane and Node Plane are at the same version. After upgrade Control Plane, Data Plane will is one version behind Control Plane\n    - If you upgrade from `1.16 to 1.17` and you have any AWS Fagate pods that have a `kubelet` version ealier than `1.16`, recycle your    Fagate first and you can upgrade Control Plane later\n    -  Updating to new version may overwrite custom configurations\n</code></pre> <ul> <li>For <code>eksctl</code> and <code>AWS CLI</code> please view official docs</li> <li>For <code>AWS console</code>:</li> <li>Open the Amazon EKS console at https://console.aws.amazon.com/eks/home#/clusters.</li> <li>Choose the name of the Amazon EKS cluster to update and choose Update cluster version.</li> <li>For k8s version, select the version to update your cluster to and choose Update.</li> <li>For Cluster name, type the name of your cluster and choose Confirm.</li> <li>The update takes several minutes to complete. ( Actually It may be take time to finish).</li> </ul>"},{"location":"blog/2021/10/28/upgrade-eks-version/#upgrade-cni-core-dns-and-kube-proxy","title":"Upgrade CNI, Core DNS and kube-proxy","text":""},{"location":"blog/2021/10/28/upgrade-eks-version/#upgrade-cni","title":"Upgrade CNI","text":"<ul> <li> <p>You should aware you are using <code>AWS VPC CNI self-managed add-on</code> or <code>Amazon VPC CNI Amazon EKS add-on</code> (doc for upgrade Amazon EKS add-on here). These steps below are for self-managed add-on.</p> </li> <li> <p>Check latest version available on github</p> </li> <li>What is the current version:</li> </ul> <pre><code>    $ kubectl describe daemonset aws-node --namespace kube-system | grep Image | cut -d \"/\" -f 2\n    amazon-k8s-cni:v1.6.3-eksbuild.1\n</code></pre> <ul> <li> <p>Should upgrade one version at a time. <code>1.7</code> -&gt; <code>1.8</code> -&gt; <code>1.9</code></p> </li> <li> <p>If your regions are one of: <code>cn-north-1</code> , <code>cn-northwest-1</code> , <code>us-gov-east-1</code>, <code>us-gov-west-1</code> check the offcial doc. If not follow steps below</p> </li> <li> <p>Download the manifest file:</p> </li> </ul> <pre><code>    curl -o aws-k8s-cni.yaml https://raw.githubusercontent.com/aws/amazon-vpc-cni-k8s/release-1.9/config/v1.9/aws-k8s-cni.yaml\n</code></pre> <ul> <li>Change to your region if it needed:</li> </ul> <pre><code>    sed -i.bak -e 's/us-west-2/&lt;region-code&gt;/' aws-k8s-cni.yaml\n</code></pre> <ul> <li>May be you need change account from here for your region. Current is <code>602401143452</code></li> </ul> <pre><code>    sed -i.bak -e 's/602401143452/&lt;account&gt;/' aws-k8s-cni.yaml\n</code></pre> <ul> <li>Apply the manifest file to your cluster:</li> </ul> <pre><code>    kubectl apply -f aws-k8s-cni.yaml\n</code></pre>"},{"location":"blog/2021/10/28/upgrade-eks-version/#upgrade-kube-proxy","title":"Upgrade kube-proxy","text":"<ul> <li> <p>Check compatible between k8s version and kube-proxy version in here</p> </li> <li> <p></p> </li> <li> <p>If you are using kube-proxy Amazon EKS add-on follow this</p> </li> <li> <p>These step bellow is for kube-proxy self-managed add-on</p> </li> <li> <p>Check current version:</p> </li> </ul> <pre><code>    $ kubectl get daemonset kube-proxy --namespace kube-system -o=jsonpath='{$.spec.template.spec.containers[:1].image}'\n    602401143452.dkr.ecr.ap-southeast-1.amazonaws.com/eks/kube-proxy:v1.16.13-eksbuild.1\n</code></pre> <ul> <li>Upgrade kube-proxy version. Change account <code>602401143452</code> with your output account, change region and version which compatible with k8s version:</li> </ul> <pre><code>    kubectl set image daemonset.apps/kube-proxy -n kube-system kube-proxy=602401143452.dkr.ecr.ap-southeast-1.amazonaws.com/eks/kube-proxy:v1.17.9-eksbuild.1\n</code></pre>"},{"location":"blog/2021/10/28/upgrade-eks-version/#upgrade-core-dns","title":"Upgrade Core DNS","text":"<ul> <li> <p>Check compatible between k8s version and CoreDNS in here</p> </li> <li> <p></p> </li> <li> <p>If you are using CoreDNS Amazon EKS add-on follow this</p> </li> <li> <p>These step bellow is for CoreDNS self-managed add-on</p> </li> <li> <p>Check current version:</p> </li> </ul> <pre><code>    kubectl describe deployment coredns --namespace kube-system | grep Image | cut -d \"/\" -f 3\n    coredns:v1.6.6-eksbuild.1\n</code></pre> <ul> <li>Retrieve your current CoreDNS image</li> </ul> <pre><code>     kubectl get deployment coredns --namespace kube-system -o=jsonpath='{$.spec.template.spec.containers[:1].image}'\n    602401143452.dkr.ecr.ap-southeast-1.amazonaws.com/eks/coredns:v1.6.6-eksbuild.1\n</code></pre> <ul> <li>If upgrade to <code>1.8.3</code> , add the <code>endpointslices</code> permission is needed.</li> </ul> <pre><code>    kubectl edit clusterrole system:coredns -n kube-system\n</code></pre> <ul> <li>Add the following line to file:</li> </ul> <pre><code>    - apiGroups:\n        - discovery.k8s.io\n        resources:\n        - endpointslices\n        verbs:\n        - list\n        - watch\n</code></pre> <ul> <li>Update CoreDNS by replacing <code>602401143452</code> with above step, and right CoreDNS version in command below:</li> </ul> <pre><code>  kubectl set image --namespace kube-system deployment.apps/coredns coredns=602401143452.dkr.ecr.ap-southeast-1.amazonaws.com/eks/coredns:v1.7.0-eksbuild.1\n</code></pre>"},{"location":"blog/2021/10/28/upgrade-eks-version/#upgrade-data-plane-nodes-group","title":"Upgrade Data Plane ( nodes group)","text":"<ul> <li> <p>Go to AWS console and upgrade your Data Plane.</p> </li> <li> <p>If you deployed <code>Cluster Autoscaler</code> to your cluster. Update <code>Cluster Autoscaler</code> first.</p> </li> <li>Check here for latest compatible version.</li> <li>Replace <code>1.21.n</code> with right version on step above:</li> </ul> <pre><code>  kubectl -n kube-system set image deployment.apps/cluster-autoscaler cluster-autoscaler=k8s.gcr.io/autoscaling/cluster-autoscaler:v1.21.n\n</code></pre>"},{"location":"blog/2021/10/28/upgrade-eks-version/#increase-available-ip-address","title":"Increase available IP address","text":"<ul> <li>If you do not have enough free IPs (5 IPs). May be the reason is nodes group kept reserve IPs. Now you need config <code>WARM_IP_TARGET</code> to get more free IPs.</li> <li>You can check official to get more IPs.</li> <li> <p>Other links help to understand what parameters is:</p> </li> <li> <p>AWS EKS running out of IP address</p> </li> <li> <p>Optimize EKS networking for scale</p> </li> <li> <p>NOTE</p> </li> <li>Pros when you customize <code>WARM_IP_TARGET</code>:<ul> <li>very little setting change to your EKS k8s cluster.</li> <li>Take effect immediately.</li> </ul> </li> <li>Cons:<ul> <li>It will increase the number of AWS EC2 API when attaching and deaching IP address. So you should only get just enough needed IPs.</li> <li>For example if you have a lot cronjob in cluster. Cronjob pods are created and quit frequently, and your EC2 have low reserve IPs which could cause alots AWS EC2 API calls for handling IP address locations.</li> </ul> </li> </ul>"},{"location":"blog/2021/11/11/how-to-learn-stuff-quickly/","title":"How to learn stuff quickly","text":"<ul> <li> <p>B\u00e0i g\u1ed1c \u1edf \u0111\u00e2y</p> </li> <li> <p>B\u00e0i n\u00e0y m\u00ecnh ch\u1ec9 d\u1ecbch nh\u1eefng ch\u1ed7 m\u00ecnh th\u00edch. C\u00e1c ph\u1ea7n v\u00ed d\u1ee5 nh\u01b0 React c\u00e1c th\u1ee9 s\u1ebd l\u01b0\u1ee3c b\u1ecf. N\u1ebfu th\u00edch c\u00f3 th\u1ec3 check link b\u00e0i g\u1ed1c \u1edf tr\u00ean.</p> </li> <li> <p>Ng\u01b0\u1eddi ta th\u01b0\u1eddng n\u00f3i Internet \u0111\u00e3 d\u00e2n ch\u1ee7 h\u00f3a n\u1ec1n gi\u00e1o d\u1ee5c: To\u00e0n b\u1ed9 ki\u1ebfn th\u1ee9c lo\u00e0i ng\u01b0\u1eddi ch\u1ec9 trong m\u1ed9t c\u00e2u l\u1ec7nh google search! Ch\u01b0a h\u1ebft, ti\u1ebfp c\u1eadn th\u00f4ng tin ch\u1ec9 l\u00e0 m\u1ed9t n\u1eeda c\u00e2u chuy\u1ec7n, b\u1ea1n c\u00f2n c\u1ea7n chuy\u1ec3n \u0111\u1ed5i th\u00f4ng tin th\u00f4 th\u00e0nh k\u0129 n\u0103ng h\u1eefu d\u1ee5ng.</p> </li> </ul> <ul> <li> <p>V\u1edbi ph\u1ea7n l\u1edbn ch\u00fang ta, kho\u1ea3ng c\u00e1ch gi\u1eefa hai \u0111i\u1ec1u n\u00e0y c\u00f3 th\u1ec3 d\u1eabn t\u1edbi nh\u1eefng th\u1ee9 nh\u01b0 <code>tutorial hell</code> -- l\u00e0m h\u1ebft h\u01b0\u1edbng d\u1eabn n\u00e0y t\u1edbi h\u01b0\u1edbng d\u1eabn kh\u00e1c m\u00e0 kh\u00f4ng c\u1ea3m th\u1ea5y c\u00f3 ti\u1ebfn b\u1ed9 \u0111\u00e1ng k\u1ec3.</p> </li> <li> <p>H\u1ecdc c\u00e1ch l\u00e0m sao h\u1ecdc hi\u1ec7u qu\u1ea3 l\u00e0 c\u1ef1c k\u1ef3 quan tr\u1ecdng, \u0111\u1eb7c bi\u1ec7t \u0111\u1ed1i v\u1edbi m\u1ed9t k\u0129 s\u01b0 ph\u1ea7n m\u1ec1m; h\u1ecdc nh\u1eefng \u0111i\u1ec1u m\u1edbi l\u00e0 b\u1ee9c tranh to\u00e0n c\u1ea3nh c\u1ee7a b\u1ea1n. N\u1ebfu b\u1ea1n c\u00f3 th\u1ec3 h\u1ecdc m\u1ed9t c\u00e1ch nhanh ch\u00f3ng ti\u1ebfp thu ng\u00f4n ng\u1eef m\u1edbi, framework m\u1edbi, c\u00f4ng c\u1ee5 m\u1edbi, b\u1ea1n s\u1ebd c\u00f3 th\u1ec3 tr\u1edf n\u00ean n\u0103ng su\u1ea5t h\u01a1n c\u00e1c l\u1eadp tr\u00ecnh vi\u00ean ph\u1ed5 th\u00f4ng kh\u00e1c. \u0110\u00f3 l\u00e0 m\u1ed9t lo\u1ea1i si\u00eau n\u0103ng l\u1ef1c.</p> </li> <li> <p>Trong b\u00e0i n\u00e0y, t\u00f4i s\u1ebd chia s\u1ebb t\u00f4i \u0111\u00e3 h\u1ecdc \u0111\u01b0\u1ee3c nh\u1eefng g\u00ec v\u1ec1 c\u00e1ch h\u1ecdc, v\u00e0 ch\u1ec9 cho b\u1ea1n c\u00e1ch t\u00f4i h\u1ecdc m\u1ed9t k\u0129 n\u0103ng m\u1edbi.</p> </li> </ul>"},{"location":"blog/2021/11/11/how-to-learn-stuff-quickly/#ket-hop-hoc-tap-co-huong-dan-va-khong-huong-dan","title":"K\u1ebft h\u1ee3p h\u1ecdc t\u1eadp c\u00f3 h\u01b0\u1edbng d\u1eabn v\u00e0 kh\u00f4ng h\u01b0\u1edbng d\u1eabn","text":"<ul> <li> <p>N\u00f3i m\u1ed9t c\u00e1ch r\u1ed9ng r\u00e3i, C\u00f3 hai c\u00e1ch h\u1ecdc:</p> </li> <li> <p><code>C\u00f3 h\u01b0\u1edbng d\u1eabn</code>: \u0110\u1ecdc tutorial, tham gia m\u1ed9t kh\u00f3a h\u1ecdc, xem video Youtube. B\u1ea5t c\u1ee9 \u0111i\u1ec1u g\u00ec b\u1ea1n \u0111ang l\u00e0m theo h\u01b0\u1edbng d\u1eabn.</p> </li> <li> <p><code>Kh\u00f4ng c\u00f3 h\u01b0\u1edbng d\u1eabn</code>: T\u1ea1o project c\u1ee7a b\u1ea1n t\u1eeb \u0111\u1ea7u, m\u1edf r\u1ed9ng m\u1ed9t h\u01b0\u1edbng d\u1eabn, t\u00ecm ki\u1ebfm m\u1ecdi th\u1ee9 trong t\u00e0i li\u1ec7u. B\u1ea5t c\u1ee9 \u0111i\u1ec1u g\u00ec b\u1ea1n kh\u00f4ng h\u1ec1 theo h\u01b0\u1edbng d\u1eabn.</p> </li> <li> <p>N\u1ebfu b\u1ea1n ch\u1ec9 theo h\u01b0\u1edbng d\u1eabn, b\u1ea1n s\u1ebd s\u1edbm k\u1ebft th\u00fac trong <code>tutorial hell</code>. B\u1ea1n s\u1ebd kh\u00f4ng ph\u00e1t tri\u1ec3n c\u00e1c k\u0129 n\u0103ng gi\u1ea3i quy\u1ebft v\u1ea5n \u0111\u1ec1 , \u0111i\u1ec1u c\u1ea7n thi\u1ebft \u0111\u1ec3 tr\u1edf th\u00e0nh m\u1ed9t nh\u00e0 ph\u00e1t tri\u1ec3n. Khi b\u1ea1n c\u1ed1 g\u1eafng build d\u1ef1 \u00e1n c\u1ee7a b\u1ea1n, b\u1ea1n s\u1ebd kh\u00f4ng bi\u1ebft b\u1eaft \u0111\u1ea7u t\u1eeb \u0111\u00e2u. C\u1ea3m gi\u00e1c nh\u01b0 l\u00e0 b\u1ea1n d\u00f9ng qu\u00e1 nhi\u1ec1u th\u1eddi gian v\u00e0o vi\u1ec7c th\u1ef1c h\u00e0nh m\u00e0 kh\u00f4ng h\u1ec1 ph\u00e1t tri\u1ec3n b\u1ea5t k\u1ef3 k\u1ef9 n\u0103ng h\u1eefu h\u00ecnh n\u00e0o.</p> </li> <li> <p>B\u00ean c\u1ea1nh \u0111\u00f3, n\u1ebfu b\u1ea1n ch\u1ec9 t\u1eadp trung v\u00e0o h\u1ecdc t\u1eadp kh\u00f4ng c\u00f3 h\u01b0\u1edbng d\u1eabn. B\u1ea1n s\u1ebd h\u1ecdc m\u00e3i m\u00e3i. B\u1ea1n c\u1ea7n ph\u00e1t minh l\u1ea1i m\u1ecdi b\u00e1nh xe, d\u00e0nh c\u1ea3 ng\u00e0y th\u1eadm ch\u00ed c\u1ea3 tu\u1ea7n \u0111\u1ec3 gi\u1ea3i quy\u1ebft v\u1ea5n \u0111\u1ec1 th\u1ef1c t\u1ebf \u0111\u00e3 \u0111\u01b0\u1ee3c gi\u1ea3i quy\u1ebft. \u0110\u00f3 l\u00e0 m\u1ed9t con \u0111\u01b0\u1eddng d\u00e0i v\u00e0 \u0111\u1ea7y kh\u00f3 kh\u0103n. Trong tr\u01b0\u1eddng h\u1ee3p x\u1ea5u nh\u1ea5t b\u1ea1n s\u1ebd b\u1ecf cu\u1ed9c, b\u1ecb thuy\u1ebft ph\u1ee5c ( \u0111i\u1ec1u n\u00e0y kh\u00f4ng ch\u00ednh x\u00e1c!) r\u1eb1ng b\u1ea1n kh\u00f4ng \u0111\u1ee7 th\u00f4ng minh \u0111\u1ec3 l\u00e0m n\u00f3.</p> </li> <li> <p>M\u1ed9t v\u00e0i kh\u00f3a h\u1ecdc nh\u1eadn th\u1ee9c \u0111\u01b0\u1ee3c s\u1ef1 ph\u00e2n chia n\u00e0y v\u00e0 s\u1ebd gi\u00e0nh c\u01a1 h\u1ed9i cho vi\u1ec7c h\u1ecdc kh\u00f4ng c\u00f3 h\u01b0\u1edbng d\u1eabn. Nh\u1eefng th\u1ee9 nh\u01b0 m\u1ee5c ti\u00eau k\u00e9o d\u00e0i, th\u1eed nghi\u1ec7m suy ngh\u0129, b\u00e0i t\u1eadp th\u1eed th\u00e1ch. Gi\u00e1 nh\u01b0 nh\u1eefng t\u00e0i nguy\u00ean n\u00e0y ng\u00e0y c\u00e0ng ph\u1ed5 bi\u1ebfn h\u01a1n.</p> </li> <li> <p>C\u00f9ng xem m\u1ed9t v\u00e0i \u00fd t\u01b0\u1edfng cho vi\u1ec7c k\u1ebft h\u1ee3p gi\u1eefa h\u1ecdc kh\u00f4ng c\u00f3 h\u01b0\u1edbng d\u1eabn trong c\u00e1c t\u00e0i li\u1ec7u h\u1ecdc c\u00f3 h\u01b0\u1edbng d\u1eabn.</p> </li> </ul>"},{"location":"blog/2021/11/11/how-to-learn-stuff-quickly/#co-tinh-mac-loi","title":"C\u1ed1 t\u00ecnh m\u1eafc l\u1ed7i","text":"<ul> <li> <p>N\u1ebfu b\u1ea1n gi\u1ed1ng t\u00f4i, b\u1ea1n s\u1ebd kh\u00f4ng mu\u1ed1n t\u1ea1o ra l\u1ed7i. B\u1ea1n mu\u1ed1n m\u1ecdi th\u1ee9 th\u1eadt ho\u00e0n h\u1ea3o, ngay t\u1eeb l\u1ea7n \u0111\u1ea7u ti\u00ean.</p> </li> <li> <p>T\u01b0 duy n\u00e0y th\u01b0\u1eddng h\u1eefu d\u1ee5ng trong cu\u1ed9c s\u1ed1ng, v\u00e0 c\u00e1c l\u0129nh v\u1ef1c kh\u00e1c. N\u1ebfu b\u1ea1n l\u00e0m vi\u1ec7c nh\u01b0 m\u1ed9t th\u1ee3 c\u01a1 kh\u00ed \u00f4 t\u00f4, sai l\u1ea7m c\u00f3 th\u1ec3 ti\u00eau t\u1ed1n c\u1ea3 tr\u0103m $ c\u1ee7a c\u00e1c b\u1ed9 ph\u1eadn. N\u1ebfu b\u1ea1n l\u00e0 m\u1ed9t nha s\u0129, m\u1ed9t s\u01a1 xu\u1ea5t c\u00f3 th\u1ec3 l\u00e0m h\u1ecfng n\u1ee5 c\u01b0\u1eddi c\u1ee7a ai \u0111\u00f3.</p> </li> <li> <p>Tuy nhi\u00ean v\u1edbi ph\u00e1t tri\u1ec3n ph\u1ea7n m\u1ec1m, c\u00e1c sai l\u1ea7m l\u00e0 mi\u1ec5n ph\u00ed. N\u1ebfu b\u1ea1n t\u1ea1o ra l\u1ed7i, b\u1ea1n c\u00f3 th\u1ec3 <code>Ctrl Z</code>, thay \u0111\u1ed5i code, v\u00e0 th\u1eed l\u1ea1i. Ch\u00fang ta th\u1eadm ch\u00ed c\u00f2n c\u00f3 c\u1ea3 th\u00f4ng b\u00e1o l\u1ed7i h\u1eefu \u00edch ( \u0111\u00f4i khi) ch\u1ec9 cho ch\u00fang ta \u0111\u00fang h\u01b0\u1edbng. \u0110\u00e2y l\u00e0 m\u1ed9t \u0111i\u1ec1u xa x\u1ec9 \u0111\u00e1ng kinh ng\u1ea1c, kh\u00f4ng ph\u1ea3i th\u1ee9 ch\u00fang ta \u0111\u00e3 t\u1eadn d\u1ee5ng \u0111\u1ee7.</p> </li> <li> <p>Khi t\u00f4i l\u00e0m theo h\u01b0\u1edbng d\u1eabn, t\u00f4i th\u00edch vui \u0111\u00f9a v\u1edbi code. Thay v\u00ec copy / paste nguy\u00ean v\u0103n code, h\u00e3y th\u1eed nghi\u1ec7m v\u1edbi n\u00f3: \u0110i\u1ec1u g\u00ec s\u1ebd x\u1ea3y ra n\u1ebfu b\u1ea1n x\u00f3a b\u1edbt m\u1ed9t v\u00e0i d\u00f2ng ? ho\u1eb7c thay \u0111\u1ed5i m\u1ed9t v\u00e0i gi\u00e1 tr\u1ecb ?</p> </li> <li> <p>T\u00f4i th\u1eed v\u00e0 h\u00e0nh \u0111\u1ed9ng nh\u01b0 m\u1ed9t nh\u00e0 khoa h\u1ecdc. N\u1ebfu c\u00f3 gi\u1ea3 thi\u1ebft v\u1ec1 c\u00e1ch th\u1ee9c ho\u1ea1t \u0111\u1ed9ng c\u1ee7a code, t\u00f4i ki\u1ec3m tra gi\u1ea3 thi\u1ebft \u0111\u00f3 b\u1eb1ng c\u00e1ch thay \u0111\u1ed5i code, v\u00e0 xem li\u1ec7u ch\u01b0\u01a1ng tr\u00ecnh c\u00f3 l\u1ed7i nh\u01b0 c\u00e1ch t\u00f4i mong \u0111\u1ee3i kh\u00f4ng? Khi ph\u00e1t hi\u1ec7n ra gi\u1ea3 thi\u1ebft c\u1ee7a t\u00f4i c\u00f3 sai s\u00f3t, t\u00f4i s\u1ebd ki\u1ec3m tra l\u1ea1i v\u00e0 c\u00f3 th\u1ec3 t\u00ecm ki\u1ebfm tr\u00ean google. Ho\u1eb7c th\u00eam n\u00f3 v\u00e0o danh s\u00e1ch `nh\u1eefng \u0111i\u1ec1u c\u1ea7n kh\u00e1m ph\u00e1 sau\", n\u1ebfu v\u1ea5n \u0111\u1ec1 kh\u00f4ng th\u1ec3 t\u00ecm ra trong kho\u1ea3ng th\u1eddi gian ng\u1eafn.</p> </li> <li> <p>Qu\u00e1 tr\u00ecnh n\u00e0y gi\u00fap ch\u00fang ta tr\u00e1nh \u0111\u01b0\u1ee3c kh\u1ecfi vi\u1ec7c copy/paste code m\u00e0 kh\u00f4ng hi\u1ec3u code l\u00e0m g\u00ec hay t\u1ea1i sao ch\u00fang ta l\u1ea1i l\u00e0m v\u1eady.</p> </li> <li> <p>H\u1ecdc t\u1eadp l\u00e0 m\u1ed9t qu\u00e1 tr\u00ecnh ch\u1ee7 \u0111\u1ed9ng. L\u1eafp r\u00e1p l\u1ea1i code gi\u00fap ch\u00fang ta x\u00e2y d\u1ef1ng m\u00f4 h\u00ecnh nh\u1eefng g\u00ec \u0111ang di\u1ec5n ra.</p> </li> </ul>"},{"location":"blog/2021/11/11/how-to-learn-stuff-quickly/#mo-rong-huong-dan","title":"M\u1edf r\u1ed9ng h\u01b0\u1edbng d\u1eabn","text":"<ul> <li>\u0110o\u1ea1n n\u00e0y t\u00e1c gi\u1ea3 l\u1ea5y v\u00ed d\u1ee5 v\u1ec1 React game tic-tac-toe m\u00ecnh s\u1ebd skip ph\u1ea7n n\u00e0y.</li> </ul>"},{"location":"blog/2021/11/11/how-to-learn-stuff-quickly/#xay-dung-cac-du-an-lien-quan","title":"X\u00e2y d\u1ef1ng c\u00e1c d\u1ef1 \u00e1n li\u00ean quan","text":"<ul> <li> <p>Khi b\u1ea1n ho\u00e0n th\u00e0nh game <code>tic-tac-toe</code>, b\u1ea1n s\u1ebd c\u00f3 th\u1ec3 ko ch\u1eafc ch\u1eafn l\u00e0m g\u00ec ti\u1ebfp theo.</p> </li> <li> <p>Tr\u01b0\u1edbc khi nh\u1ea3y ngay v\u00e0o m\u1ed9t h\u01b0\u1edbng d\u1eabn kh\u00e1c, th\u1eed x\u00e2y d\u1ef1ng l\u1ea1i m\u1ed9t d\u1ef1 \u00e1n t\u01b0\u01a1ng t\u1ef1 t\u1eeb \u0111\u1ea7u c\u00f3 th\u1ec3 l\u00e0 m\u1ed9t \u00fd t\u01b0\u1edfng t\u1ed1t.</p> </li> <li> <p>V\u00ed d\u1ee5 b\u1ea1n c\u00f3 th\u1ec3 l\u00e0m m\u1ed9t bingo game! B\u1ea1n c\u00f3 th\u1ec3 s\u1ebd t\u1eadn d\u1ee5ng c\u00e1c k\u1ef9 n\u0103ng m\u1edbi h\u1ecdc \u0111\u01b0\u1ee3c c\u1ee7a m\u00ecnh, nh\u01b0ng kh\u00e1c \u0111i m\u1ed9t ch\u00fat. B\u1ea1n s\u1ebd g\u1eb7p m\u1ed9t s\u1ed1 v\u1ea5n \u0111\u1ec1 b\u1ea1n kh\u00f4ng bi\u1ebft ph\u1ea3i l\u00e0m n\u00f3 nh\u01b0 th\u1ebf n\u00e0o, \u0111\u01a1n gi\u1ea3n v\u00ec n\u00f3 ko \u0111\u01b0\u1ee3c gi\u1edbi thi\u1ec7u trong h\u01b0\u1edbng d\u1eabn. B\u1ea1n c\u00f3 th\u1ec3 th\u1eed t\u00ecm ki\u1ebfm tr\u00ean google \u0111\u1ec3 t\u00ecm gi\u1ea3i ph\u00e1p.</p> </li> <li> <p>N\u1ebfu b\u1ea1n th\u1ef1c s\u1ef1 ko gi\u1ea3i quy\u1ebft \u0111\u01b0\u1ee3c. L\u00e0m th\u00eam c\u00e1c tutorial kh\u00e1c, v\u00e0 quay tr\u1edf l\u1ea1i ki\u1ec3m tra sau xem li\u1ec7u b\u1ea1n \u0111\u00e3 gi\u1ea3i quy\u1ebft \u0111\u01b0\u1ee3c v\u1ea5n \u0111\u1ec1 r\u1ed3i hay ch\u01b0a.</p> </li> <li> <p>Chi\u1ebfn l\u01b0\u1ee3c n\u00e0y \u0111\u01b0\u1ee3c g\u1ecdi l\u00e0 <code>one on, one off</code>. S\u1eed d\u1ee5ng h\u01b0\u1edbng d\u1eabn d\u1ef1ng m\u1ed9t d\u1ef1 \u00e1n, s\u1eed d\u1ee5ng c\u00f9ng th\u1eddi gian \u0111\u00f3 t\u1ea1o m\u1ed9t project t\u01b0\u01a1ng t\u1ef1 nh\u01b0ng kh\u00f4ng c\u00f3 h\u01b0\u1edbng d\u1eabn. N\u1ebfu h\u01b0\u1edbng d\u1eabn ch\u1ec9 b\u1ea1n c\u00e1ch build m\u1ed9t Intagram clone, th\u1eed build m\u1ed9t Twitter clone xem sao.</p> </li> </ul>"},{"location":"blog/2021/11/11/how-to-learn-stuff-quickly/#tu-duong-tu-duy","title":"Tu d\u01b0\u1ee1ng t\u01b0 duy","text":"<ul> <li> <p>M\u1ed9t v\u00e0i n\u0103m tr\u01b0\u1edbc t\u00f4i \u0111i ch\u01a1i <code>bowling</code> v\u1edbi m\u1ed9t v\u00e0i ng\u01b0\u1eddi b\u1ea1n.</p> </li> <li> <p>T\u00f4i ch\u01a1i ko th\u1ef1c s\u1ef1 t\u1ed1t. H\u00e2\u00f9 h\u1ebft c\u00e1c qu\u1ea3 b\u00f3ng c\u1ee7a t\u00f4i \u0111i xu\u1ed1ng r\u00e3nh. Cu\u1ed1i bu\u1ed5i \u0111i ch\u01a1i t\u00f4i c\u00f3 s\u1ed1 \u0111i\u1ec3m k\u00e9m nh\u1ea5t v\u00e0 k\u00e9m xa so v\u1edbi ph\u1ea7n c\u00f2n l\u1ea1i.</p> </li> <li> <p>C\u00f3 hai c\u00e1ch \u0111\u1ec3 n\u00f3i v\u1ec1 vi\u1ec7c n\u00e0y:</p> </li> <li> <p>\u0110\u01a1n gi\u1ea3n l\u00e0 t\u00f4i ko gi\u1ecfi \u1edf m\u00f4n <code>bowling</code>, v\u00e0 s\u1ebd kh\u00f4ng bao gi\u1edd. <code>Bowling</code> ch\u1ec9 \u0111\u01a1n gi\u1ea3n kh\u00f4ng d\u00e0nh cho t\u00f4i.</p> </li> <li> <p>T\u00f4i kh\u00f4ng gi\u1ecfi <code>bowling</code>, n\u1ebfu mu\u1ed1n t\u00f4i c\u00f3 th\u1ec3 tr\u1edf th\u00e0nh m\u1ed9t ng\u01b0\u1eddi ch\u01a1i bowling xu\u1ea5t s\u1eafc.</p> </li> <li> <p>C\u00f3 m\u1ed9t \u0111i\u1ec1u ti\u00ean tri cho s\u1ef1 l\u00fd gi\u1ea3i n\u00e0y: b\u1ea5t k\u1ef3 c\u00e1ch gi\u1ea3i th\u00edch n\u00e0o b\u1ea1n ch\u1ecdn \u0111\u1ec1u s\u1ebd \u0111\u00fang. N\u1ebfu b\u1ea1n ngh\u0129 level bowling c\u1ee7a b\u1ea1n l\u00e0 c\u1ed1 \u0111\u1ecbnh th\u00ec n\u00f3 s\u1ebd nh\u01b0 th\u1ebf. N\u1ebfu b\u1ea1n tin b\u1ea1n c\u00f3 th\u1ec3 c\u1ea3i thi\u1ec7n, b\u1ea1n s\u1ebd!</p> </li> <li> <p>N\u1ebfu b\u1ea1n mu\u1ed1n h\u1ecdc c\u00e1c k\u0129 n\u0103ng m\u1edbi m\u1ed9t c\u00e1ch nhanh ch\u00f3ng, \u0111i\u1ec1u t\u1ed1i quan tr\u1ecdng l\u00e0 b\u1ea1n ph\u1ea3i trau d\u1ed3i t\u01b0 duy \u0111\u00fang \u0111\u1eafn.</p> </li> <li> <p>M\u1ecdi vi\u1ec7c kh\u00f4ng bao gi\u1edd su\u00f4n s\u1ebb trong ph\u00e1t tri\u1ec3n ph\u1ea7n m\u1ec1m. Ch\u00fang ta s\u1ebd c\u1ea7n m\u1ed9t b\u1ea3n v\u00e1 l\u00e0 \u0111i\u1ec1u kh\u00f4ng th\u1ec3 tr\u00e1nh kh\u1ecfi khi code kh\u00f4ng ho\u1ea1t \u0111\u1ed9ng nh\u01b0 ch\u00fang ta mong mu\u1ed1n.</p> </li> <li> <p>\u0110i\u1ec1u n\u00e0y c\u00f3 th\u1ec3 d\u1eabn t\u1edbi m\u1ed9t v\u00f2ng xo\u00e1y \u0111i xu\u1ed1ng -- m\u1ed9t v\u00f2ng xo\u00e1y \u0111\u1ea7y th\u1ea5t v\u1ecdng, thi\u1ebfu t\u1ef1 tin v\u00e0 h\u1ed9i ch\u1ee9ng k\u1ebb m\u1ea1o danh -- ho\u1eb7c n\u00f3 c\u00f3 th\u1ec3 l\u00e0 m\u1ed9t c\u01a1 h\u1ed9i h\u1ecdc t\u1eadp tuy\u1ec7t v\u1eddi. Kh\u00f4ng c\u00f3 g\u00ec gi\u00fap b\u1ea1n h\u1ecdc nhanh h\u01a1n m\u1ed9t th\u00f4ng b\u00e1o l\u1ed7i kh\u00f3 hi\u1ec3u, n\u1ebfu b\u1ea1n c\u00f3 t\u01b0 duy \u0111\u00fang \u0111\u1eafn.</p> </li> <li> <p>Th\u00e0nh th\u1ef1c th\u00ec, <code>ch\u00fang ta h\u1ecdc \u0111\u01b0\u1ee3c nhi\u1ec1u h\u01a1n t\u1eeb \u0111\u1ea5u tranh v\u00e0 th\u1ea5t b\u1ea1i, h\u01a1n l\u00e0 th\u00e0nh c\u00f4ng kh\u00f4ng n\u1ed7 l\u1ef1c</code>. V\u1edbi m\u1ed9t t\u01b0 duy ph\u00e1t tri\u1ec3n, cu\u1ed9c \u0111\u1ea5u tranh c\u00f3 th\u1ec3 th\u1ef1c s\u1ef1 kh\u00f4ng th\u00fa v\u1ecb, nh\u01b0ng n\u00f3 mang l\u1ea1i c\u1ea3m gi\u00e1c hi\u1ec7u qu\u1ea3, nh\u01b0 m\u1ed9t bu\u1ed5i luy\u1ec7n t\u1eadp t\u1ed1t.</p> </li> <li> <p>H\u1ecdc th\u00eam v\u1ec1 nu\u00f4i d\u01b0\u1ee1ng m\u1ed9t t\u01b0 duy ph\u00e1t tri\u1ec3n.</p> </li> </ul>"},{"location":"blog/2021/11/11/how-to-learn-stuff-quickly/#muc-tieu-va-ong-luc","title":"M\u1ee5c ti\u00eau v\u00e0 \u0111\u1ed9ng l\u1ef1c","text":"<ul> <li> <p>Ch\u00fang ta \u0111ang s\u1ed1ng trong m\u1ed9t th\u1ebf gi\u1edbi truy\u1ec1n th\u00f4ng c\u01b0\u1eddng \u0111i\u1ec7u, v\u00e0 r\u1ea5t d\u1ec5 c\u1ea3m th\u1ea5y \u00e1p l\u1ef1c khi ph\u1ea3i c\u1eadp nh\u1eadt, ph\u1ea3i h\u1ecdc m\u1ecdi th\u01b0 vi\u1ec7n JS m\u1edbi n\u1ed5i tr\u00ean Twitter.</p> </li> <li> <p>C\u00e1 nh\u00e2n t\u00f4i m\u1ed7i khi c\u1ed1 l\u00e0m \u0111i\u1ec1u n\u00e0y, t\u00f4i \u0111\u1ec1u kh\u00f4ng th\u00e0nh c\u00f4ng.</p> </li> <li> <p>T\u00f4i ch\u1ec9 kh\u00f4ng c\u00f3 \u0111\u1ed9ng c\u01a1 \u0111\u1eb7c bi\u1ec7t, \u0111\u1ec3 h\u1ecdc v\u00ec l\u1ee3i \u00edch c\u1ee7a vi\u1ec7c h\u1ecdc. \u0110\u1ec3 lu\u00f4n gi\u1eef \u0111\u1ed9ng l\u1ef1c, t\u00f4i c\u1ea7n c\u00f3 m\u1ee5c ti\u00eau c\u1ee5 th\u1ec3 v\u00e0 th\u00fa v\u1ecb trong t\u00e2m tr\u00ed.</p> </li> <li> <p>V\u00ed d\u1ee5 trong v\u00e0i n\u0103m tr\u01b0\u1edbc: t\u00f4i kh\u00e1m ph\u00e1 ra Beat Saber, m\u1ed9t VR video game. Trong game n\u00e0y b\u1ea1n s\u1ebd t\u1ea5n c\u00f4ng m\u1ed9t block v\u1edbi lightsabers, \u0111\u01b0\u1ee3c h\u1eb9n gi\u1edd theo \u00e2m nh\u1ea1c ( search Beat Saber cho d\u1ec5 h\u00ecnh dung t\u00e1c gi\u1ea3 \u0111ang n\u00f3i g\u00ec :D). M\u1ed7i b\u00e0i h\u00e1t c\u00f3 m\u1ed9t v\u0169 \u0111\u1ea1o ri\u00eang.</p> </li> <li> <p>Ph\u1ea7n m\u1ec1m hi\u1ec7n c\u00f3 cho ph\u00e9p ng\u01b0\u1eddi d\u00f9ng t\u1ea1o ra v\u0169 \u0111\u1ea1o ri\u00eang m\u00ecnh ( \u0111\u01b0\u1ee3c bi\u1ebft \u0111\u1ebfn nh\u01b0 <code>maps</code>), nh\u01b0ng t\u00f4i ko ph\u1ea3i fan c\u1ee7a n\u00f3. T\u00f4i mu\u1ed1n t\u1ef1 x\u00e2y d\u1ef1ng map editor cho Beat Saber.</p> </li> <li> <p>Sau m\u1ed9t v\u00e0i th\u00e1ng l\u00e0m vi\u1ec7c c\u1ef1c nh\u1ecdc v\u00e0 \u0111\u00f4i khi b\u1ef1c b\u1ed9i, t\u00e1c gi\u1ea3 \u0111\u00e3 \u0111\u1ea1t \u0111\u01b0\u1ee3c m\u1ee5c ti\u00eau c\u1ee7a m\u00ecnh. ( Xem trang g\u1ed1c \u0111\u1ec3 bi\u1ebft).</p> </li> <li> <p>Tr\u01b0\u1edbc khi ho\u00e0n th\u00e0nh project, t\u00e1c gi\u1ea3 kh\u00f4ng c\u00f3 kinh nghi\u1ec7m v\u1ec1 3D, \u1ed5ng ph\u1ea3i h\u1ecdc c\u1ea3 t\u1ea5n WebGL, Three.js, v\u00e0 react-three-fiber. H\u1ecdc th\u00ec kh\u00f3, v\u00e0 d\u00f9 cho t\u01b0 duy ph\u00e1t tri\u1ec3n c\u1ee7a b\u1ea1n \u0111\u01b0\u1ee3c trau d\u1ed3i t\u1edbi \u0111\u00e2u, s\u1ebd lu\u00f4n c\u00f3 nh\u1eefng ng\u00e0y m\u00e0 m\u1ecdi th\u1ee9 kh\u00f4ng di\u1ec5n ra t\u1ed1t \u0111\u1eb9p.</p> </li> <li> <p>Nh\u01b0ng v\u00ec t\u00f4i c\u00f3 m\u1ed9t m\u1ee5c ti\u00eau c\u1ee5 th\u1ec3, \u0111i\u1ec1u m\u00e0 t\u00f4i th\u1ef1c s\u1ef1 mu\u1ed1n, t\u00f4i \u0111\u00e3 c\u00f3 th\u1ec3 v\u01b0\u1ee3t qua th\u1ea5t v\u1ecdng v\u00e0 ti\u1ebfp t\u1ee5c ti\u1ebfn b\u1ed9. N\u1ebfu t\u00f4i h\u1ecdc nh\u1eefng \u0111i\u1ec1u \u0111\u00f3 cho vui, ho\u1eb7c ch\u1ec9 v\u00ec n\u00f3 nh\u00ecn c\u00f3 v\u1ebb t\u1ed1t h\u01a1n tr\u00ean CV, t\u00f4i \u0111\u00e3 c\u00f3 th\u1ec3 t\u1eeb b\u1ecf n\u00f3 s\u1edbm.</p> </li> <li> <p>Nh\u1eefng ng\u01b0\u1eddi kh\u00e1c nhau \u0111\u01b0\u1ee3c th\u00fac \u0111\u1ea9y b\u1edfi nh\u1eefng th\u1ee9 kh\u00e1c nhau, v\u00ec v\u1eady t\u00f4i kh\u00f4ng \u00e1m ch\u1ec9 b\u1ea1n ph\u1ea3i t\u00ecm m\u1ed9t project th\u00edch h\u1ee3p \u0111\u1ec3 build. Nh\u01b0ng t\u00f4i ngh\u0129 \u0111i\u1ec1u quan tr\u1ecdng l\u00e0 b\u1ea1n ph\u1ea3i c\u00f3 m\u1ee5c ti\u00eau trong \u0111\u1ea7u, \u0111i\u1ec1u g\u00ec \u0111\u00f3 b\u1ea1n th\u1ef1c s\u1ef1 th\u00edch th\u00fa, v\u00e0 lu\u00f4n suy ngh\u0129 v\u1ec1. N\u1ebfu kh\u00f4ng s\u1ebd kh\u00f3 duy tr\u00ec \u0111\u1ed9ng l\u1ef1c c\u1ea7n thi\u1ebft khi ph\u1ea7n th\u00fa v\u1ecb ban \u0111\u1ea7u qua \u0111i.</p> </li> </ul>"},{"location":"blog/2021/11/11/how-to-learn-stuff-quickly/#ghi-nho-nhung-ieu","title":"Ghi nh\u1edb nh\u1eefng \u0111i\u1ec1u","text":"<ul> <li> <p>T\u00f4i c\u00f3 m\u1ed9t tr\u00ed nh\u1edb kh\u00e1 t\u1ec7 ( t\u00e1c gi\u1ea3 ko ph\u1ea3i d\u1ecbch gi\u1ea3 :v)</p> </li> <li> <p>\u0110i\u1ec1u n\u00e0y c\u00f3 m\u1ed9t ch\u00fat v\u1ea5n \u0111\u1ec1, th\u1eadt kh\u00f3 \u0111\u1ec3 h\u1ecdc m\u1ecdi th\u1ee9, n\u1ebfu b\u1ea1n kh\u00f4ng th\u1ec3 nh\u1edb n\u00f3. May m\u1eafn l\u00e0 t\u00f4i c\u00f3 m\u1ed9t h\u1ec7 th\u1ed1ng: <code>kho\u1ea3ng c\u00e1ch l\u1eb7p l\u1ea1i - spaced repetition</code></p> </li> <li> <p>\u0110\u00e2y l\u00e0 \u00fd t\u01b0\u1edfng ch\u00ednh c\u1ee7a kho\u1ea3ng c\u00e1ch l\u1eb7p l\u1ea1i: \u0110\u1ec3 c\u1ee7ng c\u1ed1 m\u1ed9t tr\u00ed nh\u1edb, b\u1ea1n c\u1ea7n truy c\u1eadp n\u00f3 v\u00ec n\u00f3 s\u1eafp bi\u1ebfn m\u1ea5t. M\u1ed7i khi b\u1ea1n c\u1ee7ng c\u1ed1 m\u1ed9t tr\u00ed nh\u1edb n\u00f3 ch\u1ec9 k\u00e9o d\u00e0i th\u00eam m\u1ed9t ch\u00fat n\u1eefa.</p> </li> <li> <p>Nghe c\u00f3 v\u1ebb ph\u1ee9c t\u1ea1p, nh\u01b0ng c\u00f3 c\u00f4ng c\u1ee5 gi\u00fap b\u1ea1n theo d\u00f5i. C\u00e1 nh\u00e2n t\u00f4i s\u1eed d\u1ee5ng <code>leiter</code> box, m\u1ed9t h\u1ecdp v\u1eadt l\u00fd ch\u1ee9a v\u00e0i tr\u0103m th\u1ebb ch\u1ec9 m\u1ee5c, m\u1ed7i ng\u00e0y t\u00f4i xem m\u1ed9t v\u00e0i th\u1ebb.</p> </li> <li> <p>N\u1ebfu b\u1ea1n h\u1ee9ng th\u00fa v\u1edbi vi\u1ec7c h\u1ecdc <code>kho\u1ea3ng c\u00e1ch l\u1eb7p l\u1ea1i</code>. T\u00f4i khuy\u1ebfn ngh\u1ecb b\u1ea1n xem kh\u00f3a h\u1ecdc n\u00e0y c\u1ee7a Nicky Case: How to Remember Anything Forever-ish</p> </li> </ul>"},{"location":"blog/2021/11/11/how-to-learn-stuff-quickly/#xay-dung-thoi-quen-hang-ngay","title":"X\u00e2y d\u1ef1ng th\u00f3i quen h\u00e0ng ng\u00e0y","text":"<ul> <li> <p>Gi\u1ea3 s\u1eed ch\u00fang ta commit 7 ti\u1ebfng m\u1ed9t tu\u1ea7n \u0111\u1ec3 h\u1ecdc \u0111i\u1ec1u m\u1edbi. B\u1ea1n c\u00f3 ngh\u0129 s\u1ebd hi\u1ec7u qu\u1ea3 h\u01a1n n\u1ebfu ch\u00fang ta h\u1ecdc trong 7 ng\u00e0y m\u1ed7i ng\u00e0y m\u1ed9t ti\u1ebfng so v\u1edbi 7 ti\u1ebfng v\u00e0o ng\u00e0y Ch\u1ee7 Nh\u1eadt.</p> </li> <li> <p>N\u00f3i c\u00e1ch kh\u00e1c, t\u00f4i \u0111\u00e3 th\u00e0nh c\u00f4ng h\u01a1n, khi d\u00e0nh m\u1ed9t l\u01b0\u1ee3ng th\u1eddi gian nh\u1ecf th\u01b0\u1eddng xuy\u00ean h\u01a1n.</p> </li> <li> <p>T\u00f4i nh\u1eadn ra r\u1eb1ng kh\u00f4ng ph\u1ea3i ai c\u0169ng \u0111\u1ee7 \u0111i\u1ec1u ki\u1ec7n \u0111\u1ec3 th\u1ef1c hi\u1ec7n theo c\u00e1ch n\u00e0y, nh\u01b0ng n\u1ebfu b\u1ea1n c\u00f3 th\u1ec3 qu\u1ea3n l\u00fd n\u00f3, t\u00f4i th\u1ef1c s\u1ef1 khuy\u00ean b\u1ea1n n\u00ean c\u1ed1 g\u1eafng d\u00e0nh m\u1ed9t \u00edt th\u1eddi gian m\u1ed7i ng\u00e0y cho th\u1ee9 m\u00e0 b\u1ea1n \u0111ang c\u1ed1 g\u1eafng h\u1ecdc h\u1ecfi.</p> </li> <li> <p>T\u00f4i c\u00f3 m\u1ed9t s\u1ed1 gi\u1ea3 thuy\u1ebft l\u00fd gi\u1ea3i t\u1ea1i sao n\u00f3 l\u1ea1i hi\u1ec7u qu\u1ea3 h\u01a1n \u0111\u1ed1i v\u1edbi t\u00f4i:</p> </li> <li> <p>H\u1eb1ng \u0111\u00eam, b\u1ed9 n\u00e3o x\u1eed l\u00fd v\u00e0 l\u01b0u gi\u1eef nh\u1eefng \u0111i\u1ec1u b\u1ea1n \u0111\u00e3 h\u1ecdc trong ng\u00e0y. T\u00f4i mu\u1ed1n t\u1eadn d\u1ee5ng \u0111i\u1ec1u n\u00e0y h\u00e0ng ng\u00e0y thay v\u00ec tu\u1ea7n m\u1ed9t l\u1ea7n.</p> </li> <li> <p>Do t\u00f4i th\u1ef1c h\u00e0nh h\u00e0ng ng\u00e0y, n\u00ean t\u00f4i c\u00f3 th\u1ec3 b\u1eaft \u0111\u1ea7u ngay t\u1ea1i n\u01a1i t\u00f4i \u0111ang d\u1eebng l\u1ea1i. M\u00e0 kh\u00f4ng h\u1ec1 t\u1ed1n th\u1eddi gian \u0111\u1ec3 nh\u1edb l\u1ea1i n\u00f3.</p> </li> <li> <p>Nh\u01b0 ch\u00fang ta \u0111\u00e3 n\u00f3i, n\u00f3 th\u1eadt kh\u00f3 kh\u0103n khi nh\u1eefng th\u1ee9 m\u1edbi m\u1ebb qua \u0111i. N\u1ebfu b\u1ea1n c\u00f3 th\u1ec3 bi\u1ebfn n\u00f3 th\u00e0nh th\u00f3i quen h\u00e0ng ng\u00e0y, b\u1ea1n kh\u00f4ng c\u1ea7n ph\u1ea3i lo l\u1eafng nhi\u1ec1u v\u1ec1 \u0111\u1ed9ng l\u1ef1c. N\u00f3 tr\u1edf th\u00e0nh \u0111i\u1ec1u b\u1ea1n ch\u1ec9 c\u1ea7n l\u00e0m, b\u1ea5t k\u1ec3 b\u1ea1n c\u1ea3m th\u1ea5y th\u1ebf n\u00e0o.</p> </li> </ul>"},{"location":"blog/2021/11/11/how-to-learn-stuff-quickly/#cong-khai-nhung-gi-hoc-uoc","title":"C\u00f4ng khai nh\u1eefng g\u00ec h\u1ecdc \u0111\u01b0\u1ee3c","text":"<ul> <li> <p>T\u00e1c gi\u1ea3 l\u00e0 m\u1ed9t fan c\u1ee7a <code>Swyx</code> Learn in Public.</p> </li> <li> <p>\u00dd t\u01b0\u1edfng ch\u00ednh l\u00e0 public nh\u1eefng g\u00ec b\u1ea1n h\u1ecdc \u0111\u01b0\u1ee3c, ch\u00fang s\u1ebd c\u00f3 \u00edch cho b\u1ea1n trong t\u01b0\u01a1ng lai. Khi b\u1ea1n kh\u00e1m ph\u00e1 ra \u0111i\u1ec1u g\u00ec \u0111\u00f3 m\u1edbi, ch\u00fang ta n\u00ean t\u1ea1o ra m\u1ed9t hi\u1ec7n v\u1eadt ghi l\u1ea1i n\u00f3 nh\u01b0 m\u1ed9t b\u00e0i blog, m\u1ed9t tweet, ho\u1eb7c m\u1ed9t \u0111o\u1ea1n video tr\u00ean Youtube.</p> </li> <li> <p>\u0110i\u1ec1u n\u00e0y nghe c\u00f3 v\u1ebb ngh\u1ecbch l\u00fd: T\u1ea1i sao l\u1ea1i d\u00e0nh th\u1eddi gian h\u1ecdc \u0111\u1ec3 vi\u1ebft blog? Li\u1ec7u \u0111i\u1ec1u \u0111\u00f3 c\u00f3 l\u00e3ng ph\u00ed th\u1eddi gian kh\u00f4ng ?</p> </li> <li> <p>C\u00f3 r\u1ea5t nhi\u1ec1u l\u1ee3i \u00edch khi public nh\u1eefng g\u00ec h\u1ecdc \u0111\u01b0\u1ee3c, d\u01b0\u1edbi \u0111\u00e2y l\u00e0 m\u1ed9t trong nh\u1eefng \u0111i\u1ec1u t\u00e1c gi\u1ea3 nh\u1eadn ra:</p> </li> <li> <p>B\u1ea1n \u0111\u00e3 bao gi\u1edd th\u1eed gi\u1ea3i th\u00edch \u0111i\u1ec1u g\u00ec cho ai \u0111\u00f3? Nh\u01b0ng th\u1eadt ra b\u1ea1n kh\u00f4ng hi\u1ec3u r\u00f5 n\u00f3 nh\u01b0 b\u1ea1n ngh\u0129. Vi\u1ebft blog c\u00f3 c\u00f9ng t\u00e1c d\u1ee5ng nh\u01b0 v\u1eady. \u0110\u00f3 l\u00e0 c\u00e1ch t\u1ed1t nh\u1ea5t \u0111\u1ec3 ph\u00e1t hi\u1ec7n ra sai s\u00f3t, l\u1ed7 h\u1ed5ng trong t\u01b0 duy c\u1ee7a b\u1ea1n v\u00e0 b\u1ea1n c\u00f3 th\u1ec3 fix n\u00f3.</p> </li> <li> <p>C\u1ea3m gi\u00e1c t\u1ed3i t\u1ec7 nh\u1ea5t tr\u00ean th\u1ebf gi\u1edbi l\u00e0 khi b\u1ea1n g\u1eb7p bug m\u00e0 b\u1ea1n bi\u1ebft r\u1eb1ng b\u1ea1n \u0111\u00e3 fix n\u00f3 tr\u01b0\u1edbc \u0111\u00f3, nh\u01b0ng b\u1ea1n kh\u00f4ng nh\u1edb \u0111\u01b0\u1ee3c r\u1eb1ng b\u1ea1n \u0111\u00e3 fix n\u00f3 nh\u01b0 th\u1ebf n\u00e0o. N\u1ebfu b\u1ea1n vi\u1ebft blog v\u1ec1 \u0111i\u1ec1u n\u00e0y. B\u1ea1n \u0111\u00e3 c\u00f3 th\u1ec3 c\u00f3 t\u00e0i li\u1ec7u v\u1ec1 n\u00f3 :D</p> </li> <li> <p>B\u1eb1ng c\u00e1ch chia s\u1ebb nh\u1eefng g\u00ec b\u1ea1n h\u1ecdc \u0111\u01b0\u1ee3c, b\u1ea1n tr\u1edf th\u00e0nh ng\u01b0\u1eddi t\u00edch c\u1ef1c trong c\u1ed9ng \u0111\u1ed3ng dev.B\u1ea1n c\u00f3 th\u1ec3 k\u1ebft b\u1ea1n v\u00e0 nh\u1eefng k\u1ebft n\u1ed1i. \u0110i\u1ec1u n\u00e0y c\u00f3 v\u1ebb vui v\u1ebb v\u00e0 th\u1ecfa m\u00e3n ( d\u1ecbch ngu qu\u00e1 :)) ) ch\u01b0a k\u1ec3 l\u1ee3i \u00edch khi t\u00ecm m\u1ed9t c\u00f4ng vi\u1ec7c m\u1edbi hay th\u00e0nh l\u1eadp m\u1ed9t doanh nghi\u1ec7p m\u1edbi.</p> </li> <li> <p>M\u1ed9t l\u1eddi c\u1ea3nh b\u00e1o: \u0111\u1eebng d\u00e0nh h\u00e0ng tu\u1ea7n \u0111\u1ec3 setup m\u1ed9t blog ho\u00e0n h\u1ea3o t\u1eeb \u0111\u1ea7u. H\u00e3y b\u1eaft \u0111\u1ea7u b\u1eb1ng c\u00e1ch public tr\u00ean c\u00e1c n\u1ec1n t\u1ea3ng nh\u01b0 github ch\u1eb3ng h\u1ea1n, hay th\u1eadm ch\u00ed ch\u1ec9 tr\u00ean Twitter. T\u00e1c gi\u1ea3 public h\u00e0ng t\u00e1 blogs tr\u00ean medium tr\u01b0\u1edbc khi t\u1ef1 build blog. N\u1ebfu b\u1ea1n c\u1ea3m th\u1ea5y th\u00edch th\u00fa v\u1edbi vi\u1ec7c c\u00f4ng khai nh\u1eefng g\u00ec h\u1ecdc \u0111\u01b0\u1ee3c, b\u1ea1n c\u00f3 th\u1ec3 chuy\u1ec3n sang blog c\u00e1 nh\u00e2n sau.</p> </li> </ul>"},{"location":"blog/2021/11/11/how-to-learn-stuff-quickly/#mang-luoi-cac-ki-nang","title":"M\u1ea1ng l\u01b0\u1edbi c\u00e1c k\u0129 n\u0103ng","text":"<ul> <li> <p>T\u00e1c gi\u1ea3 h\u1ecdc 3D illustration v\u00e0 n\u00f3 kh\u00f4ng ph\u1ea3i l\u00e0 m\u1ed9t k\u0129 n\u0103ng \u0111\u1ed9c l\u1eadp, n\u00f3 l\u00e0 m\u1ed9t t\u00e1 c\u00e1c k\u0129 n\u0103ng. M\u1ed9t v\u00e0i ch\u00fang nh\u01b0: t\u1ea1o 3D models, ho\u00e0n to\u00e0n m\u1edbi v\u1edbi t\u00e1c gi\u1ea3, v\u00e0 t\u00e1c gi\u1ea3 ph\u1ea3i h\u1ecdc t\u1eeb \u0111\u1ea7u. Nh\u01b0ng m\u1ed9t v\u00e0i ph\u1ea7n kh\u00e1c th\u00ec t\u00e1c gi\u1ea3 l\u1ea1i d\u00e3 c\u00f3 kinh nghi\u1ec7m.</p> </li> <li> <p>V\u00ed d\u1ee5 t\u00e1c gi\u1ea3 c\u00f3 s\u1edf th\u00edch nhi\u1ebfp \u1ea3nh. Nh\u1eefng n\u0103m tr\u01b0\u1edbc t\u00e1c gi\u1ea3 h\u1ecdc v\u1ec1 b\u1ed1 c\u1ee5c, c\u00e1ch s\u1eafp x\u1ebfp c\u00e1c th\u00e0nh ph\u1ea7n \u0111\u1ec3 c\u00f3 nh\u1eefng b\u1ee9c \u1ea3nh h\u1ea5p d\u1eabn. T\u00f4i ho\u00e0n to\u00e0n c\u00f3 th\u1ec3 d\u00f9ng k\u0129 n\u0103ng n\u00e0y khi s\u1eafp x\u1ebfp c\u00e1c \u0111\u1ed1i t\u01b0\u1ee3ng trong file render c\u1ee7a m\u00ecnh.</p> </li> <li> <p>\u0110\u00f3 l\u00e0 m\u1ed9t v\u00ed d\u1ee5 c\u1ee5 th\u1ec3.</p> </li> <li> <p>Tuy nhi\u00ean theo c\u00e1ch nh\u00ecn nh\u1eadn c\u1ee7a t\u00f4i, k\u0129 n\u0103ng gi\u1ed1ng nh\u01b0 s\u1ef1 gi\u00e0u c\u00f3. T\u00f4i c\u00e0ng h\u1ecdc \u0111\u01b0\u1ee3c nhi\u1ec1u k\u0129 n\u0103ng, t\u00f4i t\u00edch l\u0169y c\u00e0ng nhanh. \u00dd t\u01b0\u1edfng v\u00e0 k\u0129 thu\u1eadt thu th\u1eadp \u0111\u01b0\u1ee3c trong m\u1ed9t l\u0129nh v\u1ef1c c\u00f3 th\u1ec3 gi\u00fap \u00edch trong l\u0129nh v\u1ef1c kh\u00e1c.</p> </li> <li> <p>T\u00f4i kh\u00f4ng c\u00f3 \u00fd b\u1ea1n ph\u1ea3i tr\u1edf th\u00e0nh nh\u00e0 bi\u1ebft tu\u1ed1t. V\u1eabn \u0111\u00e1ng \u0111\u1ec3 c\u00f3 ki\u1ebfn th\u1ee9c chuy\u00ean m\u00f4n s\u00e2u. NH\u01afNG M\u1ea0NG L\u01af\u1edaI K\u0128 N\u0102NG C\u1ee6A B\u1ea0N C\u00c0NG R\u1ed8NG, L\u1ee2I TH\u1ebe C\u1ee6A B\u1ea0N C\u00c0NG L\u1edaN KHI B\u1ea0N H\u1eccC H\u1eceI \u0110I\u1ec0U G\u00cc \u0110\u00d3 M\u1edaI.</p> </li> <li> <p>Nah I'm good!</p> </li> </ul>"},{"location":"blog/2021/11/14/learn-in-public/","title":"Learn in public","text":"<ul> <li>B\u00e0i g\u1ed1c \u1edf \u0111\u00e2y</li> </ul>"},{"location":"blog/2021/11/14/learn-in-public/#cach-hoc-nhanh-nhat","title":"C\u00e1ch h\u1ecdc nhanh nh\u1ea5t","text":"<ul> <li> <p><code>C\u00e1ch x\u00e2y d\u1ef1ng chuy\u00ean m\u00f4n, m\u1ea1ng l\u01b0\u1edbi v\u00e0 b\u1ed9 n\u00e3o th\u1ee9 hai c\u1ee7a b\u1ea1n nhanh nh\u1ea5t</code></p> </li> <li> <p>N\u1ebfu c\u00f3 m\u1ed9t quy t\u1eafc v\u00e0ng, \u0111\u00f3 ch\u00ednh l\u00e0 quy t\u1eafc n\u00e0y, v\u00ec v\u1eady t\u00f4i \u0111\u1eb7t n\u00f3 l\u00ean \u0111\u1ea7u. T\u1ea5t c\u1ea3 c\u00e1c quy t\u1eafc kh\u00e1c \u0111\u1ec1u xoay quanh \u0111i\u1ec1u n\u00e0y.</p> </li> </ul>"},{"location":"blog/2021/11/14/learn-in-public/#rule-1","title":"Rule #1","text":"<ul> <li> <p>B\u1ea1n bi\u1ebft r\u1eb1ng b\u1ea1n s\u1ebd kh\u00f4ng bao gi\u1edd ho\u00e0n th\u00e0nh vi\u1ec7c h\u1ecdc. Nh\u01b0ng h\u1ea7u h\u1ebft m\u1ecdi ng\u01b0\u1eddi \u0111\u1ec1u h\u1ecdc trong \u00e2m th\u1ea7m v\u00e0 l\u1eb7ng l\u1ebd. H\u1ecd s\u1eed d\u1ee5ng n\u1ed9i dung m\u00e0 kh\u00f4ng h\u1ec1 t\u1ea1o ra b\u1ea5t k\u1ef3 n\u1ed9i dung n\u00e0o. Vi\u1ec7c \u0111\u00f3 v\u1eabn \u1ed5n th\u00f4i, nh\u01b0ng ch\u00fang ta \u1edf \u0111\u00e2y \u0111\u1ec3 n\u00f3i v\u1ec1 vi\u1ec7c n\u1eb1m trong nh\u00f3m h\u00e0ng \u0111\u1ea7u. Nh\u1eefng g\u00ec b\u1ea1n l\u00e0m \u1edf \u0111\u00e2y l\u00e0 <code>m\u1ed9t th\u00f3i quen t\u1ea1o ra s\u1ea3n ph\u1ea9m trong vi\u1ec7c h\u1ecdc</code>:</p> </li> <li> <p>Vi\u1ebft c\u00e1c blogs, h\u01b0\u1edbng d\u1eabn, v\u00e0 c\u00e1c cheatsheets.</p> </li> <li>Ph\u00e1t bi\u1ec3u t\u1ea1i c\u00e1c bu\u1ed5i g\u1eb7p m\u1eb7t v\u00e0 h\u1ed9i ngh\u1ecb.</li> <li>H\u1ecfi v\u00e0 tr\u1ea3 l\u1eddi c\u00e1c c\u00e2u h\u1ecfi tr\u00ean Stackoverflow hay Reddit.<code>Tr\u00e1nh</code> nh\u1eefng khu v\u01b0\u1eddn c\u00f3 t\u01b0\u1eddng bao quanh nh\u01b0 Slack hay Discord ch\u00fang kh\u00f4ng c\u00f4ng khai.</li> <li>T\u1ea1o videos tr\u00ean Youtube ho\u1eb7c Twitch stream.</li> <li>B\u1eaft \u0111\u1ea7u m\u1ed9t b\u1ea3n tin.</li> <li> <p>V\u1ebd phim ho\u1ea1t h\u00ecnh. (?) ( But people looove cartoons!!!)</p> </li> <li> <p>B\u1ea5t k\u1ec3 th\u1ee9 b\u1ea1n mu\u1ed1n l\u00e0 g\u00ec, <code>b\u1ea1n \u01b0\u1edbc b\u1ea1n c\u00f3 n\u00f3 khi b\u1ea1n \u0111ang h\u1ecdc h\u00e3y t\u1ea1o ra n\u00f3</code>. \u0110\u1eebng \u0111\u00e1nh gi\u00e1 k\u1ebft qu\u1ea3 c\u1ee7a m\u00ecnh b\u1eb1ng l\u01b0\u1ee3t clap(medium), retweet hay start hay upvote, ch\u1ec9 c\u1ea7n n\u00f3i v\u1edbi b\u1ea1n c\u1ee7a ba th\u00e1ng tr\u01b0\u1edbc. T\u00f4i gi\u1eef m\u1ed9t blog dev daily cho kh\u00f4ng ai kh\u00e1c ngo\u00e0i t\u00f4i.</p> </li> <li> <p>\u0110o\u00e1n xem n\u00e0o, kh\u00f4ng ph\u1ea3i l\u00e0 ti\u1ebfp c\u1eadn c\u00e0ng nhi\u1ec1u ng\u01b0\u1eddi c\u00e0ng t\u1ed1t v\u1edbi n\u1ed9i dung c\u1ee7a b\u1ea1n. N\u1ebfu b\u1ea1n c\u00f3 th\u1ec3 l\u00e0m \u0111i\u1ec1u n\u00e0y, tuy\u1ec7t, nh\u1edb t\u1edbi t\u00f4i khi b\u1ea1n n\u1ed5i ti\u1ebfng. Nh\u01b0ng r\u1ea5t c\u00f3 th\u1ec3 cho \u0111\u1ebfn nay ng\u01b0\u1eddi h\u01b0\u1edfng l\u1ee3i l\u1edbn nh\u1ea5t m\u00e0 b\u1ea1n c\u1ed1 g\u1eafng gi\u00fap \u0111\u1ee1 b\u1ea1n trong qu\u00e1 kh\u1ee9 l\u1ea1i l\u00e0 <code>ch\u00ednh b\u1ea1n trong t\u01b0\u01a1ng lai</code>. N\u1ebfu nh\u1eefng ng\u01b0\u1eddi kh\u00e1c \u0111\u01b0\u1ee3c l\u1ee3i \u0111i\u1ec1u n\u00e0y c\u0169ng th\u1eadt tuy\u1ec7t.</p> </li> <li> <p>Oh b\u1ea1n t\u01b0\u1edfng xong r\u1ed3i ? \u0110\u1eebng d\u1eebng \u1edf \u0111\u00f3:</p> </li> <li> <p>T\u1eadn h\u01b0\u1edfng m\u1ed9t video code ? Ti\u1ebfp c\u1eadn ng\u01b0\u1eddi n\u00f3i, ng\u01b0\u1eddi h\u01b0\u1edbng d\u1eabn c\u1ea3m \u01a1n h\u1ecd v\u00e0 \u0111\u1eb7t c\u00e2u h\u1ecfi.</p> </li> <li>Qu\u1ea3ng b\u00e1 cho c\u00e1c th\u01b0 vi\u1ec7n m\u00e0 b\u1ea1n s\u1eed d\u1ee5ng.</li> <li>T\u1ea1o ra c\u00e1c th\u01b0 vi\u1ec7n c\u1ee7a ri\u00eang b\u1ea1n m\u00e0 kh\u00f4ng ai s\u1ebd s\u1eed d\u1ee5ng bao gi\u1edd.</li> <li>Sao ch\u00e9p nh\u1eefng th\u1ee9 b\u1ea1n th\u00edch t\u1eeb \u0111\u1ea7u, \u0111\u1ec3 xem c\u00e1ch ch\u00fang ho\u1ea1t \u0111\u1ed9ng.</li> <li>D\u1ea1y c\u00e1c bu\u1ed5i h\u1ed9i th\u1ea3o.</li> <li> <p>\u0110i t\u1edbi c\u00e1c bu\u1ed5i h\u1ed9i th\u1ea3o v\u00e0 t\u00f3m t\u1eaft nh\u1eefng g\u00ec b\u1ea1n \u0111\u00e3 h\u1ecdc \u0111\u01b0\u1ee3c.</p> </li> <li> <p>N\u1ebfu b\u1ea1n c\u1ea3m th\u1ea5y m\u1ec7t m\u1ecfi v\u1edbi vi\u1ec7c t\u1ea1o ra nh\u1eefng th\u1ee9 d\u00f9ng m\u1ed9t l\u1ea7n, b\u1eaft \u0111\u1ea7u x\u00e2y d\u1ef1ng ki\u1ebfn th\u1ee9c n\u1ec1n t\u1ea3ng b\u1ec1n v\u1eefng, th\u1ee9 ph\u00e1t tri\u1ec3n d\u1ea7n theo th\u1eddi gian.</p> </li> <li> <p>Bi\u1ebfn ki\u1ebfn th\u1ee9c c\u1ee7a b\u1ea1n tr\u1edf th\u00e0nh open source: Nh\u01b0 l\u00e0 ghi l\u1ea1i nh\u1eefng g\u00ec b\u1ea1n \u0111\u00e3 l\u00e0m v\u00e0 v\u1ea5n \u0111\u1ec1 b\u1ea1n \u0111\u00e3 gi\u1ea3i quy\u1ebft.</p> </li> <li> <p>Ti\u00eau \u0111\u1ec1 cho quy t\u1eafc n\u00e0y c\u00f3 th\u1ec3 l\u00e0:  C\u1ed1 g\u1eafng h\u1ebft s\u1ee9c \u0111\u1ec3 l\u00e0m \u0111\u00fang, nh\u01b0ng \u0111\u1eebng lo l\u1eafng khi m\u1eafc sai l\u1ea7m . L\u1eb7p \u0111i l\u1eb7p l\u1ea1i. N\u1ebfu b\u1ea1n c\u1ea3m th\u1ea5y kh\u00f4ng tho\u1ea3i m\u00e1i, ho\u1eb7c nh\u01b0 m\u1ed9t k\u1ebb gi\u1ea3 d\u1ed1i, \u1ed5n th\u00f4i. B\u1ea1n \u0111ang th\u00fac \u0111\u1ea9y ch\u00ednh m\u00ecnh. \u0110\u1eebng cho r\u1eb1ng b\u1ea1n bi\u1ebft m\u1ecdi th\u1ee9, nh\u01b0ng d\u00f9 sao h\u00e3y c\u1ed1 g\u1eafng h\u1ebft s\u1ee9c, \u0111\u1ec3 internet s\u1eeda sai cho b\u1ea1n khi b\u1ea1n m\u1eafc ph\u1ea3i nh\u1eefng sai l\u1ea7m kh\u00f4ng th\u1ec3 tr\u00e1nh kh\u1ecfi. Wear your noobyness on your sleeve.</p> </li> <li> <p>M\u1ecdi ng\u01b0\u1eddi ngh\u0129 r\u1eb1ng b\u1ea1n t\u1ec7? T\u1ed1t. B\u1ea1n \u0111\u1ed3ng t\u00ecnh. H\u1ecfi h\u1ecd gi\u1ea3i th\u00edch c\u1ee5 th\u1ec3 h\u01a1n t\u1ea1i sao b\u1ea1n t\u1ec7? B\u1ea1n mu\u1ed1n tr\u1edf n\u00ean c\u1ea3m th\u1ea5y t\u1ed1t hay mu\u1ed1n tr\u1edf n\u00ean t\u1ed1t? Kh\u00f4ng ph\u1ea3n \u0111\u1ed1i kh\u00f4ng c\u00f3 c\u1ea3m gi\u00e1c t\u1ed5n th\u01b0\u01a1ng. Sau \u0111\u00f3 \u0111\u1ee9ng l\u00ean v\u00e0 ch\u1ee9ng minh h\u1ecd sai. Tuy nhi\u00ean n\u1ebfu h\u1ecd l\u00e0m d\u1ee5ng ( qu\u00e1 \u0111\u00e0) ch\u1eb7n h\u1ecd.</p> </li> <li> <p>Li\u1ec7u t\u00f4i \u0111\u00e3 nh\u1eafc t\u1edbi d\u1ea1y l\u00e0 c\u00e1ch t\u1ed1t nh\u1ea5t \u0111\u1ec3 h\u1ecdc ? <code>N\u00f3i khi b\u1ea1n \u0111ang code</code>. N\u00f3 c\u00f3 th\u1ec3 c\u0103ng th\u1eb3ng v\u00e0 t\u00f4i \u0111\u00e3 kh\u00f4ng l\u00e0m \u0111\u01b0\u1ee3c nhi\u1ec1u nh\u01b0 v\u1eady, nh\u01b0ng trong c\u00e1c bu\u1ed5i ph\u1ecfng v\u1ea5n k\u0129 thu\u1eadt t\u1ed1t nh\u1ea5t c\u1ee7a t\u00f4i l\u00e0 n\u01a1i t\u00f4i k\u1ebft th\u00fac cu\u1ed9c n\u00f3i chuy\u1ec7n nh\u01b0 t\u00f4i \u0111ang d\u1ea1y thay v\u00ec c\u1ed1 g\u1eafng ch\u1ee9ng t\u1ecf b\u1ea3n th\u00e2n m\u1ed9t c\u00e1ch tuy\u1ec7t v\u1ecdng. Ch\u00fang ta \u0111\u1ec1u l\u00e0 \u0111\u1ed9ng v\u1eadt, b\u1ecb thu h\u00fat b\u1edfi s\u1ef1 t\u1ef1 tin v\u00e0 c\u00f3 th\u1ec3 \u0111\u00e1nh h\u01a1i th\u1ea5y m\u00f9i tuy\u1ec7t v\u1ecdng.</p> </li> <li> <p>\u1ede th\u1eddi \u0111i\u1ec3m n\u00e0o \u0111\u00f3, \u0111\u00f4i khi b\u1ea1n s\u1ebd nh\u1eadn \u0111\u01b0\u1ee3c s\u1ef1 h\u1ed7 tr\u1ee3. M\u1ecdi ng\u01b0\u1eddi ch\u00fa \u00fd t\u1edbi h\u1ecdc sinh ch\u00e2n ch\u00ednh. H\u1ecd s\u1ebd gi\u00fap b\u1ea1n. \u0110\u1eebng n\u00f3i v\u1edbi h\u1ecd nh\u01b0ng h\u1ecd \u0111\u00e3 tr\u1edf th\u00e0nh c\u1ed1 v\u1ea5n c\u1ee7a b\u1ea1n ( mentors). <code>\u0110i\u1ec1u n\u00e0y r\u1ea5t quan tr\u1ecdng: Ti\u1ebfp t\u1ee5c nh\u1eefng g\u00ec h\u1ecd ch\u1ea5p nh\u1eadn t\u1eeb b\u1ecf</code>. H\u00e3y coi ch\u00fang nh\u01b0 vi\u1ec7c \u0111\u01b0a ra c\u00e1c nhi\u1ec7m v\u1ee5 \u0111\u1ec3 b\u1ea1n ho\u00e0n th\u00e0nh. Khi h\u1ecd n\u00f3i \"C\u00f3 ai \u0111\u00f3 s\u1eb5n l\u00f2ng gi\u00fap \u0111\u1ee1 ...?\" B\u1ea1n l\u00e0 \u0111\u1ee9a tr\u1ebb trong h\u00e0ng \u0111\u1ea7u ti\u00ean gi\u01a1 cao c\u00e1nh tay c\u1ee7a m\u00ecnh. \u0110\u00e2y l\u00e0 nh\u1eefng k\u1ef9 s\u01b0 c\u1ea5p cao, m\u1ed9t s\u1ed1 c\u00f3 nhu c\u1ea7u cao nh\u1ea5t trong l\u0129nh v\u1ef1c c\u00f4ng ngh\u1ec7. H\u1ecd s\u1ebd d\u00e0nh th\u1eddi gian cho b\u1ea1n 1 - 1, n\u1ebfu b\u1ea1n gi\u00fap h\u1ecd ( v\u00e0 lu\u00f4n lu\u00f4n c\u00f3 \u0111i\u1ec1u g\u00ec \u0111\u00f3 h\u1ecd mu\u1ed1n gi\u00fap \u0111\u1ee1). B\u1ea1n kh\u00f4ng th\u1ec3 tr\u1ea3 ti\u1ec1n cho th\u1ee9 n\u00e0y. H\u1ecd s\u1ebd d\u1ea1y b\u1ea1n mi\u1ec5n ph\u00ed. H\u1ea7u h\u1ebft m\u1ecdi ng\u01b0\u1eddi kh\u00f4ng th\u1ea5y nh\u1eefng g\u00ec ngay tr\u01b0\u1edbc m\u1eb7t h\u1ecd. B\u1ea1n th\u00ec kh\u00f4ng.</p> </li> <li> <p>\"V\u1edbi r\u1ea5t nhi\u1ec1u devs junior ngo\u00e0i kia, t\u1ea1i sao h\u1ecd s\u1ebd gi\u00fap t\u00f4i\". B\u1ea1n h\u1ecfi.</p> </li> <li> <p>B\u1edfi v\u00ec b\u1ea1n c\u00f4ng khai vi\u1ec7c h\u1ecdc c\u1ee7a m\u00ecnh. B\u1eb1ng c\u00e1ch d\u1ea1y b\u1ea1n, h\u1ecd d\u1ea1y nhi\u1ec1u h\u01a1n. B\u1ea1n khu\u1ebfch \u0111\u1ea1i ch\u00fang. B\u1ea1n c\u00f3 th\u1ee9 h\u1ecd kh\u00f4ng: <code>T\u00e2m tr\u00ed c\u1ee7a ng\u01b0\u1eddi m\u1edbi b\u1eaft \u0111\u1ea7u</code>. B\u1ea1n th\u1ea5y c\u00e1ch ch\u00fang ho\u1ea1t \u0111\u1ed9ng?</p> </li> <li> <p>\u1ede m\u1ed9t th\u1eddi \u0111i\u1ec3m kh\u00e1c, m\u1ecdi ng\u01b0\u1eddi s\u1ebd nh\u1edd s\u1ef1 tr\u1ee3 gi\u00fap c\u1ee7a b\u1ea1n, b\u1edfi nh\u1eefng g\u00ec b\u1ea1n \u0111\u00e3 cho h\u1ecd th\u1ea5y ( c\u00e1c b\u00e0i blogs ch\u1eb3ng h\u1ea1n). 80% c\u00e1c l\u1eadp tr\u00ecnh vi\u00ean l\u00e0 \"dark\", h\u1ecd kh\u00f4ng vi\u1ebft, n\u00f3i hay tham gia c\u00e1c bu\u1ed5i th\u1ea3o lu\u1eadn c\u00f4ng ngh\u1ec7. Nh\u01b0ng b\u1ea1n th\u00ec c\u00f3. B\u1ea1n ph\u1ea3i l\u00e0 m\u1ed9t chuy\u00ean gia, \u0111\u00fang kh\u00f4ng ? \u0110\u1eebng n\u00f3i v\u1edbi h\u1ecd l\u00e0 kh\u00f4ng. Tr\u1ea3 l\u1eddi h\u1ebft kh\u1ea3 n\u0103ng, v\u00e0 khi b\u1ea1n g\u1eb7p kh\u00f3 kh\u0103n ho\u1eb7c sai l\u1ea7m h\u00e3y h\u1ecfi c\u1ed1 v\u1ea5n.</p> </li> <li> <p>Cu\u1ed1i c\u00f9ng th\u00ec ko c\u00f2n ai c\u1ed1 v\u1ea5n n\u1eefa v\u00e0 b\u1ea1n ph\u1ea3i t\u1ef1 gi\u1ea3i quy\u1ebft v\u1ea5n \u0111\u1ec1 c\u1ee7a m\u00ecnh. M\u1eb7c d\u00f9 v\u1eady b\u1ea1n v\u1eabn \u0111\u01b0a ra n\u1ed9i dung. B\u1ea1n th\u1ea5y c\u00e1ch n\u00e0y ho\u1ea1t \u0111\u1ed9ng nh\u01b0 th\u1ebf n\u00e0o ?</p> </li> <li> <p>Learn in public.</p> </li> <li> <p>Th\u1eadm ch\u00ed h\u1ecd s\u1ebd tr\u1ea3 ti\u1ec1n \u0111\u1ec3 b\u1ea1n gi\u00fap h\u1ecd. Nhi\u1ec1u h\u01a1n c\u1ea3 b\u1ea1n ngh\u0129.</p> </li> </ul>"},{"location":"blog/2021/11/14/learn-in-public/#related-links","title":"Related links","text":"<ul> <li> <p>1 hour talk version of this eassy</p> </li> <li> <p>Patio11: Do not end this week with nothing</p> </li> <li> <p>Chris Coyier: Showing up and Persistence and Working in public</p> </li> <li> <p>Cory House: Becoming an Outlier and The art of learning and Lifestyle Systems and The 7 Pillar Developer</p> </li> <li> <p>Jeff Atwood: How to stop sucking and be awesome instead</p> </li> <li> <p>Rachel Thomas: Why you(yes, you!) Should blog</p> </li> <li> <p>Kent C Dodds: Intenional Career Building</p> </li> <li> <p>Julia Evans: Blog about what you've struggled with</p> </li> <li> <p>Joshua Branchaud: Learing in public by posting daily TIL's for 5 years</p> </li> <li> <p>Patrick O\u2019Shaughnessy: Learn, Build, Share, Repeat</p> </li> <li> <p>LadyBug Podcast: Blogging 101 (esp Ali Spittel's Blog Post Workflow)</p> </li> <li> <p>Quincy Larson: Build your skills, Build your Reputation, Build your network</p> </li> <li> <p>Ali Spittel on syndicating content on the Arrested Devops podcast.</p> </li> <li> <p>Reid Hoffman: Those Who Teach, Can Do</p> </li> <li> <p>Shu Omi did LIP on Youtube and gained 5k subscribes in 8 months!</p> </li> <li> <p>Gift Egwuenu on Learning in Public</p> </li> <li> <p>How do Rocket Scientists Learn? (Knowledge Management Lessons learned at Goddard, NASA)</p> </li> </ul>"},{"location":"blog/2021/11/17/cluster-autoscaler/","title":"Cluster Autoscaler","text":"<ul> <li> <p>T\u00e0i li\u1ec7u ch\u00ednh th\u1ee9c c\u1ee7a AWS \u1edf \u0111\u00e2y</p> </li> <li> <p>M\u00ecnh c\u1ea7n implement CA cho project c\u1ee7a d\u1ef1 \u00e1n, n\u00ean d\u1ecbch lu\u00f4n b\u00e0i n\u00e0y cho hi\u1ec3u. :)</p> </li> </ul> <ul> <li>K8s CA t\u1ef1 \u0111\u1ed9ng thay \u0111\u1ed5i s\u1ed1 nodes trong cluster c\u1ee7a b\u1ea1n khi c\u00e1c pod fail ho\u1eb7c \u0111\u01b0\u1ee3c t\u1ea1o l\u1ea1i tr\u00ean m\u1ed9t node kh\u00e1c. Cluster Autoscaler th\u01b0\u1eddng \u0111\u01b0\u1ee3c c\u00e0i \u0111\u1eb7t nh\u01b0 m\u1ed9t Deployment trong cluster c\u1ee7a b\u1ea1n. N\u00f3 s\u1eed d\u1ee5ng Leader Election \u0111\u1ec3 \u0111\u1ea3m b\u1ea3o t\u00ednh HA ( kh\u1ea3 d\u1ee5ng cao - high availability), nh\u01b0ng vi\u1ec7c m\u1edf r\u1ed9ng ch\u1ec9 \u0111\u01b0\u1ee3c th\u1ef1c hi\u1ec7n b\u1edfi m\u1ed9t b\u1ea3n sao t\u1ea1i m\u1ed9t th\u1eddi \u0111i\u1ec3m.</li> </ul> <ul> <li> <p>Tr\u01b0\u1edbc khi deploy m\u1ed9t CA, h\u00e3y ch\u1eafc ch\u1eafn r\u1eb1ng b\u1ea1n quen thu\u1ed9c v\u1edbi c\u00e1c kh\u00e1i ni\u1ec7m c\u1ee7a K8s t\u01b0\u01a1ng \u1ee9ng v\u1edbi c\u00e1c t\u00ednh n\u0103ng c\u1ee7a AWS. Nh\u1eefng thu\u1eadt ng\u1eef sau \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng xuy\u00ean su\u1ed1t b\u00e0i n\u00e0y:</p> </li> <li> <p><code>K8s Cluster Autoscaler</code>: M\u1ed9t th\u00e0nh ph\u1ea7n ch\u00ednh (core component) c\u1ee7a K8s Control Plane \u0111\u01b0a ra quy\u1ebft \u0111\u1ecbnh l\u1eadp l\u1ecbch v\u00e0 m\u1edf r\u1ed9ng quy m\u00f4. Th\u00eam th\u00f4ng tin v\u1ec1 Control Plane</p> </li> <li> <p><code>AWS Cloud provider implemention</code>: M\u1ed9t extension c\u1ee7a K8s CA, th\u1ef1c hi\u1ec7n c\u00e1c quy\u1ebft \u0111\u1ecbnh c\u1ee7a K8s CA b\u1eb1ng c\u00e1ch giao ti\u1ebfp v\u1edbi c\u00e1c s\u1ea3n ph\u1ea9m v\u00e0 d\u1ecbch v\u1ee5 c\u1ee7a AWS v\u00ed d\u1ee5 nh\u01b0 EC2. Chi ti\u1ebft xem t\u1ea1i \u0111\u00e2y: CA on AWS</p> </li> <li> <p><code>Node groups</code> - M\u1ed9t kh\u00e1i ni\u1ec7m trong k8s cho m\u1ed9t nh\u00f3m c\u00e1c nodes trong cluster. Nodes group kh\u00f4ng ph\u1ea3i l\u00e0 m\u1ed9t t\u00e0i nguy\u00ean th\u1ef1c s\u1ef1 c\u1ee7a k8s, nh\u01b0ng ch\u00fang \u0111\u01b0\u1ee3c t\u00ecm th\u1ea5y d\u01b0\u1edbi d\u1ea1ng tr\u1eebu t\u01b0\u1ee3ng trong CA, Cluster API, v\u00e0 c\u00e1c th\u00e0nh ph\u1ea7n kh\u00e1c. C\u00e1c node trong c\u00f9ng m\u1ed9t node group c\u00f3 th\u1ec3 chia s\u1ebb m\u1ed9t v\u00e0i thu\u1ed9c t\u00ednh chung nh\u01b0 <code>labels</code> v\u00e0 <code>taints</code>. Tuy v\u1eady ch\u00fang v\u1eabn c\u00f3 th\u1ec3 kh\u00e1c AZ hay instance type.</p> </li> <li> <p><code>Amazon EC2 Auto Scaling Groups</code>: M\u1ed9t t\u00ednh n\u0103ng c\u1ee7a AWS \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng b\u1edfi CA. ASG ph\u00f9 h\u1ee3p v\u1edbi r\u1ea5t nhi\u1ec1u tr\u01b0\u1eddng h\u1ee3p. Amazon EC2 ASG \u0111\u01b0\u1ee3c c\u1ea5u h\u00ecnh \u0111\u1ec3 ch\u1ea1y instance t\u1ef1 \u0111\u1ed9ng join k8s cluster. Ch\u00fang c\u0169ng \u0111\u01b0\u1ee3c <code>labels</code> v\u00e0 <code>taint</code> cho c\u00e1c t\u00e0i nguy\u00ean Node t\u01b0\u01a1ng \u1ee9ng trong k8s API.</p> </li> <li> <p>Tham kh\u1ea3o, <code>Managed node groups</code> \u0111\u01b0\u1ee3c qu\u1ea3n l\u00fd s\u1eed d\u1ee5ng Amazon EC2 ASG, v\u00e0 t\u01b0\u01a1ng th\u00edch v\u1edbi CA.</p> </li> <li> <p>Topic n\u00e0y m\u00f4 t\u1ea3 l\u00e0m th\u1ebf n\u00e0o b\u1ea1n c\u00f3 th\u1ec3 deploy CA trong Amazon EKS cluster c\u1ee7a b\u1ea1n, v\u00e0 c\u1ea5u h\u00ecnh CA \u0111\u1ec3 Amazon EC2 ASG.</p> </li> </ul>"},{"location":"blog/2021/11/17/cluster-autoscaler/#prerequisites","title":"Prerequisites","text":"<ul> <li> <p>Tr\u01b0\u1edbc khi deploy CA, b\u1ea1n ph\u1ea3i \u0111\u00e1p \u1ee9ng \u0111\u01b0\u1ee3c nh\u1eefng \u0111i\u1ec1u ki\u1ec7n ti\u00ean quy\u1ebft sau:</p> </li> <li> <p>M\u1ed9t Amazon EKS cluster ( h\u1eb3n nhi\u00ean r\u1ed3i).</p> </li> <li> <p>M\u1ed9t IAM OIDC provider cho cluster c\u1ee7a b\u1ea1n. \u0110\u1ec3 xem b\u1ea1n \u0111\u00e3 c\u00f3 hay c\u1ea7n t\u1ea1o m\u1edbi: Create an IAM OIDC provider for your cluster</p> </li> <li> <p>Node groups v\u1edbi ASG tags. CA y\u00eau c\u1ea7u nh\u1eefng tags sau tr\u00ean ASG \u0111\u1ec3 ch\u00fang \u0111\u01b0\u1ee3c t\u1ef1 \u0111\u1ed9ng t\u00ecm th\u1ea5y ( auto discovered):</p> <ul> <li>N\u1ebfu b\u1ea1n s\u1eed d\u1ee5ng <code>eksctl</code> \u0111\u1ec3 t\u1ea1o c\u00e1c node groups, nh\u1eefng tags n\u00e0y \u0111\u01b0\u1ee3c th\u00eam t\u1ef1 \u0111\u1ed9ng.</li> <li>N\u1ebfu b\u1ea1n kh\u00f4ng s\u1eed d\u1ee5ng <code>eksctl</code>, b\u1ea1n ph\u1ea3i th\u00eam c\u00e1c tags n\u00e0y th\u1ee7 c\u00f4ng:</li> </ul> Key Value k8s.io/cluster-autoscaler/ <code>owned</code> k8s.io/cluster-autoscaler/enabled TRUE"},{"location":"blog/2021/11/17/cluster-autoscaler/#create-an-iam-policy-and-role","title":"Create an IAM policy and role","text":"<ul> <li>T\u1ea1o m\u1ed9t IAM c\u1ea5p quy\u1ec1n ( permission) cho CA. Thay th\u1ebf t\u1ea5t c\u1ea3 <code>&lt;example-values&gt;</code> ( c\u1ea3 &lt;&gt;) v\u1edbi gi\u00e1 tr\u1ecb c\u1ee7a b\u1ea1n trong su\u1ed1t qu\u00e1 tr\u00ecnh.</li> </ul>"},{"location":"blog/2021/11/17/cluster-autoscaler/#create-an-iam-policy","title":"Create an IAM policy","text":"<ul> <li>L\u01b0u n\u1ed9i dung d\u01b0\u1edbi \u0111\u00e2y v\u00e0o file t\u00ean: <code>cluster-autoscaler-policy.json</code>. N\u1ebfu c\u00e1c node groups \u0111ang t\u1ed3n t\u1ea1i c\u1ee7a b\u1ea1n \u0111\u01b0\u1ee3c t\u1ea1o v\u1edbi <code>eksctl</code> v\u00e0 b\u1ea1n s\u1eed d\u1ee5ng t\u00f9y ch\u1ecdn: <code>--asg-access</code>, th\u00ec policy \u0111\u00e3 t\u1ed3n t\u1ea1i v\u00e0 b\u1ea1n c\u00f3 th\u1ec3 \u0111i t\u1edbi b\u01b0\u1edbc ti\u1ebfp theo.</li> </ul> <pre><code>  {\n      \"Version\": \"2012-10-17\",\n      \"Statement\": [\n          {\n              \"Action\": [\n                  \"autoscaling:DescribeAutoScalingGroups\",\n                  \"autoscaling:DescribeAutoScalingInstances\",\n                  \"autoscaling:DescribeLaunchConfigurations\",\n                  \"autoscaling:DescribeTags\",\n                  \"autoscaling:SetDesiredCapacity\",\n                  \"autoscaling:TerminateInstanceInAutoScalingGroup\",\n                  \"ec2:DescribeLaunchTemplateVersions\"\n              ],\n              \"Resource\": \"*\",\n              \"Effect\": \"Allow\"\n          }\n      ]\n  }\n</code></pre> <ul> <li>T\u1ea1o policy v\u1edbi l\u1ec7nh d\u01b0\u1edbi. C\u00f3 th\u1ec3 \u0111\u1ed5i <code>policy-name</code></li> </ul> <pre><code>  aws iam create-policy --policy-name AmazonEKSClusterAutoscalerPolicy --policy-document file://cluster-autoscaler-policy.json\n</code></pre> <ul> <li>L\u01b0u l\u1ea1i ARN \u0111\u1ec3 d\u00f9ng cho c\u00e1c b\u01b0\u1edbc sau.</li> </ul>"},{"location":"blog/2021/11/17/cluster-autoscaler/#create-iam-role-and-attach-iam-policy-to-it","title":"Create IAM role and attach IAM policy to it","text":"<ul> <li> <p>\u1ede \u0111\u00e2y s\u1eed d\u1ee5ng <code>eksctl</code> \u0111\u1ec3 s\u1eed d\u1ee5ng <code>AWS Management console</code> check link g\u1ed1c.</p> </li> <li> <p>Ch\u1ea1y l\u1ec7nh d\u01b0\u1edbi \u0111\u00e2y n\u1ebfu b\u1ea1n \u0111\u00e3 t\u1ea1o EKS cluster v\u1edbi <code>eksctl</code>. N\u1ebfu b\u1ea1n t\u1ea1o node groups s\u1eed d\u1ee5ng t\u00f9y ch\u1ecdn: <code>--asg-access</code> , thay th\u1ebf <code>&lt;AmazonEKSClusterAutoscalerPolicy&gt;</code> v\u1edbi t\u00ean IAM policy m\u00e0 <code>eksctl</code> t\u1ea1o cho b\u1ea1n. T\u00ean policy c\u00f3 th\u1ec3 theo m\u1eabu nh\u01b0 sau: <code>eksctl-&lt;cluster-name&gt;-nodegroup-ng-&lt;xxxxxxxx&gt;-PolicyAutoScaling</code>:</p> </li> </ul> <pre><code>  eksctl create iamserviceaccount \\\n    --cluster=&lt;my-cluster&gt; \\\n    --namespace=kube-system \\\n    --name=cluster-autoscaler \\\n    --attach-policy-arn=arn:aws:iam::&lt;AWS_ACCOUNT_ID&gt;:policy/&lt;AmazonEKSClusterAutoscalerPolicy&gt; \\\n    --override-existing-serviceaccounts \\\n    --approve\n</code></pre> <ul> <li> <p>AWS khuy\u1ebfn ngh\u1ecb, n\u1ebfu b\u1ea1n t\u1ea1o groups s\u1eed d\u1ee5ng t\u00f9y ch\u1ecdn: <code>--asg-access</code> b\u1ea1n detach IAM policy <code>eskctl</code> \u0111\u00e3 t\u1ea1o v\u00e0 attach v\u00e0o Amazon EKS node IAM role m\u00e0 <code>eksctl</code> \u0111\u00e3 t\u1ea1o cho b\u1ea1n. B\u1ea1n t\u00e1ch policy kh\u1ecfi node IAM role \u0111\u1ec3 c\u00e1c function c\u1ee7a CA \u0111\u01b0\u1ee3c ho\u1ea1t \u0111\u1ed9ng b\u00ecnh th\u01b0\u1eddng. T\u00e1ch c\u00e1c policy kh\u00f4ng \u0111\u01b0a cho c\u00e1c pods kh\u00e1c tr\u00ean c\u00e1c node quy\u1ec1n trong policy. Chi ti\u1ebft xem t\u1ea1i: Removing IAM identity permission</p> </li> <li> <p>Qu\u00e1 tr\u00ecnh ch\u1ea1y th\u1eadt b\u1ecb l\u1ed7i: <code>failed to create service account kube-system/cluster-autoscaler: checking whether namespace \"kube-system\" exists: Unauthorized</code> n\u00ean \u0111\u00e3 ph\u1ea3i l\u00e0m b\u01b0\u1edbc n\u00e0y tr\u00ean console.</p> </li> </ul>"},{"location":"blog/2021/11/17/cluster-autoscaler/#deploy-cluster-autoscaler","title":"Deploy Cluster Autoscaler","text":"<ul> <li> <p>C\u00e1c b\u01b0\u1edbc ti\u1ebfp theo s\u1ebd deploy CA. AWS khuy\u00ean b\u1ea1n n\u00ean review: Deployment considerations - ho\u1eb7c scroll xu\u1ed1ng d\u01b0\u1edbi - v\u00e0 t\u1ed1i \u01b0u CA tr\u01b0\u1edbc khi deploy tr\u00ean production.</p> </li> <li> <p> TO DEPLOY THE CLUSTER AUTOSCALER</p> </li> <li> <p>T\u1ea3i CA YAML file:</p> </li> </ul> <pre><code>  curl -o cluster-autoscaler-autodiscover.yaml https://raw.githubusercontent.com/kubernetes/autoscaler/master/cluster-autoscaler/cloudprovider/aws/examples/cluster-autoscaler-autodiscover.yaml\n</code></pre> <ol> <li> <p>\u0110\u1ed5i <code>&lt;YOUR CLUSTER NAME&gt;</code> trong file download v\u1ec1 v\u1edbi cluster c\u1ee7a b\u1ea1n.</p> </li> <li> <p>Apply YAML file v\u00e0o cluster c\u1ee7a b\u1ea1n:</p> </li> </ol> <pre><code>  kubectl apply -f cluster-autoscaler-autodiscover.yaml\n</code></pre> <ol> <li>Annotate <code>cluster-autoscaler</code> service account v\u1edbi ARN c\u1ee7a IAM role b\u1ea1n t\u1ea1o tr\u01b0\u1edbc \u0111\u00f3. Thay th\u1ebf <code>&lt;example values&gt;</code> v\u1edbi gi\u00e1 tr\u1ecb c\u1ee7a b\u1ea1n:</li> </ol> <pre><code>  kubectl annotate serviceaccount cluster-autoscaler -n kube-system eks.amazonaws.com/role-arn=arn:aws:iam::926755034425:role/AmazonEKSClusterAutoscalerRole\n</code></pre> <ol> <li>Patch (v\u00e1) deployment \u0111\u1ec3 th\u00eam <code>cluster-autoscaler.kubernetes.io/safe-to-evict</code> annotation v\u00e0 CA pods v\u1edbi l\u1ec7nh sau:</li> </ol> <pre><code>  kubectl patch deployment cluster-autoscaler -n kube-system -p '{\"spec\":{\"template\":{\"metadata\":{\"annotations\":{\"cluster-autoscaler.kubernetes.io/safe-to-evict\": \"false\"}}}}}'\n</code></pre> <ol> <li>Edit CA deployment v\u1edbi l\u1ec7nh:</li> </ol> <pre><code>  kubectl -n kube-system edit deployment.apps/cluster-autoscaler\n</code></pre> <ul> <li> <p>Edit <code>cluster-autoscaler</code> container command, thay th\u1ebf <code>&lt;YOUR CLUSTER NAME&gt; (including &lt;&gt;)</code> v\u1edbi t\u00ean cluster c\u1ee7a b\u1ea1n v\u00e0 th\u00eam c\u00e1c option sau:</p> </li> <li> <p><code>--balance-similar-node-groups</code></p> </li> <li><code>--skip-nodes-with-system-pods=false</code></li> </ul> <pre><code>spec:\n    containers:\n    - command:\n      - ./cluster-autoscaler\n      - --v=4\n      - --stderrthreshold=info\n      - --cloud-provider=aws\n      - --skip-nodes-with-local-storage=false\n      - --expander=least-waste\n      - --node-group-auto-discovery=asg:tag=k8s.io/cluster-autoscaler/enabled,k8s.io/cluster-autoscaler/&lt;YOUR CLUSTER NAME&gt;\n      - --balance-similar-node-groups\n      - --skip-nodes-with-system-pods=false\n</code></pre> <ul> <li> <p>Save v\u00e0 <code>close</code> file \u0111\u1ec3 <code>apply</code> thay \u0111\u1ed5i.</p> </li> <li> <p>M\u1edf CA releases \u0111\u1ec3 ki\u1ec3m tra version c\u1ee7a CA ph\u00f9 h\u1ee3p v\u1edbi major v\u00e0 minor version cluster c\u1ee7a b\u1ea1n.</p> </li> <li> <p>Set CA image tag v\u1edbi version trong b\u01b0\u1edbc tr\u00ean theo l\u1ec7nh d\u01b0\u1edbi. Thay th\u1ebf <code>1.21.n</code> v\u1edbi gi\u00e1 tr\u1ecb c\u1ee7a b\u1ea1n:</p> </li> </ul> <pre><code>  kubectl set image deployment cluster-autoscaler -n kube-system cluster-autoscaler=k8s.gcr.io/autoscaling/cluster-autoscaler:v&lt;1.21.n&gt;\n</code></pre>"},{"location":"blog/2021/11/17/cluster-autoscaler/#view-your-cluster-autoscaler-logs","title":"View your Cluster Autoscaler logs","text":"<ul> <li> <p>Sau khi b\u1ea1n deploy CA, b\u1ea1n c\u00f3 th\u1ec3 xem logs v\u00e0 x\u00e1c nh\u1eadn r\u1eb1ng n\u00f3 \u0111ang monitor t\u1ea3i cluster c\u1ee7a b\u1ea1n.</p> </li> <li> <p>Xem logs v\u1edbi l\u1ec7nh nh\u01b0 d\u01b0\u1edbi:</p> </li> </ul> <pre><code>  kubectl -n kube-system logs -f deployment.apps/cluster-autoscaler\n</code></pre> <ul> <li>Output nh\u00ecn nh\u01b0 d\u01b0\u1edbi:</li> </ul> <pre><code>  I0926 23:15:55.165842       1 static_autoscaler.go:138] Starting main loop\n  I0926 23:15:55.166279       1 utils.go:595] No pod using affinity / antiaffinity found in cluster, disabling affinity predicate for this loop\n  I0926 23:15:55.166293       1 static_autoscaler.go:294] Filtering out schedulables\n  I0926 23:15:55.166330       1 static_autoscaler.go:311] No schedulable pods\n  I0926 23:15:55.166338       1 static_autoscaler.go:319] No unschedulable pods\n  I0926 23:15:55.166345       1 static_autoscaler.go:366] Calculating unneeded nodes\n  I0926 23:15:55.166357       1 utils.go:552] Skipping ip-192-168-3-111.&lt;region-code&gt;.compute.internal - node group min size reached\n  I0926 23:15:55.166365       1 utils.go:552] Skipping ip-192-168-71-83.&lt;region-code&gt;.compute.internal - node group min size reached\n  I0926 23:15:55.166373       1 utils.go:552] Skipping ip-192-168-60-191.&lt;region-code&gt;.compute.internal - node group min size reached\n  I0926 23:15:55.166435       1 static_autoscaler.go:393] Scale down status: unneededOnly=false lastScaleUpTime=2019-09-26 21:42:40.908059094 ...\n  I0926 23:15:55.166458       1 static_autoscaler.go:403] Starting scale down\n  I0926 23:15:55.166488       1 scale_down.go:706] No candidates for scale down\n</code></pre>"},{"location":"blog/2021/11/17/cluster-autoscaler/#deployment-considerations","title":"Deployment Considerations","text":"<ul> <li>Xem x\u00e9t c\u00e1c c\u00e2n nh\u1eafc ph\u00eda d\u01b0\u1edbi sau \u0111\u1ec3 t\u1ed1i \u01b0u CA deployment c\u1ee7a b\u1ea1n.</li> </ul>"},{"location":"blog/2021/11/17/cluster-autoscaler/#scaling-consideration","title":"Scaling consideration","text":"<ul> <li> <p>CA c\u00f3 th\u1ec3 c\u1ea5u h\u00ecnh v\u1edbi b\u1ea5t k\u1ef3 t\u00ednh n\u0103ng th\u00eam n\u00e0o cho node c\u1ee7a b\u1ea1n. Nh\u1eefng t\u00ednh n\u0103ng n\u00e0y nh\u01b0 th\u00eam Amazon EBS volumes attach v\u00e0o nodes. EC2 instance type of node, hay GPU accelerators.</p> </li> <li> <p><code>Scope node groups</code> t\u1edbi nhi\u1ec1u h\u01a1n m\u1ed9t AZ:</p> </li> <li> <p>AWS khuy\u1ebfn kh\u00edch ch\u00fang ta c\u1ea5u h\u00ecnh nhi\u1ec1u node groups, m\u1ed7i node groups tr\u00ean m\u1ed9t AZ, v\u00e0 enable t\u00ednh n\u0103ng <code>--balance-similar-node-groups</code>. N\u1ebfu b\u1ea1n ch\u1ec9 c\u1ea5u h\u00ecnh m\u1ed9t node group, c\u1ea5u h\u00ecnh node group n\u00e0y c\u00f3 th\u1ec3 m\u1edf r\u1ed9ng tr\u00ean nhi\u1ec1u AZ.</p> </li> <li> <p>T\u1ed1i \u01b0u c\u00e1c node group c\u1ee7a b\u1ea1n: CA \u0111\u01b0a ra gi\u1ea3 \u0111\u1ecbnh v\u1ec1 c\u00e1ch b\u1ea1n \u0111ang s\u1eed d\u1ee5ng c\u00e1c node groups. Bao g\u1ed3m c\u1ea3 instance type m\u00e0 b\u1ea1n \u0111ang s\u1eed d\u1ee5ng group. \u0110\u1ec3 ph\u00f9 h\u1ee3p v\u1edbi nh\u1eefng gi\u1ea3 \u0111\u1ecbnh n\u00e0y, c\u1ea5u h\u00ecnh node group c\u1ee7a b\u1ea1n d\u1ef1a tr\u00ean nh\u1eefng gi\u1ea3 \u0111\u1ecbnh v\u00e0 c\u00e2n nh\u1eafc sau:</p> </li> <li> <p>M\u1ed7i node trong node group ph\u1ea3i c\u00f3 c\u00e1c thu\u1ed9c t\u00ednh l\u1eadp l\u1ecbch gi\u1ed1ng h\u1ec7t nhau. Bao g\u1ed3m labels, taints, v\u00e0 c\u00e1c t\u00e0i nguy\u00ean:</p> <ul> <li>V\u1edbi <code>MixedInstancePolicies</code>, instance type ph\u1ea3i c\u00f3 th\u00f4ng s\u1ed1 k\u1ef9 thu\u1eadt CPU, memory, GPU t\u01b0\u01a1ng th\u00edch.</li> <li>Instance type \u0111\u1ea7u ti\u00ean \u0111\u01b0\u1ee3c m\u00f4 ph\u1ecfng trong l\u1eadp l\u1ecbch ( th\u1ef1c s\u1ef1 ko hi\u1ec3u c\u00e2u n\u00e0y :)) )</li> <li>N\u1ebfu ch\u00ednh s\u00e1ch c\u1ee7a b\u1ea1n c\u00f3 add th\u00eam resource. Resource \u0111\u00f3 c\u00f3 th\u1ec3 b\u1ecb l\u00e3ng ph\u00ed sau khi \u0111\u01b0\u1ee3c scale out.</li> <li>N\u1ebfu ch\u00ednh s\u00e1ch c\u1ee7a b\u1ea1n l\u00e0 th\u00eam instance type v\u1edbi \u00edt t\u00e0i nguy\u00ean h\u01a1n, pod c\u00f3 th\u1ec3 l\u1ed7i khi \u0111\u01b0\u1ee3c l\u1eadp l\u1ecbch khi ch\u1ea1y tr\u00ean instance n\u00e0y.</li> </ul> </li> <li> <p>C\u1ea5u h\u00ecnh s\u1ed1 l\u01b0\u1ee3ng node group nh\u1ecf h\u01a1n nhu c\u1ea7u node group. V\u00ec \u0111i\u1ec1u ng\u01b0\u1ee3c l\u1ea1i c\u00f3 th\u1ec3 \u1ea3nh h\u01b0\u1edfng ti\u00eau c\u1ef1c t\u1edbi kh\u1ea3 n\u0103ng m\u1edf r\u1ed9ng.</p> </li> <li> <p>S\u1eed d\u1ee5ng t\u00ednh n\u0103ng c\u1ee7a AWS EC2 khi c\u1ea3 hai nh\u00e0 cung c\u1ea5p (?) h\u1ed7 tr\u1ee3 ch\u00fang ( v\u00ed d\u1ee5: s\u1eed d\u1ee5ng Region, <code>MixedInstancePolicy</code>)</p> </li> <li> <p>N\u1ebfu c\u00f3 th\u1ec3 AWS khuy\u1ebfn kh\u00edch ng\u01b0\u1eddi d\u00f9ng xem Managed node groups. Managed node group c\u00f3 nh\u1eefng t\u00ednh n\u0103ng qu\u1ea3n l\u00fd m\u1ea1nh m\u1ebd. Bao g\u1ed3m c\u1ea3 c\u00e1c t\u00ednh n\u0103ng cho CA nh\u01b0 t\u1ef1 \u0111\u1ed9ng Amazon EC2 ASG( auto scaling group) discovery v\u00e0 graceful node termination.</p> </li> <li> <p>S\u1eed d\u1ee5ng EBS nh\u01b0 persistent storage:</p> </li> <li> <p>L\u01b0u tr\u1eef d\u1eef li\u1ec7u l\u00e0 r\u1ea5t quan tr\u1ecdng v\u1edbi c\u00e1c \u1ee9ng d\u1ee5ng stateful, v\u00ed d\u1ee5 nh\u01b0 database v\u00e0 cache ph\u00e2n t\u00e1n ( distrubuted cache). V\u1edbi Amazon EBS, b\u1ea1n c\u00f3 th\u1ec3 x\u00e2y d\u1ef1ng \u1ee9ng d\u1ee5ng stateful tr\u00ean k8s. Nh\u01b0ng b\u1ea1n b\u1ecb gi\u1edbi h\u1ea1n ch\u1ec9 build ch\u00fang trong m\u1ed9t AZ. Chi ti\u1ebft c\u00f3 th\u1ec3 xem t\u1ea1i: How do I use persistent storage in Amazon EKS. \u0110\u1ec3 c\u00f3 gi\u1ea3i ph\u00e1p t\u1ed1t h\u01a1n, xem x\u00e9t x\u00e2y d\u1ef1ng \u1ee9ng d\u1ee5ng stateful chia nh\u1ecf gi\u1eefa c\u00e1c AZ b\u1eb1ng c\u00e1ch s\u1eed d\u1ee5ng c\u00e1c EBS ri\u00eang bi\u1ec7t cho t\u1eebng AZ. L\u00e0m nh\u01b0 v\u1eady \u1ee9ng d\u1ee5ng c\u1ee7a b\u1ea1n s\u1ebd c\u00f3 t\u00ednh s\u1eb5n s\u00e0ng cao. H\u01a1n n\u1eefa, CA c\u00f3 th\u1ec3 c\u00e2n b\u1eb1ng m\u1edf r\u1ed9ng gi\u1eefa c\u00e1c EC2 ASG. \u0110\u1ec3 l\u00e0m \u0111\u01b0\u1ee3c nh\u01b0 v\u1eady h\u00e3y \u0111\u1ea3m b\u1ea3o c\u00e1c \u0111i\u1ec1u sau \u0111\u01b0\u1ee3c \u0111\u00e1p \u1ee9ng:</p> <ul> <li>C\u00e2n b\u1eb1ng gi\u1eefa c\u00e1c node groups \u0111\u01b0\u1ee3c enable b\u1edfi c\u1ea5u h\u00ecnh: <code>balance-similar-node-groups=true</code>.</li> <li>C\u00e1c node group c\u1ee7a b\u1ea1n \u0111\u01b0\u1ee3c c\u1ea5u h\u00ecnh gi\u1ed1ng h\u1ec7t nhau. (ngo\u00e0i vi\u1ec7c ph\u00e2n b\u1ed1 gi\u1eefa c\u00e1c AZ, v\u00e0 s\u1eed d\u1ee5ng c\u00e1c EBS kh\u00e1c nhau).</li> </ul> </li> <li> <p>Co-scheduling</p> </li> <li> <p>C\u00e1c job training h\u1ecdc m\u00e1y ph\u00e2n t\u00e1n ( Machine learning distributed) h\u01b0\u1edfng l\u1ee3i \u0111\u00e1ng k\u1ec3 t\u1eeb \u0111\u1ed9 tr\u1ec5 nh\u1ecf c\u1ee7a c\u00e1c node c\u1ea5u h\u00ecnh c\u00f9ng m\u1ed9t AZ. Nh\u1eefng kh\u1ed1i l\u01b0\u1ee3ng c\u00f4ng vi\u1ec7c n\u00e0y \u0111\u01b0\u1ee3c t\u1ea3i l\u00ean c\u00e1c pod trong c\u00f9ng m\u1ed9t khu v\u1ef1c. B\u1ea1n c\u00f3 th\u1ec3 l\u00e0m \u0111\u01b0\u1ee3c \u0111i\u1ec1u n\u00e0y b\u1eb1ng c\u00e1ch c\u1ea5u h\u00ecnh <code>pod affinity</code> cho t\u1ea5t c\u1ea3 c\u00e1c pod c\u00f3 c\u00f9ng l\u1eadp l\u1ecbch ho\u1eb7c c\u00e1c node affinity s\u1eed d\u1ee5ng <code>topologyKey: topology.kubernetes.io/zone</code>. S\u1eed d\u1ee5ng c\u1ea5u h\u00ecnh n\u00e0y CA m\u1edf r\u1ed9ng theo chi\u1ec1u ngang tr\u00ean m\u1ed9t Zone c\u1ee5 th\u1ec3 \u0111\u1ec3 \u0111\u00e1p \u1ee9ng y\u00eau c\u1ea7u. Ch\u1ec9 \u0111\u1ecbnh nhi\u1ec1u ASG v\u1edbi m\u1ed9t AZ c\u1ee5 th\u1ec3, \u0111\u1ec3 \u0111\u1ea3m b\u1ea3o chuy\u1ec3n \u0111\u1ed5i d\u1ef1 ph\u00f2ng <code>failover</code> cho to\u00e0n b\u1ed9 kh\u1ed1i l\u01b0\u1ee3ng c\u00f4ng vi\u1ec7c \u0111\u01b0\u1ee3c l\u1eadp l\u1ecbch \u0111\u1ed3ng th\u1eddi. \u0110\u1ea3m b\u1ea3o c\u00e1c \u0111i\u1ec1u ki\u1ec7n sau \u0111\u01b0\u1ee3c \u0111\u00e1p \u1ee9ng:</p> <ul> <li> <p>C\u00e2n b\u1eb1ng node group \u0111\u01b0\u1ee3c enable b\u1edfi c\u1ea5u h\u00ecnh: <code>balance-similar-node-groups=true</code></p> </li> <li> <p>Node affinity, pod preemption, ho\u1eb7c c\u1ea3 hai, \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng khi cluster bao g\u1ed3m Regional v\u00e0 Zonal node groups:</p> </li> <li>S\u1eed d\u1ee5ng <code>node affinity</code> \u0111\u1ec3 \u00e1p \u0111\u1eb7t ho\u1eb7c khuy\u1ebfn kh\u00edch regional pods v\u00e0 tr\u00e1nh Zonal node groups.</li> <li>\u0110\u1eebng l\u1eadp l\u1ecbch Zonal pod v\u00e0o m\u1ed9t Regional node group. L\u00e0m v\u1eady c\u00f3 th\u1ec3 d\u1eabn t\u1edbi m\u1ea5t c\u00e2n b\u1eb1ng s\u1ee9c ch\u1ee9a cho c\u00e1c Regional pods c\u1ee7a b\u1ea1n.</li> <li>C\u1ea5u h\u00ecnh <code>pod preemption</code> n\u1ebfu zonal workloads c\u00f3 th\u1ec3 ch\u1ea5p nh\u1eadn gi\u00e1n \u0111o\u1ea1n v\u00e0 ph\u00e2n b\u1ed5 l\u1ea1i. L\u00e0m v\u1eady th\u1ef1c thi quy\u1ec1n \u01b0u ti\u00ean v\u00e0 l\u00ean l\u1ecbch l\u1ea1i t\u1ea1i m\u1ed9t khu v\u1ef1c \u00edt tranh ch\u1ea5p h\u01a1n, cho c\u00e1c Regional pod c\u1ee7a b\u1ea1n.</li> </ul> </li> <li> <p>Accelerators and GPUs</p> </li> <li> <p>M\u1ed9t v\u00e0i cluster c\u00f3 c\u00e1c ph\u1ea7n c\u1ee9ng c\u1ee5 th\u1ec3 v\u00ed d\u1ee5 nh\u01b0 GPU. Khi m\u1edf r\u1ed9ng (theo chi\u1ec1u ngang - scale out ( not scale up)) c\u1ea7n th\u1eddi gian \u0111\u1ec3 cung c\u1ea5p t\u00e0i nguy\u00ean cho cluster. Trong su\u1ed1t kho\u1ea3ng th\u1eddi gian \u0111\u00f3 CA m\u00f4 ph\u1ecfng nh\u01b0 node c\u00f3 <code>accelerator</code> - (ko bi\u1ebft d\u1ecbch sao cho s\u00e1t ngh\u0129a :) ). Tuy nhi\u00ean, cho t\u1edbi khi <code>accelerator</code> s\u1eb5n s\u00e0ng v\u00e0 c\u1eadp nh\u1eadt t\u00e0i nguy\u00ean s\u1eb5n c\u00f3 c\u1ee7a node, th\u00ec c\u00e1c pods kh\u00f4ng th\u1ec3 \u0111\u01b0\u1ee3c l\u00ean l\u1ecbch tr\u00ean node. \u0110i\u1ec1u n\u00e0y c\u00f3 th\u1ec3 l\u00e0 nguy\u00ean nh\u00e2n c\u1ee7a repeated unnecessary scale out</p> </li> <li> <p>C\u00e1c node v\u1edbi <code>accelerators</code> v\u00e0 m\u1ee9c s\u1eed d\u1ee5ng CPU, memory cao kh\u00f4ng \u0111\u01b0\u1ee3c xem x\u00e9t \u0111\u1ec3 scale down ngay c\u1ea3 khi <code>accelerators</code> kh\u00f4ng \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng. Ng\u01b0\u1ee3c l\u1ea1i \u0111i\u1ec1u n\u00e0y l\u1ea1i c\u00f3 th\u1ec3 l\u00e0 nguy\u00ean nh\u00e2n c\u1ee7a chi ph\u00ed kh\u00f4ng c\u1ea7n thi\u1ebft. \u0110\u1ec3 tr\u00e1nh nh\u1eefng chi ph\u00ed n\u00e0y, CA c\u00f3 th\u1ec3 \u00e1p d\u1ee5ng nh\u1eefng rule \u0111\u1eb7c bi\u1ec7t xem x\u00e9t scale down node, n\u1ebfu ch\u00fang c\u00f3 nh\u1eefng <code>accelerators</code> kh\u00f4ng \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng.</p> </li> <li> <p>\u0110\u1ec3 \u0111\u1ea3m b\u1ea3o nh\u1eefng h\u00e0nh vi \u0111\u00fang trong c\u00e1c tr\u01b0\u1eddng h\u1ee3p n\u00e0y, c\u1ea5u h\u00ecnh <code>kubelet</code> tr\u00ean <code>accelerator nodes</code> c\u1ee7a b\u1ea1n g\u00e1n nh\u00e3n node tr\u01b0\u1edbc node join v\u00e0o cluster. CA s\u1eed d\u1ee5ng nh\u00e3n l\u1ef1a ch\u1ecdn n\u00e0y \u0111\u1ec3 t\u1ed1i \u01b0u h\u00f3a <code>accelerator</code>. \u0110\u1ea3m b\u1ea3o c\u00e1c \u0111i\u1ec1u ki\u1ec7n sau th\u1ecfa m\u00e3n:</p> <ul> <li><code>kubelet</code> cho GPU nodes \u0111\u01b0\u1ee3c c\u1ea5u h\u00ecnh v\u1edbi <code>--node-labels k8s.amazonaws.com/accelerator=$ACCELERATOR_TYPE</code></li> <li>C\u00e1c node v\u1edbi <code>accelerators</code> tu\u00e2n th\u1ee7 c\u00e1c quy t\u1eafc l\u1eadp l\u1ecbch th\u1ed1ng nh\u1ea5t.</li> </ul> </li> <li> <p>Scaling from Zero</p> </li> </ul> <p>-</p>"},{"location":"blog/2021/11/20/lambda-function-reboot-ec2/","title":"Lambda function reboot ec2","text":"<ul> <li>M\u00ecnh \u0111\u01b0\u1ee3c asgin m\u1ed9t task d\u00f9ng lambda function \u0111\u1ec3 reboot ec2 v\u00e0o m\u1ed7i th\u1ee9 2 \u0111\u1ea7u tu\u1ea7n. C\u00f3 ch\u00fat l\u0103n t\u0103n khi b\u1eaft \u0111\u1ea7u task n\u00e0y:</li> <li>Tr\u01b0\u1edbc \u0111\u00f3 c\u00f3 d\u00f9ng nodejs vi\u1ebft lambda function r\u1ed3i nh\u01b0ng \u0111\u1ee3t r\u1ed3i l\u00e0m python n\u00ean l\u1ea7n n\u00e0y mu\u1ed1n d\u00f9ng python thay v\u00ec nodejs.</li> <li>\u0110\u00e3 d\u00f9ng nodejs nh\u01b0ng l\u00e0 \u0111\u1ec3 call sang api kh\u00e1c l\u00e0m schedule job ch\u1ee9 reboot ec2 th\u00ec ch\u01b0a bi\u1ebft l\u00e0m ntn (cwl)</li> <li> <p>\u00c9c l\u00f2ng v\u00f2ng 1 l\u00fac task \u0111\u01b0\u1ee3c asign cho cu em ( do m\u00ecnh ph\u1ea3i l\u00e0m task kh\u00e1c). V\u00e0 b\u1ea1n n\u00e0y c\u00f3 vi\u1ebft r\u1ed3i n\u00ean m\u00ecnh h\u1ecdc lu\u00f4n.</p> </li> <li> <p>\u0110o\u1ea1n script nh\u01b0 d\u01b0\u1edbi:</p> </li> </ul> <pre><code>import json\nimport logging\nimport datetime\nimport boto3\n\n##########\n# To reboot ec2 every Monday\n##########\n\nec2 = boto3.client('ec2')\nlogging.basicConfig()\nlogger = logging.getLogger('logger')\nlogger.setLevel(logging.DEBUG)\n\ndef reboot_ec2(instances):\n    logger.info(\"Execute reboot instance '{0}'.\".format(instances))\n    try:\n        response = ec2.reboot_instances(InstanceIds=instances)\n        logger.debug(response)\n        meta = response[\"ResponseMetadata\"]\n        logger.info(\"Reboot '{0}' with RequestId '{1}' and status {2}.\".format(instances, meta[\"RequestId\"],\n                                                                                  meta[\"HTTPStatusCode\"]))\n    except Exception as error:\n        logger.error(error)\n\ndef get_valid_instances(instance_names, action):\n    instances = []\n    response = ec2.describe_instances(Filters=[\n        {\n            \"Name\": \"tag:Name\",\n            \"Values\": instance_names\n        }\n    ])\n    for reservation in response[\"Reservations\"]:\n        for instance in reservation.get(\"Instances\"):\n            status = instance.get(\"State\", None).get(\"Name\")\n            if action == \"reboot\" and status == \"running\":\n                instances.append(instance[\"InstanceId\"])\n\n    logger.debug(\"ec2 '{0}' is going to be '{1}'.\".format(instances, action))\n    return instances\n\n\ndef lambda_handler(event, context):\n    instance_names = event.get(\"instanceNames\", None)\n    if instance_names is None:\n        logger.error(\"Missing instanceNames.\")\n        exit(1)\n\n    action = event.get(\"action\", None)\n    if action is None:\n        logger.error(\"Missing action.\")\n        exit(1)\n\n    instances = get_valid_instances(instance_names, action)\n\n    if not instances:\n        logger.warn(\"No instances to take action\")\n        exit(1)\n\n    if \"reboot\" == action.lower():\n        reboot_ec2(instances)\n</code></pre> <ul> <li> <p>Vi\u1ec7c \u0111\u1ea7u ti\u00ean d\u1ec5 nh\u1eadn th\u1ea5y l\u00e0 \u1ed3 script n\u00e0y d\u00f9ng Boto3 \u0111\u1ec3 thao t\u00e1c v\u1edbi EC2 - Boto3 is maintained and published by Amazon Web Services. V\u1eady l\u00e0 gi\u1ea3i quy\u1ebft \u0111\u01b0\u1ee3c th\u1eafc m\u1eafc c\u1ee7a m\u00ecnh: \u0111\u1ec3 thao t\u00e1c v\u1edbi c\u00e1c t\u00e0i nguy\u00ean c\u1ee7a AWS c\u00f3 th\u1ec3 d\u00f9ng qua SDK Boto3 n\u00e0y r\u1ed3i - ngon lu\u00f4n.</p> </li> <li> <p>L\u1ea7n l\u01b0\u1ee3t \u0111i qua c\u00e1c function:</p> </li> <li> <p><code>reboot_ec2</code>: log ra c\u00e1c instance IDs v\u00e0 reboot c\u00e1c EC2 t\u1eeb Instance IDs c\u1ee7a ch\u00fang, log ra n\u1ebfu th\u00e0nh c\u00f4ng hay l\u1ed7i.</p> </li> <li><code>get_valid_instances</code>: l\u1ecdc ra c\u00e1c ec2 \u0111ang ch\u1ea1y ( n\u1ebfu ko ph\u1ea3i running th\u00ec b\u1ecf qua), v\u00e0 h\u00e0nh \u0111\u1ed9ng y\u00eau c\u1ea7u ph\u1ea3i \u0111\u00fang l\u00e0 <code>reboot</code> th\u00ec m\u1edbi l\u00e0m. Vi\u1ec7c l\u1ecdc d\u1ef1a theo t\u00ean c\u1ee7a ec2. Oh t\u1eeb \u0111\u00e3 sao l\u1ea1i ki\u1ec3m tra tr\u1ea1ng th\u00e1i ec2 theo t\u00ean m\u00e0 ko ph\u1ea3i ID, nh\u1ee1 ng\u01b0\u1eddi d\u00f9ng nh\u1eadp nh\u1ea7m t\u00ean th\u00ec sao ?, ID ch\u1eb3ng ph\u1ea3i ch\u00ednh x\u00e1c h\u01a1n kh\u00f4ng ?. M\u00ecnh h\u1ecfi cu em vi\u1ebft script n\u00e0y, c\u00e2u tr\u1ea3 l\u1eddi kh\u00e1 thuy\u1ebft ph\u1ee5c. M\u1ee5c \u0111\u00edch d\u00f9ng <code>tag:Name</code> cho m\u1ee5c \u0111\u00edch khi ch\u00fang ta mu\u1ed1n reboot 1 l\u00fac nhi\u1ec1u EC2 nh\u01b0 ASG (Auto scaling group) ch\u1eb3ng h\u1ea1n, khi \u0111\u00f3 ph\u1ea3i d\u00f9ng <code>tag:Name</code> v\u00ec ch\u00fang ta ko c\u00f3 instance ID c\u1ed1 \u0111\u1ecbnh.</li> <li> <p>Function cu\u1ed1i c\u00f9ng l\u00e0: <code>lambda_handler</code>: \u0110\u00e2y l\u00e0 t\u00ean function m\u1eb7c \u0111\u1ecbnh m\u00e0 lambda s\u1ebd g\u1ecdi khi ch\u1ea1y. Ch\u00fang ta c\u00f3 th\u1ec3 thay \u0111\u1ed5i function name m\u1eb7c \u0111\u1ecbnh n\u00e0y ( t\u1ef1 google nh\u00e9).</p> </li> <li> <p>Cu\u1ed1i c\u00f9ng l\u00e0 ch\u00fang ta c\u00f3 th\u00ea d\u00f9ng <code>eventbridge</code> c\u0169ng c\u1ee7a AWS \u0111\u1ec3 l\u1eadp l\u1ecbch cho vi\u1ec7c ch\u1ea1y h\u00e0ng tu\u1ea7n. N\u1ebfu b\u1ea1n ch\u01b0a r\u00f5 v\u1ec1 crontab th\u00ec c\u00f3 th\u1ec3 test th\u1eed th\u00eam \u1edf \u0111\u00e2y. Event schedule tr\u00ean AWS m\u00ecnh setup nh\u01b0 n\u00e0y: <code>cron(00 22 ? * SUN *)</code>. V\u00e0 tham s\u1ed1 truy\u1ec1n v\u00e0o (input) th\u00ec c\u00f3 d\u1ea1ng nh\u01b0 n\u00e0y(b\u1ea1n c\u00f3 th\u1ec3 parse json \u0111\u1ec3 view cho d\u1ec5): <code>{\"action\": \"reboot\", \"instanceNames\": [\"my_server_1\", \"my_server_2\"]}</code></p> </li> <li> <p>Cu\u1ed1i c\u00f9ng lambda ph\u1ea3i c\u00f3 quy\u1ec1n th\u00ec m\u1edbi reboot ec2 \u0111\u01b0\u1ee3c nh\u00e9. V\u00ed d\u1ee5 trong function n\u00e0y m\u00ecnh assign role c\u00f3 2 permission: <code>AmazonEC2FullAccess</code> v\u00e0 <code>AWSLambdaFullAccess</code>.</p> </li> <li> <p>Role tr\u00ean c\u00f3 trusted relationship nh\u01b0 d\u01b0\u1edbi:</p> </li> </ul> <pre><code>{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Principal\": {\n        \"Service\": \"lambda.amazonaws.com\"\n      },\n      \"Action\": \"sts:AssumeRole\"\n    }\n  ]\n}\n</code></pre> <ul> <li> <p>B\u1ea1n c\u00f3 th\u1ec3 t\u1ea1o th\u1eed ec2 nh\u1ecf nh\u1ecf \u0111\u1ec3 test :D</p> </li> <li> <p>Happy working! :D</p> </li> </ul>"},{"location":"blog/2021/11/20/youtube-downloader-tool/","title":"youtube downloader tool","text":"<ul> <li> <p>M\u00ecnh c\u00f3 t\u1ea1o 1 repo \u1edf \u0111\u00e2y, script m\u1edbi ch\u1ec9 support download khi th\u00eam link th\u1ee7 c\u00f4ng. Hy v\u1ecdng s\u1ebd s\u1edbm n\u00e2ng c\u1ea5p \u0111\u01b0\u1ee3c tool th\u00e0nh b\u1ea3n ph\u1ea7n m\u1ec1m :muscle:</p> </li> <li> <p>L\u00fac \u0111\u1ea7u \u0111\u1ecbnh d\u00f9ng pytube v\u1edbi th\u1eddi \u0111i\u1ec3m <code>20-11-2021</code> c\u00f3 4.9k start, 155 watch. Xong l\u01b0\u1edbt l\u01b0\u1edbt search th\u1eed stackoverflow wtf youtube-dl <code>20-11-2021</code> 106k start, 2.2k watch.</p> </li> <li> <p>Th\u00f4i d\u00f9ng th\u01b0 vi\u1ec7n youtube-dl lu\u00f4n :))</p> </li> </ul> <ul> <li>T\u1ea1o file: <code>requirements.txt</code> v\u1edbi th\u01b0 vi\u1ec7n duy nh\u1ea5t(th\u1eddi \u0111i\u1ec3m hi\u1ec7n t\u1ea1i ch\u1ec9 support link insert th\u1ee7 c\u00f4ng):</li> </ul> <pre><code>youtube-dl==2021.6.6\n</code></pre> <ul> <li>T\u1ea1o file <code>main.py</code>:</li> </ul> <pre><code>import youtube_dl\n\nydl_opts = {\n  # 'outtmpl': os.path.join(download_path, '%(title)s-%(id)s.%(ext)s'),\n}\n\nwith youtube_dl.YoutubeDL(ydl_opts) as ydl:\n  ydl.download(['https://www.youtube.com/watch?v=WwOY1o16T4s'])\n</code></pre> <ul> <li> <p>R\u1ed3i ch\u1ea1y l\u1ec7nh: <code>pip install -r requirements.txt</code> v\u00e0 sau \u0111\u00f3 <code>python main.py</code> \u0111\u1ec3 download video v\u1ec1 th\u00f4i.</p> </li> <li> <p>Th\u01b0 vi\u1ec7n n\u00e0y c\u00f3 th\u1ec3 download t\u1eeb nhi\u1ec1u trang ko ri\u00eang youtube, m\u00ecnh c\u0169ng c\u00f3 th\u1eafc m\u1eafc download kh\u00e1 l\u00e2u, ko bi\u1ebft c\u00f3 th\u1ec3 chia nh\u1ecf nhi\u1ec1u ph\u1ea7n \u0111\u1ec3 download nhanh h\u01a1n kh\u00f4ng? N\u1ebfu tr\u1ea3 l\u1eddi \u0111\u01b0\u1ee3c nh\u1eefng c\u00e2u h\u1ecfi tr\u00ean m\u00ecnh s\u1ebd c\u00e2p nh\u1eadt l\u1ea1i :D.</p> </li> </ul>"},{"location":"blog/2021/11/21/site-to-site-vpn-between-gcp-and-aws-cloud/","title":"Site-to-Site VPN Between GCP and AWS Cloud","text":"<ul> <li> <p>B\u00e0i g\u1ed1c tr\u00ean linkin \u1edf \u0111\u00e2y.</p> </li> <li> <p>\u0110i\u1ec1u ki\u1ec7n ti\u00ean quy\u1ebft:</p> </li> <li> <p>T\u00e1c gi\u1ea3 coi nh\u01b0 b\u1ea1n \u0111\u00e3 t\u1ea1o VPC tr\u00ean GCP v\u00e0 AWS, \u0111\u1ed3ng th\u1eddi \u0111\u00e3 t\u1ea1o 2 VMs trong public subnet v\u1edbi public IP.    </p> </li> </ul>"},{"location":"blog/2021/11/21/site-to-site-vpn-between-gcp-and-aws-cloud/#step-1-create-static-ip-trong-gcp","title":"Step 1 - Create Static IP trong GCP","text":"<ul> <li> <p>T\u1ea1o 1 static public IP b\u00ean GCP: <code>VPC network</code> -&gt; <code>External IP address</code>.</p> </li> <li> <p>Gi\u1ea3 s\u1eed sau khi t\u1ea1o xong public IP c\u1ee7a b\u1ea1n b\u00ean GCP l\u00e0: <code>35.245.78.201</code></p> </li> </ul>"},{"location":"blog/2021/11/21/site-to-site-vpn-between-gcp-and-aws-cloud/#step-2-create-a-customer-gateway-in-aws-cloud","title":"Step 2 - Create a \"Customer Gateway\" in AWS Cloud","text":"<ul> <li> <p>Customer gateway l\u00e0 m\u1ed9t \u0111\u1ea1i di\u1ec7n, trong AWS, \u0111\u1ec3 ph\u00eda VPN b\u00ean kia k\u1ebft n\u1ed1i t\u1edbi. C\u01a1 b\u1ea3n \u0111\u00e2y s\u1ebd l\u00e0 1 IP m\u00e0 AWS s\u1ebd li\u00ean l\u1ea1c t\u1edbi.</p> </li> <li> <p>AWS: <code>VPC</code> -&gt; <code>Customer Gateways</code> -&gt; <code>Create customer gateway</code>: routing ch\u1ecdn static, IP address l\u00e0 static IP b\u00ean GCP v\u1eeba t\u1ea1o \u1edf tr\u00ean.</p> </li> </ul>"},{"location":"blog/2021/11/21/site-to-site-vpn-between-gcp-and-aws-cloud/#step-3-create-virtual-private-gateway-in-aws-cloud","title":"Step 3 - Create \"Virtual private gateway\" in AWS Cloud","text":"<ul> <li> <p>M\u1ed9t <code>virtual private gateway</code> l\u00e0 m\u1ed9t \u0111\u1ea1i di\u1ec7n c\u1ee7a <code>VPN connector</code> trong AWS. N\u00f3 nh\u01b0 l\u00e0 ph\u00eda AWS gi\u1eefa hai k\u1ebft n\u1ed1i m\u1ea1ng: c\u1ed5ng ra c\u1ee7a traffic AWS VPC</p> </li> <li> <p>AWS: <code>Virtual private Gateways</code> -&gt; <code>Create virtual private gateway</code></p> </li> </ul>"},{"location":"blog/2021/11/21/site-to-site-vpn-between-gcp-and-aws-cloud/#step-4-attach-virtual-private-gateway-to-the-vpc","title":"Step 4 - Attach virtual private gateway to the VPC","text":"<ul> <li> <p>Sau khi t\u1ea1o VPG ch\u00fang ta \u0111\u00e3 c\u00f3 m\u1ed9t c\u1ed5ng b\u00ean trong AWS nh\u01b0ng n\u00f3 \u0111ang ch\u1eb3ng li\u00ean k\u1ebft v\u1edbi \u0111\u00e2u c\u1ea3.</p> </li> <li> <p>AWS: <code>VPC</code> -&gt; <code>Virtual private gateway</code> -&gt; <code>Select your VPC</code> -&gt; <code>Actions</code> -&gt; <code>Attach to VPC</code>.</p> </li> <li> <p>M\u1ed7i m\u1ed9t VPC ch\u1ec9 connect \u0111\u01b0\u1ee3c t\u1edbi m\u1ed9t VPG.</p> </li> </ul>"},{"location":"blog/2021/11/21/site-to-site-vpn-between-gcp-and-aws-cloud/#step-5-create-the-vpn-connection-in-aws","title":"Step 5 - Create the \"VPN connection\" in AWS","text":"<ul> <li> <p>Ch\u00fang ta \u0111\u00e3 s\u1eb5n s\u00e0ng li\u00ean k\u1ebft hai b\u00ean.</p> </li> <li> <p>AWS: <code>VPC</code> -&gt; <code>Site-to-Site VPN connections</code> -&gt; <code>Create VPN connection</code>:</p> </li> <li> <p>Name tag: <code>VPN connection</code></p> </li> <li> <p>Target gateway type: <code>Virtual Private gateway</code></p> </li> <li> <p>Virtual private gateway: VPG ID</p> </li> <li> <p>Customer Gateway: EXisting</p> </li> <li> <p>Customer Gateway ID: CD ID</p> </li> <li> <p>Routing options: Static(GCP Private Subnet IP) 172.16.1.0/24</p> </li> </ul>"},{"location":"blog/2021/11/21/site-to-site-vpn-between-gcp-and-aws-cloud/#step-6-download-the-configuration-from-aws","title":"Step 6 - Download the configuration from AWS","text":"<ul> <li> <p>Ch\u00fang ta c\u1ea7n download c\u1ea5u h\u00ecnh AWS \u0111\u00e3 t\u1ea1o ra \u0111\u1ec3 c\u1ea5u h\u00ecnh ph\u00eda GCP (GCE): AWS -&gt; <code>VPC</code> -&gt; <code>Site-to-Site VPN Connections</code> -&gt; Select VPN connection -&gt; <code>Download configuration</code></p> </li> <li> <p>Vendor: <code>Generic</code></p> </li> <li> <p>Platform: <code>Generic</code></p> </li> <li> <p>Software: <code>Vendor Agnostic</code></p> </li> <li> <p>Trong file download n\u00e0y nh\u1eefng tham s\u1ed1 sau l\u00e0 quan tr\u1ecdng:</p> </li> <li> <p><code>Internet Key Exchange Configuration</code>: IKE Version, Pre-shared key</p> </li> <li> <p><code>Tunnel interface configuration</code>: Virtual private gateway IP</p> </li> </ul>"},{"location":"blog/2021/11/21/site-to-site-vpn-between-gcp-and-aws-cloud/#back-to-gce-d","title":"Back to GCE :D","text":""},{"location":"blog/2021/11/21/site-to-site-vpn-between-gcp-and-aws-cloud/#step-7-create-vpn-connection-in-gcp","title":"Step 7 - Create \"VPN connection\" in GCP","text":"<ul> <li> <p>Ch\u1ecdn <code>VPN</code> t\u1eeb tab <code>Hybrid Connectivity</code></p> </li> <li> <p>Ch\u1ecdn ti\u1ebfp <code>VPN</code> menu b\u00ean tr\u00e1i -&gt; <code>Create VPN connection</code></p> </li> <li> <p>Ch\u1ecdn <code>Classic VPN</code> -&gt; <code>Continue</code></p> </li> <li> <p>Google Compute Engine VPN gateway:</p> </li> <li> <p>Name: <code>gcp-vpn-connection</code></p> </li> <li> <p>Network: <code>company-vpc</code></p> </li> <li> <p>Region: <code>us-east4</code></p> </li> <li> <p>IP Address: <code>35.245.78.201 (GCP Static Public IP)</code></p> </li> <li> <p>GP tunnel setting</p> </li> <li> <p>Remote Peer IP Address: <code>3.212.143.189 (AWS VPG IP)</code></p> </li> <li> <p>IKE version: <code>IKEv1</code></p> </li> <li> <p>Remote network IP Range: <code>10.10.0.0/16 (AWS VPC CIDR)</code></p> </li> </ul>"},{"location":"blog/2021/11/21/site-to-site-vpn-between-gcp-and-aws-cloud/#step-8-route-propagation-in-aws-cloud","title":"Step 8 - Route propagation in AWS Cloud","text":"<ul> <li> <p>Edit routing table of subnet</p> </li> <li> <p>AWS: <code>VPC</code> -&gt; <code>Route Tables</code> -&gt; Select route table -&gt; <code>Edit Routes</code>:</p> </li> <li> <p>Th\u00eam route cho m\u1ea1ng GCP : <code>172.16.1.0/24  Target (Virtual Private Gateway)</code></p> </li> <li> <p>ho\u1eb7c t\u1ef1 \u0111\u1ed9ng qu\u1ea3ng b\u00e1 \u0111\u1ecbnh tuy\u1ebfn(Propagate Route automatically)</p> </li> </ul>"},{"location":"blog/2021/11/21/site-to-site-vpn-between-gcp-and-aws-cloud/#step-9-edit-security-group-in-aws-cloud","title":"Step 9 - Edit security group in AWS Cloud","text":"<ul> <li> <p>AWS: <code>VPC</code> -&gt; <code>Security Groups</code> -&gt; Select SG -&gt; <code>Inbound rules</code> -&gt; <code>Edit Rule</code>:</p> </li> <li> <p>Allow SSH v\u00e0 ICMP cho subnet GCP (GCP subnet CIDR 172.16.1.0/24)</p> </li> </ul>"},{"location":"blog/2021/11/21/site-to-site-vpn-between-gcp-and-aws-cloud/#step-10-edit-firewall-rule-in-gcp-cloud","title":"Step 10 - Edit Firewall Rule in GCP Cloud","text":"<ul> <li> <p>GCP: <code>VPC network</code> -&gt; <code>Firewall rules</code> -&gt; <code>Source IP range</code>: Add CIDR VPC c\u1ee7a AWS: <code>10.10.0.0/16</code></p> </li> <li> <p>Check l\u1ea1i status sau khi ho\u00e0n t\u1ea5t:</p> </li> <li> <p>AWS: VPN connections l\u00e0 <code>available</code>, Tunnel Detail l\u00e0 <code>UP</code></p> </li> <li> <p>GCP: <code>Hybrid Connectivity</code> -&gt; <code>VPN</code> -&gt; <code>Cloud VPN tunnels</code> : <code>enabled</code></p> </li> <li> <p>Test l\u1ea1i b\u1eb1ng c\u00e1ch v\u00e0o 2 VMs tr\u00ean 2 cloud platform \u0111\u1ec3 ping sang 2 IP</p> </li> <li> <p>AWS VPC CIDR 10.10.0.0/16: PublicSubnet-1 10.10.1.0/24</p> </li> <li> <p>GCP PublicSubnet 172.16.1.0/16</p> </li> </ul>"},{"location":"blog/2021/11/21/site-to-site-vpn-between-gcp-and-aws-cloud/#happy-working-d","title":"Happy working! :D","text":""},{"location":"blog/2021/11/21/terragrunt-run-ec2-with-nginx-as-proxy/","title":"Terragrunt run ec2 with nginx as proxy","text":"<ul> <li>\u00c0 nh\u1ea7m r\u1ed3i :| d\u1ea1o n\u00e0y hay vi\u1ebft terragrunt ch\u1ee9 task n\u00e0y m\u00ecnh d\u00f9ng terraform @@!.</li> <li> <p>D\u00f9 sao th\u00ec terragrunt c\u0169ng th\u1ef1c s\u1ef1 r\u1ea5t hay, m\u00ecnh ch\u1eafc ch\u1eafn s\u1ebd c\u1ed1 g\u1eafng vi\u1ebft v\u00e0i b\u00e0i ho\u1eb7c d\u1ecbch v\u00e0i b\u00e0i v\u1ec1 terragrunt. Th\u00edch nh\u1ea5t idea c\u1ee7a terragrant khi b\u1ea1n l\u00e0m devops v\u00e0 ph\u1ea3i tri\u1ec3n khai c\u00e1c m\u00f4i tr\u01b0\u1eddng kh\u00e1c nhau (<code>prod</code>, <code>stage</code>, <code>qa</code>). Th\u1ef1c ra ch\u00ednh l\u00e0 trong \u0111o\u1ea1n n\u00e0y.</p> </li> <li> <p>Th\u00f4i quay tr\u1edf l\u1ea1i b\u00e0i ch\u00ednh :D</p> </li> </ul> <ul> <li> <p>Y\u00eau c\u1ea7u c\u1ee7a b\u00e0i to\u00e1n l\u00e0 s\u1eed d\u1ee5ng <code>terraform</code> ch\u1ea1y m\u1ed9t ec2 v\u1edbi 3 container: 2 container l\u00e0 metabase m\u1ed9t cho <code>prod</code> v\u00e0 m\u1ed9t cho <code>staging</code> - hai container n\u00e0y s\u1ebd ko expose port ra ngo\u00e0i. M\u1ed9t container nginx nh\u1eadn request v\u00e0 forward sang c\u00e1c container t\u01b0\u01a1ng \u1ee9ng.</p> </li> <li> <p>S\u1ebd r\u1ea5t nhanh n\u1ebfu l\u00e0m tr\u00ean local v\u1edbi 1 file <code>docker-compose.yml</code> l\u00e0 xong :D ho\u1eb7c tr\u00ean ec2 v\u1edbi <code>user-data</code> th\u00ec c\u0169ng nhanh th\u00f4i :D. L\u00e0m v\u1edbi terraform l\u00e0m m\u00ecnh m\u1ea5t th\u1eddi gian h\u01a1n :D</p> </li> <li> <p>C\u1ea5u tr\u00fac th\u01b0 m\u1ee5c s\u1ebd nh\u01b0 n\u00e0y:</p> </li> </ul> <pre><code>.\n\u251c\u2500\u2500 main.tf\n\u251c\u2500\u2500 user_data.conf\n\u2514\u2500\u2500 variables.tf\n</code></pre> <ul> <li>File <code>main.tf</code> s\u1ebd c\u00f3 n\u1ed9i dung g\u1ea7n nh\u01b0 th\u1ebf n\u00e0y:</li> </ul> <pre><code>  provider \"aws\" {\n  region  = \"ap-southeast-1\"\n  profile = \"&lt;your-aws-profile&gt;\"\n  }\n\n  terraform {\n    backend \"s3\" {\n      bucket  = \"&lt;your-aws-s3-bucket&gt;\"\n      key     = \"prod/metabase\"\n      region  = \"ap-southeast-1\"\n      encrypt = true\n      profile = \"&lt;your-aws-profile&gt;\"\n    }\n  }\n\n  locals {\n\n    tags = {\n      \"Project\"     = \"your-project-name\"\n      \"Environment\" = \"prod\"\n      \"Terraform\"   = \"true\"\n      \"Prometheus\"  = \"production\"\n      \"Name\"        = \"metabase\"\n      \"Product\"     = \"Metabase\"\n      \"Service\"     = \"service-name\"\n    }\n    vpc_id        = \"vpc_id\"\n    ami           = \"ami-07191cf2912e097a6\"\n    instance_type = \"t2.large\"\n    key_name      = \"your-project-name-prod-setup\"\n    subnet_id     = \"subnet_id\"\n\n  }\n\n  resource \"aws_instance\" \"metabase\" {\n    ami                         = local.ami\n    instance_type               = local.instance_type\n    key_name                    = local.key_name\n    monitoring                  = true\n    associate_public_ip_address = true\n    vpc_security_group_ids      = [\"${module.security_group.security_group_id}\"]\n    subnet_id                   = local.subnet_id\n    user_data                   = file(\"${path.module}/user_data.conf\")\n  }\n\n  resource \"aws_ebs_volume\" \"metabase_volume\" {\n    availability_zone = \"ap-southeast-1c\"\n    size              = 30\n  }\n\n  resource \"aws_volume_attachment\" \"ebs_att\" {\n\n    device_name = \"/dev/sdh\"\n    volume_id   = aws_ebs_volume.metabase_volume.id\n    instance_id = aws_instance.metabase.id\n  }\n\n  module \"security_group\" {\n    source  = \"terraform-aws-modules/security-group/aws\"\n    version = \"4.3.0\"\n\n    name                     = \"metabase-sg\"\n    description              = \"Terraformed security group.\"\n    vpc_id                   = local.vpc_id\n    ingress_ipv6_cidr_blocks = []\n    egress_ipv6_cidr_blocks  = []\n\n    tags = var.tags\n\n    ingress_with_cidr_blocks = var.ingress_with_cidr_blocks\n\n    egress_with_cidr_blocks = var.egress_with_cidr_blocks\n  }\n\n  resource \"aws_eip\" \"lb\" {\n    instance = aws_instance.metabase.id\n    vpc      = true\n  }\n  resource \"aws_eip_association\" \"eip_assoc\" {\n    instance_id   = aws_instance.metabase.id\n    allocation_id = aws_eip.lb.id\n  }\n</code></pre> <ul> <li>File <code>variables.tf</code></li> </ul> <pre><code>  variable \"tags\" {\n  default = {}\n  }\n\n  variable \"ingress_with_cidr_blocks\" {\n    default = [{\n      rule : \"ssh-tcp\"\n      cidr_blocks : \"1.2.3.4/32\"\n      description = \"Public IP\"\n      },\n      {\n        from_port : 443\n        to_port : 443\n        protocol : \"tcp\"\n        cidr_blocks : \"0.0.0.0/0\"\n        description : \"metabase service\"\n    }]\n  }\n\n  variable \"egress_with_cidr_blocks\" {\n    default = [{\n      rule : \"all-all\"\n      cirdr_blocks : \"0.0.0.0/0\"\n    }]\n  }\n</code></pre> <ul> <li> <p>N\u1ebfu b\u1ea1n truy\u1ec1n tham s\u1ed1 v\u00e0 ch\u1ea1y file <code>main.tf</code>. \u0110o\u1ea1n script tr\u00ean s\u1ebd kh\u1edfi t\u1ea1o m\u1ed9t Elastic IP ( static public IP), security group (SG) v\u1edbi c\u00e1c <code>inbound</code> v\u00e0 <code>outbound</code> \u0111\u01b0\u1ee3c truy\u1ec1n nh\u01b0 tham s\u1ed1 b\u1ea1n truy\u1ec1n v\u00e0o cho <code>ingress_with_cidr_blocks</code> v\u00e0 <code>egress_with_cidr_blocks</code> n\u1ebfu ko s\u1ebd l\u1ea5y gi\u00e1 tr\u1ecb m\u1eb7c \u0111\u1ecbnh trong <code>variables.tf</code>, m\u1ed9t EBS volume, m\u1ed9t EC2 v\u1edbi c\u00e1c thu\u1ed9c t\u00ednh t\u1ea1o tr\u01b0\u1edbc \u0111\u00f3.</p> </li> <li> <p>Cu\u1ed1i c\u00f9ng ch\u1ea1y c\u00e1c l\u1ec7nh c\u00f3 trong <code>user_data.conf</code>. V\u1eady trong file n\u00e0y c\u00f3 g\u00ec. C\u00f9ng ki\u1ec3m tra th\u1eed:</p> </li> </ul> <pre><code>  #cloud-config\n  package_upgrade: true\n\n  packages:\n      - wget\n      - docker\n      - curl\n\n  write_files:\n      # - path: /etc/systemd/system/node_exporter.service\n      #   content: |\n      #     [Unit]\n      #     Description=Node Exporter\n\n      #     [Service]\n      #     User=root\n      #     ExecStart=/usr/local/bin/node_exporter\n\n      #     [Install]\n      #     WantedBy=default.target\n      - path: /metabase/docker-compose.yml\n        content: |\n            version: \"3\"\n            services:\n              metabase:\n                image: metabase/metabase\n                container_name: metabase\n                restart: always\n                # ports:\n                #   - 8080:3000\n                volumes:\n                  - ~/metabase-data/:/metabase-data\n                environment:\n                  MB_DB_FILE: /metabase-data/metabase.db\n                networks:\n                  - metabase\n\n              metabasestg:\n                image: metabase/metabase\n                container_name: metabasestg\n                restart: always\n                # ports:\n                #   - 3000:3000\n                volumes:\n                  - ~/metabase-data-stg/:/metabase-data-stg\n                environment:\n                  MB_DB_FILE: /metabase-data-stg/metabase.db\n                networks:\n                  - metabase\n\n              nginx:\n                image: nginx:1.21.3\n                container_name: nginx\n                restart: always\n                ports:\n                  - 80:80\n                  - 443:443\n                volumes:\n                  - ./nginx.conf:/etc/nginx/nginx.conf\n                  - ./eserver.crt:/etc/pki/nginx/eserver.crt\n                  - ./server.key:/etc/pki/nginx/private/server.key\n                networks:\n                  - metabase\n\n            networks:\n              metabase: ~\n      - path: /metabase/nginx.conf\n        content: |\n            # For more information on configuration, see:\n            #   * Official English Documentation: http://nginx.org/en/docs/\n            #   * Official Russian Documentation: http://nginx.org/ru/docs/\n\n            user nginx;\n            worker_processes auto;\n            error_log /var/log/nginx/error.log;\n            pid /run/nginx.pid;\n\n            # Load dynamic modules. See /usr/share/doc/nginx/README.dynamic.\n            include /usr/share/nginx/modules/*.conf;\n\n            events {\n                worker_connections 1024;\n            }\n\n            http {\n                log_format  main  '$remote_addr - $remote_user [$time_local] \"$request\" '\n                                  '$status $body_bytes_sent \"$http_referer\" '\n                                  '\"$http_user_agent\" \"$http_x_forwarded_for\"';\n\n                access_log  /var/log/nginx/access.log  main;\n\n                sendfile            on;\n                tcp_nopush          on;\n                tcp_nodelay         on;\n                keepalive_timeout   65;\n                types_hash_max_size 4096;\n\n                include             /etc/nginx/mime.types;\n                default_type        application/octet-stream;\n\n                # Load modular configuration files from the /etc/nginx/conf.d directory.\n                # See http://nginx.org/en/docs/ngx_core_module.html#include\n                # for more information.\n                include /etc/nginx/conf.d/*.conf;\n\n                server {\n                    listen       80;\n                    listen       [::]:80;\n                    server_name  _;\n                    #root         /usr/share/nginx/html;\n\n                    # Load configuration files for the default server block.\n                    include /etc/nginx/default.d/*.conf;\n                    return 301 https://$host$request_uri;\n\n                    error_page 404 /404.html;\n                      location = /404.html {\n                    }\n\n                    error_page 500 502 503 504 /50x.html;\n                      location = /50x.html {\n                    }\n                }\n\n                # Settings for a TLS enabled server.\n                server {\n                    listen       443 ssl http2;\n                    listen       [::]:443 ssl http2;\n                    server_name  metabase.prod.com;\n                    # root         /usr/share/nginx/html;\n\n                    ssl_certificate \"/etc/pki/nginx/eserver.crt\";\n                    ssl_certificate_key \"/etc/pki/nginx/private/server.key\";\n                    ssl_session_cache shared:SSL:1m;\n                    ssl_session_timeout  10m;\n                    ssl_ciphers HIGH:!aNULL:!MD5;\n                    ssl_prefer_server_ciphers on;\n\n                    # Load configuration files for the default server block.\n                    include /etc/nginx/default.d/*.conf;\n\n                    location / {\n                        proxy_pass http://metabase:3000;\n                    }\n\n                    error_page 404 /404.html;\n                        location = /40x.html {\n                    }\n\n                    error_page 500 502 503 504 /50x.html;\n                        location = /50x.html {\n                    }\n                }\n\n              server {\n                    listen       443 ssl http2;\n                    listen       [::]:443 ssl http2;\n                    server_name  metabase.staging.com;\n                    # root         /usr/share/nginx/html;\n\n                    ssl_certificate \"/etc/pki/nginx/eserver.crt\";\n                    ssl_certificate_key \"/etc/pki/nginx/private/server.key\";\n                    ssl_session_cache shared:SSL:1m;\n                    ssl_session_timeout  10m;\n                    ssl_ciphers HIGH:!aNULL:!MD5;\n                    ssl_prefer_server_ciphers on;\n\n                    # Load configuration files for the default server block.\n                    include /etc/nginx/default.d/*.conf;\n\n                    location / {\n                        proxy_pass http://metabasestg:3000;\n                    }\n\n                    error_page 404 /404.html;\n                        location = /40x.html {\n                    }\n\n                    error_page 500 502 503 504 /50x.html;\n                        location = /50x.html {\n                    }\n                }\n            }\n\n      - path: /metabase/eserver.crt\n        content: |\n            -----BEGIN CERTIFICATE-----\n            &lt;your-certificate&gt;\n            -----END CERTIFICATE-----\n\n      - path: /metabase/server.key\n        content: |\n            -----BEGIN PRIVATE KEY-----\n            &lt;your-private-key&gt;\n            -----END PRIVATE KEY-----\n\n  runcmd:\n      # system update\n      - sudo yum update -y\n      # Start Docker service\n      - sudo service docker start\n      # Install docker-compose\n      - sudo curl -L \"https://github.com/docker/compose/releases/download/1.24.0/docker-compose-$(uname -s)-$(uname -m)\" -o /usr/local/bin/docker-compose\n      - sudo chmod +x /usr/local/bin/docker-compose\n      - sudo ln -s /usr/local/bin/docker-compose /usr/bin/docker-compose\n      - docker-compose version\n\n      # Install Prometheus Node Exporter\n      # - wget https://github.com/prometheus/node_exporter/releases/download/v0.17.0/node_exporter-0.17.0.linux-amd64.tar.gz\n      # - tar -xvf node_exporter-0.17.0.linux-amd64.tar.gz\n      # - mv node_exporter-0.17.0.linux-amd64/node_exporter /usr/local/bin\n      # - systemctl daemon-reload\n      # - systemctl enable node_exporter.service\n      # - systemctl start node_exporter.service\n\n      # Run metabase and metabasetsg and nginx\n      - cd /metabase\n      - docker-compose up -d\n\n\n  output: { all: \"| tee -a /var/log/cloud-init-output.log\" }\n</code></pre> <ul> <li> <p>N\u1ed9i dung script trong <code>user_data.conf</code> l\u1ea7n l\u01b0\u1ee3t th\u1ef1c hi\u1ec7n c\u00e1c vi\u1ec7c:</p> </li> <li> <p>C\u1eadp nh\u1eadt c\u00e1c g\u00f3i: <code>wget</code>, <code>docker</code>, <code>curl</code></p> </li> <li>T\u1ea1o file <code>docker-compose.yml</code> , <code>nginx.conf</code>, <code>eserver.crt</code>, <code>server.key</code> with their content. <code>eserver.crt</code> v\u00e0 <code>server.key</code> l\u00e0 n\u1ed9i dung b\u1ea1n t\u1ef1 gen ra cho m\u00ecnh \u0111\u1ec3 support SSL (cloud flare support self ssl - c\u1ea7n check l\u1ea1i vi\u1ec7c n\u00e0y (cwl)).</li> <li>th\u1ef1c thi c\u00e2u l\u1ec7nh c\u00e0i docker, docker-compose v\u00e0 <code>docker-compose up -d</code></li> <li> <p>Sau khi ec2 v\u00e0 c\u00e1c container up th\u00ec s\u1ebd t\u1ea1o ra m\u00f4 h\u00ecnh nh\u01b0 \u1ea3nh d\u01b0\u1edbi, ph\u1ea7n c\u00f2n l\u1ea1i l\u00e0 tr\u1ecf domain v\u1ec1 public IP \u0111\u01b0\u1ee3c t\u1ea1o tr\u01b0\u1edbc \u0111\u00f3 l\u00e0 xong.     </p> </li> <li> <p>Happy working!!!</p> </li> </ul>"},{"location":"blog/2021/11/23/take-note-about-k8s-autoscaler/","title":"Take note about k8s autoscaler","text":"<ul> <li>B\u00e0i n\u00e0y s\u1ebd kh\u00f4ng c\u00f3 \u1ea3nh do s\u1ee3 l\u1ed9 th\u00f4ng tin c\u1ea5u h\u00ecnh c\u1ee7a kh\u00e1ch h\u00e0ng m\u00ecnh \u0111ang l\u00e0m :D. Hy v\u1ecdng sau c\u00f3 \u0111i\u1ec1u ki\u1ec7n s\u1ebd l\u00e0m demo \u0111\u01b0\u1ee3c.</li> <li> <p>B\u00e0i n\u00e0y c\u0169ng ko d\u00e0i ch\u1ec9 1 d\u00f2ng note l\u1ea1i c\u00f4ng vi\u1ec7c h\u00f4m nay.</p> </li> <li> <p>Sau khi implement auto scale cho k8s nh\u01b0 file <code>1117-eks-cluster-autoscaler.md</code>. M\u00ecnh mu\u1ed1n test l\u1ea1i xem \u0111\u00e3 ok ch\u01b0a.</p> </li> </ul> <ul> <li> <p>M\u00ecnh c\u00f3 xem 1 video c\u1ee7a b\u1ea1n n\u00e0y kh\u00e1 h\u1eefu \u00edch n\u00f3 \u0111\u1ea7y \u0111\u1ee7 th\u00f4ng tin m\u00ecnh c\u1ea7n. Video \u1edf \u0111\u00e2y. \u0110o\u1ea1n cu\u1ed1i sau khi t\u1ea1o eks cluster, implement <code>cluster autoscaler</code>. B\u1ea1n deploy th\u00eam nginx \u0111\u1ec3 test autoscaler.</p> </li> <li> <p>M\u00ecnh l\u00e0m t\u01b0\u01a1ng t\u1ef1 v\u00e0 g\u1eb7p ch\u00fat v\u1ea5n \u0111\u1ec1. Ban \u0111\u1ea7u kh\u00f4ng c\u00f3 pod n\u00e0o , v\u00e0 c\u00f3 2 node. Sau khi deploy v\u1edbi <code>replica: 3</code>. 2 pod l\u00ean running v\u00e0 1 pod v\u1eabn pen\u0111ing. Theo t\u00ednh to\u00e1n ch\u1ec9 c\u1ea7n 1 node t\u1ea1o th\u00eam l\u00e0 \u0111\u00e1p \u1ee9ng \u0111\u1ee7 cho 3 replica. ( m\u1ed7i pod \u0111\u01b0\u1ee3c ch\u1ec9 \u0111\u1ecbnh tr\u00ean m\u1ed9t node). Nh\u01b0ng kh\u00f4ng node th\u1ee9 3 r\u1ed3i node th\u1ee9 4 \u0111\u01b0\u1ee3c t\u1ea1o ra v\u00e0 pod th\u1ee9 5 c\u00f3 th\u1ec3 \u0111\u01b0\u1ee3c t\u1ea1o t\u1ea1i sao?</p> </li> <li> <p>C\u00e2u tr\u1ea3 l\u1eddi l\u00e0 do m\u00ecnh \u0111\u1ec3 deployment file ch\u1ec9 \u0111\u1ecbnh v\u00e0o node c\u00f3 label c\u1ee5 th\u1ec3. Nh\u01b0ng node \u0111\u01b0\u1ee3c t\u1ea1o m\u1edbi kh\u00f4ng c\u00f3 label n\u00e0y. N\u00ean node m\u1edbi ti\u1ebfp t\u1ee5c \u0111\u01b0\u1ee3c t\u1ea1o.</p> </li> <li> <p>V\u1eady c\u1ea7n l\u01b0u \u00fd nh\u1eefng g\u00ec?</p> </li> <li> <p>C\u1ea7n bi\u1ebft \u0111\u01b0\u1ee3c <code>launch template</code> c\u1ee7a <code>Auto Scaling Group</code> tr\u00ean AWS \u0111ang nh\u01b0 th\u1ebf n\u00e0o ? N\u1ebfu kh\u00f4ng c\u00f3 th\u1ec3 node m\u1edbi t\u1ea1o ra nh\u01b0ng pod ko bao gi\u1edd \u0111\u01b0\u1ee3c assign v\u00e0o.</p> </li> <li> <p>Xem x\u00e9t c\u1ea5u h\u00ecnh <code>min</code> v\u00e0 <code>max</code> trong ASG v\u1edbi con s\u1ed1 h\u1ee3p l\u00fd. Nh\u01b0 tr\u01b0\u1eddng h\u1ee3p tr\u00ean m\u00e0 max l\u1edbn th\u00ec h\u01a1i toang.</p> </li> <li> <p>Happy working :D!!</p> </li> </ul>"},{"location":"blog/2021/11/26/get-a-shell-to-a-running-container/","title":"Get a Shell to a Running Container","text":"<ul> <li>B\u00e0i g\u1ed1c \u1edf \u0111\u00e2y</li> <li>Thi tho\u1ea3ng ph\u1ea3i ch\u1ea1y l\u1ec7nh trong container trong pod tr\u00ean k8s l\u1ea1i ph\u1ea3i \u0111i search google. Nay th\u1ea5y docs official n\u00ean th\u00f4i d\u1ecbch lu\u00f4n.</li> </ul>"},{"location":"blog/2021/11/26/get-a-shell-to-a-running-container/#before-you-begin","title":"Before you begin","text":"<ul> <li>Tr\u01b0\u1edbc khi b\u1eaft \u0111\u1ea7u b\u1ea1n ph\u1ea3i c\u00f3 k8s cluster v\u00e0 <code>kubectl</code></li> </ul>"},{"location":"blog/2021/11/26/get-a-shell-to-a-running-container/#get-a-shell-to-a-container","title":"Get a shell to a container","text":"<ul> <li>Trong ph\u1ea7n n\u00e0y b\u1ea1n t\u1ea1o m\u1ed9t pod ch\u1ea1y m\u1ed9t container. Container ch\u1ea1y image nginx. File <code>shell-demo.yaml</code> c\u00f3 n\u1ed9i dung nh\u01b0 d\u01b0\u1edbi:</li> </ul> <pre><code>  apiVersion: v1\n  kind: Pod\n  metadata:\n    name: shell-demo\n  spec:\n    volumes:\n    - name: shared-data\n      emptyDir: {}\n    containers:\n    - name: nginx\n      image: nginx\n      volumeMounts:\n      - name: shared-data\n        mountPath: /usr/share/nginx/html\n    hostNetwork: true\n    dnsPolicy: Default\n</code></pre> <ul> <li> <p>T\u1ea1o pod: <code>kubectl apply -f shell-demo.yaml</code>.</p> </li> <li> <p>Ki\u1ec3m tra r\u1eb1ng pod \u0111ang ch\u1ea1y: <code>kubectl get pod shell-demo</code></p> </li> <li> <p>V\u1edbi m\u00f4i tr\u01b0\u1eddng th\u1ef1c, khi b\u1ea1n deploy b\u1eb1ng file <code>deployment.yml</code> b\u1ea1n c\u00f3 th\u1ec3 li\u1ec7t k\u00ea c\u00e1c pod \u0111ang ch\u1ea1y v\u1edbi namespace t\u01b0\u01a1ng \u1ee9ng: <code>kubectl get pod</code>. Kh\u00f4ng c\u00f3 option <code>-n &lt;namespace_name&gt;</code> th\u00ec s\u1ebd l\u00e0 namespace default.</p> </li> <li> <p>Truy c\u1eadp shell c\u1ee7a container \u0111ang ch\u1ea1y:</p> </li> </ul> <pre><code>  kubectl exec --stdin --tty shell-demo -- /bin/bash\n</code></pre> <ul> <li> <p>L\u01afU \u00dd: Double dash <code>--</code> ph\u00e2n bi\u1ec7t c\u00e1c tham s\u1ed1 b\u1ea1n mu\u1ed1n truy\u1ec1n v\u00e0o c\u00e2u l\u1ec7nh (command) v\u1edbi c\u00e1c tham s\u1ed1 c\u1ee7a <code>kubectl</code></p> </li> <li> <p>Sau khi v\u00e0o trong <code>shell</code> c\u1ee7a container th\u00ec b\u1ea1n c\u00f3 th\u1ec3 th\u1ef1c thi c\u00e1c c\u00e2u l\u1ec7nh m\u00ecnh mu\u1ed1n:</p> </li> </ul> <pre><code>  user@computer-name:Desktop$ kubectl exec --stdin --tty shell-demo -- /bin/bash\n  root@shell-demo:/# cat etc/hosts\n  # Kubernetes-managed hosts file.\n  127.0.0.1       localhost\n  ::1     localhost ip6-localhost ip6-loopback\n  fe00::0 ip6-localnet\n  fe00::0 ip6-mcastprefix\n  fe00::1 ip6-allnodes\n  fe00::2 ip6-allrouters\n  10.100.10.117   shell-demo\n</code></pre> <ul> <li>Ch\u1ea1y m\u1ed9t c\u00e2u l\u1ec7nh \u0111\u1ed9c l\u1eadp trong container b\u1ea1n c\u00f3 th\u1ec3 th\u1ef1c thi tr\u1ef1c ti\u1ebfp nh\u01b0 sau:</li> </ul> <pre><code> kubectl exec shell-demo env\n</code></pre>"},{"location":"blog/2021/11/26/get-a-shell-to-a-running-container/#truy-cap-vao-shell-khi-mot-pod-co-nhieu-container","title":"Truy c\u1eadp v\u00e0o <code>shell</code> khi m\u1ed9t Pod c\u00f3 nhi\u1ec1u container","text":"<ul> <li>S\u1eed d\u1ee5ng t\u00f9y ch\u1ecdn <code>--container</code> ho\u1eb7c <code>-c</code> trong <code>kubectl exec</code>.</li> <li>Gi\u1ea3 s\u1eed ch\u00fang ta c\u00f3 m\u1ed9t pod: <code>my-pod</code> v\u00e0 trong pod c\u00f3 2 container <code>main-app</code> v\u00e0 <code>helper-app</code>.</li> <li>Command d\u01b0\u1edbi s\u1ebd m\u1edf m\u1ed9t shell trong container <code>main-app</code>:</li> </ul> <pre><code>  kubectl exec -i -t my-pod --container main-app -- /bin/bash\n</code></pre> <ul> <li> <p>NOTE: T\u00f9y ch\u1ecdn d\u1ea1ng ng\u1eafn <code>-i</code> v\u00e0 <code>-t</code> t\u01b0\u01a1ng \u1ee9ng v\u1edbi d\u1ea1ng \u0111\u1ea7y \u0111\u1ee7 <code>--stdin</code> v\u00e0 <code>--tty</code>.</p> </li> <li> <p><code>-it</code> nghe quen quen nh\u01b0 trong docker nh\u1ec3 :D</p> </li> <li> <p>Happy working!!</p> </li> </ul>"},{"location":"blog/2021/11/26/k8s-overwrite-hosts-file-on-pod/","title":"K8s overwrite hosts file on pod","text":"<ul> <li>Nay \u0111i l\u00e0m kh\u00e1ch h\u00e0ng c\u00f3 m\u1ed9t b\u00e0i to\u00e1n: <code>Tao mu\u1ed1n c\u00f3 m\u1ed9t private domain my-private-domain.com tr\u1ecf t\u1edbi 127.0.0.1 s\u1eed d\u1ee5ng n\u1ed9i b\u1ed9 trong pod</code></li> <li> <p>Hi\u1ec7n t\u1ea1i KHG \u0111ang d\u00f9ng route53 \u0111\u1ec3 gi\u1ea3i quy\u1ebft v\u00e0 mu\u1ed1n h\u1ecfi m\u00ecnh c\u00f3 gi\u1ea3i ph\u00e1p n\u00e0o kh\u00e1c kh\u00f4ng ?</p> </li> <li> <p>Idea c\u1ee7a m\u00ecnh l\u00e0 ghi \u0111\u00e8 v\u00e0o docker <code>container</code> l\u00fac ch\u1ea1y ho\u1eb7c <code>image</code> l\u00fac buid.</p> </li> </ul> <ul> <li>Search th\u1eed qua th\u00ec h\u00ecnh nh\u01b0 c\u00f3 ch\u00fat v\u1ea5n \u0111\u1ec1 v\u1edbi vi\u1ec7c ghi \u0111\u00e8 l\u00ean <code>image</code> l\u00fac build. (n\u1ebfu c\u1ea7n th\u00ec ch\u1eafc c\u00f3 th\u1ec3 test th\u1eed l\u1ea1i). Th\u1ea5y kh\u00f4ng \u1ed5n n\u00ean m\u00ecnh chuy\u1ec3n lu\u00f4n ^^!. Solution th\u1ee9 hai: ghi \u0111\u00e8 file hosts c\u1ee7a container l\u00fac ch\u1ea1y. Ph\u00eda d\u01b0\u1edbi file deployment cho nginx image s\u1ebd ghi \u0111\u00e8 <code>/etc/hosts</code> khi container \u0111\u01b0\u1ee3c ch\u1ea1y:</li> </ul> <pre><code>  apiVersion: apps/v1\n  kind: Deployment\n  metadata:\n    name: nginx-deployment\n  spec:\n    selector:\n      matchLabels:\n        app: nginx\n    replicas: 1\n    template:\n      metadata:\n        labels:\n          app: nginx\n      spec:\n        hostAliases:\n        - ip: \"127.0.0.1\"\n          hostnames:\n          - \"foo.local\"\n          - \"bar.local\"\n        - ip: \"10.1.2.3\"\n          hostnames:\n          - \"foo.remote\"\n          - \"bar.remote\"\n        containers:\n        - name: nginx\n          image: nginx:1.14.2\n          ports:\n          - containerPort: 80\n</code></pre> <ul> <li>Deployment file tr\u00ean s\u1ebd ghi \u0111\u00e8 file <code>etc/hosts</code> v\u1edbi 2 b\u1ea3n ghi m\u1edbi cho domain: <code>foo.local</code>, <code>bar.local</code> v\u00e0 <code>foo.remote</code>, <code>bar.remote</code>.</li> <li>Deploy th\u1eed file tr\u00ean v\u00e0 check l\u1ea1i tr\u00ean trong pod, v\u1edbi l\u1ec7nh curl foo.local:</li> </ul> <pre><code>  papu@computer:Desktop$ kubectl exec --stdin --tty nginx-deployment-88b8b5cf8-m8km8 -- /bin/bash\n  root@nginx-deployment-88b8b5cf8-m8km8:/# cat etc/hosts\n  # Kubernetes-managed hosts file.\n  127.0.0.1       localhost\n  ::1     localhost ip6-localhost ip6-loopback\n  fe00::0 ip6-localnet\n  fe00::0 ip6-mcastprefix\n  fe00::1 ip6-allnodes\n  fe00::2 ip6-allrouters\n  10.100.10.117   nginx-deployment-88b8b5cf8-m8km8\n\n  # Entries added by HostAliases.\n  127.0.0.1       foo.local       bar.local\n  10.1.2.3        foo.remote      bar.remote\n  root@nginx-deployment-88b8b5cf8-m8km8:/# curl foo.local\n  &lt;!DOCTYPE html&gt;\n  &lt;html&gt;\n  &lt;head&gt;\n  &lt;title&gt;Welcome to nginx!&lt;/title&gt;\n  &lt;style&gt;\n      body {\n          width: 35em;\n          margin: 0 auto;\n          font-family: Tahoma, Verdana, Arial, sans-serif;\n      }\n  &lt;/style&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n  &lt;h1&gt;Welcome to nginx!&lt;/h1&gt;\n  &lt;p&gt;If you see this page, the nginx web server is successfully installed and\n  working. Further configuration is required.&lt;/p&gt;\n\n  &lt;p&gt;For online documentation and support please refer to\n  &lt;a href=\"http://nginx.org/\"&gt;nginx.org&lt;/a&gt;.&lt;br/&gt;\n  Commercial support is available at\n  &lt;a href=\"http://nginx.com/\"&gt;nginx.com&lt;/a&gt;.&lt;/p&gt;\n\n  &lt;p&gt;&lt;em&gt;Thank you for using nginx.&lt;/em&gt;&lt;/p&gt;\n  &lt;/body&gt;\n  &lt;/html&gt;\n</code></pre> <ul> <li> <p>C\u00e1ch n\u00e0y c\u00f3 g\u00ec kh\u00e1c so v\u1edbi route53:</p> </li> <li> <p>Route53 s\u1ebd m\u1ea5t ti\u1ec1n cho m\u1ed7i b\u1ea3n ghi</p> </li> <li> <p>C\u00e1ch n\u00e0y th\u00ec kh\u00f4ng tuy nhi\u00ean khi IP thay \u0111\u1ed5i th\u00ec route53 ch\u1ec9 c\u1ea7n s\u1eeda v\u00e0 s\u1ebd \u0111\u01b0\u1ee3c apply ngay. C\u00f2n v\u1edbi c\u00e1ch n\u00e0y ch\u00fang ta ph\u1ea3i v\u00e0o s\u1eeda tay t\u1eebng pod ho\u1eb7c s\u1eeda file deployment r\u1ed3i deploy l\u1ea1i.</p> </li> <li> <p>Happy working :D!!</p> </li> </ul>"},{"location":"blog/2021/12/01/aws-kinesis-firehose-delivery-streams/","title":"Aws Kinesis Firehose delivery streams","text":"<ul> <li> <p>M\u00ecnh d\u00f9ng terraform ( th\u1ef1c ra c\u00f3 d\u00f9ng t\u00fd terragrunt, nh\u01b0ng th\u00f4i terraform cho d\u1ec5 m\u00f4 t\u1ea3) theo doc \u1edf \u0111\u00e2y</p> </li> <li> <p>File <code>main.tf</code> tr\u00f4ng s\u1ebd nh\u01b0 th\u1ebf n\u00e0y:</p> </li> </ul> <pre><code>  resource \"aws_kinesis_firehose_delivery_stream\" \"extended_s3_stream\" {\n    name        = \"terraform-kinesis-firehose-extended-s3-test-stream\"\n    destination = \"extended_s3\"\n\n    extended_s3_configuration {\n      role_arn   = aws_iam_role.firehose_role.arn\n      bucket_arn = aws_s3_bucket.bucket.arn\n\n      processing_configuration {\n        enabled = \"true\"\n      }\n    }\n  }\n\n  resource \"aws_s3_bucket\" \"bucket\" {\n    bucket = \"tf-test-bucket\"\n    acl    = \"private\"\n  }\n\n  resource \"aws_iam_role\" \"firehose_role\" {\n    name = \"firehose_test_role\"\n\n    assume_role_policy = &lt;&lt;EOF\n  {\n    \"Version\": \"2012-10-17\",\n    \"Statement\": [\n      {\n        \"Action\": \"sts:AssumeRole\",\n        \"Principal\": {\n          \"Service\": \"firehose.amazonaws.com\"\n        },\n        \"Effect\": \"Allow\",\n        \"Sid\": \"\"\n      }\n    ]\n  }\n  EOF\n  }\n</code></pre> <ul> <li> <p>Do ko c\u00f3 nhu c\u1ea7u x\u1eed l\u00fd d\u1eef li\u1ec7u tr\u01b0\u1edbc khi \u0111\u1ea9y v\u00e0o destination (S3). N\u00ean m\u00ecnh l\u1ecdc b\u1ecf \u0111o\u1ea1n lambda (tr\u00ean docs c\u1ee7a terraform). Destination S3 th\u00ec c\u1ea7n d\u00f9ng <code>extended_s3</code> nh\u00e9 <code>S3</code> b\u1ecb <code>deprecated</code> kh\u00f4ng n\u00ean d\u00f9ng.</p> </li> <li> <p>Ok! ch\u1ea1y th\u00ec n\u00f3 t\u1ea1o th\u00e0nh c\u00f4ng <code>kinesis firehose delivery streams</code>, v\u00e0 S3 (l\u01b0u \u00fd c\u00e1i tr\u00ean l\u00e0 S3 public access nh\u00e9, t\u00fd s\u1ebd s\u1eeda l\u1ea1i sau).</p> </li> <li> <p>V\u1ea5n \u0111\u1ec1 l\u00e0 sau khi <code>terraform apply</code> th\u00e0nh c\u00f4ng v\u00e0 test l\u1ea1i d\u1ecbch v\u1ee5 nh\u01b0 h\u01b0\u1edbng d\u1eabn aws \u1edf \u0111\u00e2y - \u0111\u01a1n gi\u1ea3n ch\u1ec9 l\u00e0 tr\u00ean giao di\u1ec7n m\u1ee5c: <code>Test with demo data</code> -&gt; click: <code>Start sending demo data</code></p> </li> <li> <p>V\u00e0 ch\u1edd 5 ph\u00fat (do buffer interval l\u00e0 300 seconds) v\u1eabn ko th\u1ea5y d\u1eef li\u1ec7u trong S3 nh\u01b0 h\u01b0\u1edbng d\u1eabn.</p> </li> <li> <p>F*ckkk sau khi check l\u1ea1i th\u00ec v\u1ea5n \u0111\u1ec1 \u1edf ch\u1ed7 t\u1ea1o IAM role cho Kinesis nh\u01b0ng ch\u01b0a assign permission g\u00ec c\u1ea3 cho n\u00ean c\u1ea7n ph\u1ea3i s\u1eeda l\u1ea1i c\u00e1i IAM role nh\u01b0 n\u00e0y:</p> </li> </ul> <pre><code>resource \"aws_iam_role\" \"firehose_role\" {\n  name = var.firehose_role_name\n\n  inline_policy {\n    name = \"allow_s3_kinesis\"\n    policy = jsonencode({\n      \"Version\" : \"2012-10-17\"\n      \"Statement\" : [\n        {\n          \"Effect\" : \"Allow\",\n          \"Action\" : [\n            \"s3:AbortMultipartUpload\",\n            \"s3:GetBucketLocation\",\n            \"s3:GetObject\",\n            \"s3:ListBucket\",\n            \"s3:ListBucketMultipartUploads\",\n            \"s3:PutObject\"\n          ],\n          \"Resource\" : [\n            \"arn:aws:s3:::${var.s3_bucket_name}\",\n            \"arn:aws:s3:::${var.s3_bucket_name}/*\"\n          ]\n        },\n        {\n          \"Effect\" : \"Allow\",\n          \"Action\" : [\n            \"kinesis:DescribeStream\",\n            \"kinesis:GetShardIterator\",\n            \"kinesis:GetRecords\",\n            \"kinesis:ListShards\"\n          ],\n          \"Resource\" : \"arn:aws:kinesis:ap-southeast-1:${var.account_id}:stream/${var.kinesis_firehose_delivery_stream_name}\"\n        },\n      ]\n    })\n  }\n\n  assume_role_policy = &lt;&lt;EOF\n{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Principal\": {\n        \"Service\": \"firehose.amazonaws.com\"\n      },\n      \"Action\": \"sts:AssumeRole\"\n    }\n  ]\n}\nEOF\n}\n</code></pre> <ul> <li> <p>Ok! Sau khi t\u1ea1o l\u1ea1i th\u00ec <code>kinesis</code> \u0111\u00e3 c\u00f3 th\u1ec3 \u0111\u1ea9y d\u1eef li\u1ec7u v\u00e0o S3 r\u1ed3i phewwww.</p> </li> <li> <p>Th\u1ef1c ra v\u1ea5n \u0111\u1ec1 ch\u00ednh m\u00ecnh g\u1eb7p ph\u1ea3i l\u00e0 \u0111\u00e3 ko hi\u1ec3u r\u00f5 IAM role \u0111\u01b0\u1ee3c t\u1ea1o b\u1eb1ng terraform th\u00ec n\u00f3 ntn. Bi\u1ebft thi\u1ebfu permission nh\u01b0ng loay hoay m\u00e3i ko th\u00eam \u0111\u01b0\u1ee3c :|. C\u1ea3m \u01a1n em \u0111\u1ed3ng nghi\u1ec7p t\u00ean Minh(Peter B\u00f9i :D) ^^!</p> </li> <li> <p>V\u00e0 ph\u1ea7n S3 c\u0169ng c\u1ea7n s\u1eeda ch\u00fat \u0111\u1ec3 bucket khi \u0111\u01b0\u1ee3c t\u1ea1o ra tr\u1edf th\u00e0nh private ch\u1ee9 ko b\u1ecb public. Cu\u1ed1i c\u00f9ng file <code>.tf</code> tr\u00f4ng s\u1ebd ntn:</p> </li> </ul> <pre><code>  resource \"aws_kinesis_firehose_delivery_stream\" \"extended_s3_stream\" {\n    name        = var.kinesis_firehose_delivery_stream_name\n    destination = \"extended_s3\"\n    tags        = var.tags\n\n    extended_s3_configuration {\n      role_arn   = aws_iam_role.firehose_role.arn\n      bucket_arn = aws_s3_bucket.bucket.arn\n\n      processing_configuration {\n        enabled = \"false\"\n      }\n    }\n  }\n\n  resource \"aws_s3_bucket\" \"bucket\" {\n    bucket = var.s3_bucket_name\n    acl    = \"private\"\n  }\n\n  resource \"aws_s3_bucket_public_access_block\" \"bucket\" {\n    bucket = aws_s3_bucket.bucket.id\n\n    block_public_acls       = true\n    block_public_policy     = true\n    ignore_public_acls      = true\n    restrict_public_buckets = true\n  }\n\n  resource \"aws_iam_role\" \"firehose_role\" {\n    name = var.firehose_role_name\n\n    inline_policy {\n      name = \"allow_s3_kinesis_${var.firehose_role_name}\"\n      policy = jsonencode({\n        \"Version\" : \"2012-10-17\"\n        \"Statement\" : [\n          {\n            \"Effect\" : \"Allow\",\n            \"Action\" : [\n              \"s3:AbortMultipartUpload\",\n              \"s3:GetBucketLocation\",\n              \"s3:GetObject\",\n              \"s3:ListBucket\",\n              \"s3:ListBucketMultipartUploads\",\n              \"s3:PutObject\"\n            ],\n            \"Resource\" : [\n              \"arn:aws:s3:::${var.s3_bucket_name}\",\n              \"arn:aws:s3:::${var.s3_bucket_name}/*\"\n            ]\n          },\n          {\n            \"Effect\" : \"Allow\",\n            \"Action\" : [\n              \"kinesis:DescribeStream\",\n              \"kinesis:GetShardIterator\",\n              \"kinesis:GetRecords\",\n              \"kinesis:ListShards\"\n            ],\n            \"Resource\" : \"arn:aws:kinesis:ap-southeast-1:${var.account_id}:stream/${var.kinesis_firehose_delivery_stream_name}\"\n          },\n        ]\n      })\n    }\n\n    assume_role_policy = &lt;&lt;EOF\n  {\n    \"Version\": \"2012-10-17\",\n    \"Statement\": [\n      {\n        \"Sid\": \"\",\n        \"Effect\": \"Allow\",\n        \"Principal\": {\n          \"Service\": \"firehose.amazonaws.com\"\n        },\n        \"Action\": \"sts:AssumeRole\"\n      }\n    ]\n  }\n  EOF\n  }\n</code></pre> <ul> <li> <p>C\u00e1c c\u00e1i <code>var</code> kia l\u00e0 tham s\u1ed1 truy\u1ec1n v\u00e0o khi ch\u1ea1y terragrunt nh\u00e9 :D</p> </li> <li> <p>Happy working!!!</p> </li> </ul>"},{"location":"blog/2021/12/01/aws-switch-link-role/","title":"AWS switch link role","text":"<ul> <li> <p>B\u00e0i to\u00e1n:</p> </li> <li> <p>Gi\u1ea3 s\u1eed b\u1ea1n c\u00f3 m\u1ed9t AWS account (<code>account A</code>), kh\u00e1ch h\u00e0ng c\u1ee7a b\u1ea1n c\u00f3 m\u1ed9t aws account kh\u00e1c (<code>account B</code>). V\u1ea5n \u0111\u1ec1 gi\u1edd b\u1ea1n mu\u1ed1n truy c\u1eadp S3 c\u1ee7a kh\u00e1ch h\u00e0ng nh\u01b0ng t\u1eeb account A c\u1ee7a b\u1ea1n? How :D</p> </li> <li> <p>M\u1ed9t <code>use case</code> kh\u00e1c m\u00ecnh g\u1eb7p trong d\u1ef1 \u00e1n th\u1ef1c t\u1ebf. Kh\u00e1ch h\u00e0ng c\u00f3 1 aws account (root account) m\u1ecdi user t\u1ea1o cho devops team hay dev, QA team truy c\u1eadp aws console \u0111\u1ec1u t\u1ea1o tr\u00ean IAM c\u1ee7a account root n\u00e0y ( qu\u1ea3n l\u00fd t\u1eadp trung). V\u00e0 t\u00f9y theo d\u1ef1 \u00e1n KHG s\u1ebd c\u00f3 r\u1ea5t nhi\u1ec1u c\u00e1c aws account kh\u00e1c ( t\u01b0\u01a1ng \u1ee9ng v\u1edbi t\u1eebng d\u1ef1 - \u0111\u1ec3 d\u1ec5 qu\u1ea3n l\u00fd billing). V\u00ed d\u1ee5 1 aws root account, v\u00e0 c\u00f3 2 project l\u00e0 <code>b2b</code> v\u00e0 <code>shopping</code> th\u00ec s\u1ebd c\u00f3 th\u00eam 2 aws account (hay c\u00f2n g\u1ecdi sub account). T\u1ea5t c\u1ea3 user t\u1ea1o cho dev, devops, QA... \u0111\u1ec1u t\u1ea1o tr\u00ean root account. Ng\u01b0\u1eddi d\u00f9ng ph\u1ea3i \u0111\u0103ng nh\u1eadp theo root account r\u1ed3i switch link \u0111\u1ec3 \u0111\u0103ng nh\u1eadp sang <code>b2b</code> hay <code>shopping</code>.    </p> </li> <li> <p>Quay tr\u1edf l\u1ea1i b\u00e0i to\u00e1n. V\u1eady th\u1ee9 t\u1ef1 c\u1ea7n \u0111\u1ec1 user tr\u00ean <code>account A</code> c\u00f3 th\u1ec3 truy c\u1eadp <code>S3</code> tr\u00ean <code>account B</code> g\u1ed3m nh\u1eefng g\u00ec ?</p> </li> <li></li> <li>Account B t\u1ea1o Role v\u1edbi <code>trusted entity</code> l\u00e0 <code>another AWS account</code> - \u0111i\u1ec1n <code>account_ID_A</code> v\u00e0 permission l\u00e0 nh\u1eefng quy\u1ec1n g\u00ec b\u1ea1n mu\u1ed1n chia s\u1ebb cho <code>account A</code>.<ul> <li>Trusted entity sau khi t\u1ea1o s\u1ebd ntn:</li> </ul> </li> </ul> <pre><code>{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Principal\": {\n        \"AWS\": \"arn:aws:iam::account_ID_A:root\"\n      },\n      \"Action\": \"sts:AssumeRole\",\n      \"Condition\": {}\n    }\n  ]\n}\n</code></pre> <pre><code>- N\u1ebfu b\u1ea1n share full quy\u1ec1n S3, permission s\u1ebd nh\u01b0 th\u1ebf n\u00e0y(permission trong role \u0111\u01b0\u1ee3c t\u1ea1o tr\u00ean):\n</code></pre> <pre><code>{\n    \"Version\": \"2012-10-17\",\n    \"Statement\": [\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"s3:*\",\n                \"s3-object-lambda:*\"\n            ],\n            \"Resource\": \"*\"\n        }\n    ]\n}\n</code></pre> <ul> <li>Sau khi <code>account B</code> t\u1ea1o role v\u00e0 g\u1eedi cho ng\u01b0\u1eddi qu\u1ea3n l\u00fd <code>account A</code> th\u00ec kh\u00f4ng ph\u1ea3i ai c\u0169ng c\u00f3 th\u1ec3 truy c\u1eadp S3 c\u1ee7a <code>account B</code> \u0111\u01b0\u1ee3c. Tr\u00ean <code>account A</code> c\u1ea7n th\u00eam m\u1ed9t b\u01b0\u1edbc n\u1eefa. B\u1ea1n c\u1ea7n t\u1ea1o permission switch role v\u00e0 g\u00e1n cho user ho\u1eb7c group b\u1ea1n mu\u1ed1n. Permission tr\u00f4ng s\u1ebd ntn:</li> </ul> <pre><code>  {\n    \"Version\": \"2012-10-17\",\n    \"Statement\": {\n        \"Effect\": \"Allow\",\n        \"Action\": \"sts:AssumeRole\",\n        \"Resource\": [\n            \"arn:aws:iam::account_ID_B:role/&lt;role_name_created_on_account_B&gt;\",\n        ]\n    }\n  }\n</code></pre> <ul> <li> <p>Ok! sau \u0111\u00f3 th\u00ec user tr\u00ean account A v\u1edbi permission tr\u00ean s\u1ebd c\u00f3 th\u1ec3 truy c\u1eadp S3 (v\u00e0 c\u00e1c resource kh\u00e1c mi\u1ec5n \u0111\u01b0\u1ee3c assign v\u00e0o role) c\u1ee7a account B.</p> </li> <li> <p>Happy working!!!</p> </li> </ul>"},{"location":"blog/2022/01/11/connect-to-your-linux-instance-if-you-lose-your-private-key/","title":"Connect to your Linux instance if you lose your private key","text":"<ul> <li> <p>Official \u1edf \u0111\u00e2y</p> </li> <li> <p>B\u00e0i n\u00e0y d\u1ecbch t\u1eeb doc official c\u1ee7a AWS, m\u00ecnh th\u1ea5y n\u00f3 c\u00f3 gi\u00e1 tr\u1ecb trong c\u1ea3 c\u00e1c server kh\u00e1c ( hi\u1ec3u h\u1ec7 th\u1ed1ng v\u00e0 c\u00e1ch \u1ed5 c\u1ee9ng \u0111\u01b0\u1ee3c \u0111\u1ecdc b\u1edfi h\u1ec7 \u0111i\u1ec1u h\u00e0nh) n\u00ean d\u1ecbch l\u1ea1i \u0111\u00e2y sau c\u00f3 th\u1ec3 c\u1ea7n d\u00f9ng :D</p> </li> </ul> <ul> <li>\u0110\u00f4i khi ec2 instance c\u00f3 th\u1ec3 c\u00f2n c\u00f3 c\u00e1ch kh\u00e1c truy c\u1eadp nhanh h\u01a1n c\u00e1ch n\u00e0y n\u1ebfu n\u00f3 \u0111\u01b0\u1ee3c enable. C\u00e1c \u0111\u00f3 \u1edf \u0111\u00e2y: Remote-into-EC2-with-ssm-session-manager</li> </ul>"},{"location":"blog/2022/01/11/connect-to-your-linux-instance-if-you-lose-your-private-key/#here-we-go","title":"Here we go","text":"<ul> <li> <p>N\u1ebfu b\u1ea1n m\u1ea5t private key c\u1ee7a m\u1ed9t instance ch\u1ea1y EBS, b\u1ea1n c\u00f3 th\u1ec3 l\u1ea5y l\u1ea1i quy\u1ec1n truy c\u1eadp v\u00e0o instance \u0111\u00f3. B\u1ea1n c\u1ea7n <code>stop</code> instance, detach root volume v\u00e0 attach n\u00f3 ( root volume) v\u00e0o m\u1ed9t instance kh\u00e1c nh\u01b0 volume data, thay \u0111\u1ed5i <code>authorized_keys</code> file v\u1edbi public key m\u1edbi, g\u1eafn tr\u1ea3 root volume v\u00e0o instance c\u0169 v\u00e0 <code>restart</code> l\u1ea1i instance.</p> </li> <li> <p>C\u00e1c b\u01b0\u1edbc d\u01b0\u1edbi \u0111\u00e2y ch\u1ec9 support cho instance v\u1edbi EBS root volumes. N\u1ebfu root device l\u00e0 m\u1ed9t instance store volume, b\u1ea1n kh\u00f4ng th\u1ec3 s\u1eed d\u1ee5ng c\u00e1ch n\u00e0y \u0111\u1ec3 l\u1ea5y l\u1ea1i quy\u1ec1n truy c\u1eadp v\u00e0o instance c\u1ee7a b\u1ea1n; b\u1ea1n ph\u1ea3i c\u00f3 private key \u0111\u1ec3 connect v\u00e0o instance. \u0110\u1ec3 x\u00e1c \u0111\u1ecbnh ki\u1ec3u c\u1ee7a root device instance c\u1ee7a b\u1ea1n, m\u1edf AWS EC2 console, ch\u1ecdn <code>Instances</code>, t\u00edch ch\u1ecdn instance c\u1ea7n thi\u1ebft, v\u00e0 ki\u1ec3m tra gi\u00e1 tr\u1ecb c\u1ee7a <code>Root device type</code> trong thanh details. Gi\u00e1 tr\u1ecb ho\u1eb7c l\u00e0 <code>ebs</code> ho\u1eb7c <code>instance store</code></p> </li> <li> <p>Ngo\u00e0i c\u00e1c b\u01b0\u1edbc b\u00ean d\u01b0\u1edbi s\u1eafp tr\u00ecnh b\u00e0y. Ch\u00fang ta c\u00f2n c\u00f3 c\u00e1c c\u00e1ch kh\u00e1c nhau \u0111\u1ec3 l\u1ea5y l\u1ea1i quy\u1ec1n truy c\u1eadp chi ti\u1ebft t\u1ea1i \u0111\u00e2y</p> </li> </ul>"},{"location":"blog/2022/01/11/connect-to-your-linux-instance-if-you-lose-your-private-key/#cac-buoc-e-ket-noi-toi-ec2-ebs-root-device-voi-key-pair-khac","title":"C\u00e1c b\u01b0\u1edbc \u0111\u1ec3 k\u1ebft n\u1ed1i t\u1edbi ec2 (ebs root device) v\u1edbi key pair kh\u00e1c","text":"<ul> <li>Step 1: T\u1ea1o key pair m\u1edbi</li> <li>Step 2: L\u1ea5y th\u00f4ng tin v\u1ec1 instance g\u1ed1c v\u00e0 root volume c\u1ee7a n\u00f3</li> <li>Step 3: Stop instance g\u1ed1c</li> <li>Step 4: Start m\u1ed9t instance t\u1ea1m th\u1eddi</li> <li>Step 5: Detach root volume t\u1eeb instance g\u1ed1c, v\u00e0 attach n\u00f3 v\u00e0 instance t\u1ea1m th\u1eddi</li> <li>Step 6: Th\u00eam m\u1edbi m\u1ed9t public key v\u00e0o <code>authorized_keys</code> trong original volume \u0111\u00e3 \u0111\u01b0\u1ee3c mount v\u00e0o instance t\u1ea1m th\u1eddi</li> <li>Step 7: Unmount v\u00e0 detach original volume t\u1eeb instance t\u1ea1m th\u1eddi, v\u00e0 attach l\u1ea1i instance g\u1ed1c</li> <li>Step 8: Connect v\u00e0o instance g\u1ed1c s\u1eed d\u1ee5ng key pair m\u1edbi</li> <li>Step 9: Clean up</li> </ul>"},{"location":"blog/2022/01/11/connect-to-your-linux-instance-if-you-lose-your-private-key/#step-1-create-new-key-pair","title":"Step 1: Create new key pair","text":"<ul> <li>D\u00f9ng AWS console t\u1ea1o m\u1ed9t keypair m\u1edbi ho\u1eb7c third-party tool. N\u1ebfu mu\u1ed1n t\u1ea1o keypair name ch\u00ednh x\u00e1c nh\u01b0 c\u00e1i \u0111\u00e3 m\u1ea5t, tr\u01b0\u1edbc h\u1ebft ph\u1ea3i x\u00f3a c\u00e1i \u0111ang t\u1ed3n t\u1ea1i \u0111i.</li> </ul>"},{"location":"blog/2022/01/11/connect-to-your-linux-instance-if-you-lose-your-private-key/#step-2-get-information-about-the-original-instance-and-its-root-volume","title":"Step 2: Get information about the original instance and its root volume","text":"<ul> <li> <p>Note l\u1ea1i c\u00e1c th\u00f4ng tin sau v\u00ec b\u1ea1n s\u1ebd c\u1ea7n n\u00f3 \u0111\u1ec3 ho\u00e0n t\u1ea5t qu\u00e1 tr\u00ecnh, sau khi \u0111\u00e3 v\u00e0o aws console c\u1ee7a instance g\u1ed1c:</p> </li> <li> <p>Tr\u00ean tab <code>Detail</code>, note <code>instance ID</code> v\u00e0 <code>AMI ID</code></p> </li> <li>Tr\u00ean tab <code>Networking</code>, note l\u1ea1i <code>Availability Zone</code></li> <li>Tr\u00ean tab, d\u01b0\u1edbi <code>Root device name</code>, note l\u1ea1i device name c\u1ee7a root volume( v\u00ed d\u1ee5: <code>/dev/xvda</code>). D\u01b0\u1edbi <code>Block devices</code>, t\u00ecm device name v\u00e0 note l\u1ea1i <code>Volume ID</code> ( v\u00ed d\u1ee5: <code>vol-0a1234b5678c910de</code>)</li> </ul>"},{"location":"blog/2022/01/11/connect-to-your-linux-instance-if-you-lose-your-private-key/#step-3","title":"Step 3:","text":"<ul> <li>Stop instance g\u1ed1c</li> </ul> <pre><code>WARNING: H\u00c3Y CH\u1eaeC CH\u1eaeN \u0110\u00c3 BACKUP M\u1ed8T B\u1ea2N TR\u01af\u1edaC KHI STOP INSTANCE\n</code></pre>"},{"location":"blog/2022/01/11/connect-to-your-linux-instance-if-you-lose-your-private-key/#step-4","title":"Step 4:","text":"<ul> <li>Ch\u1ea1y m\u1ed9t instance t\u1ea1m th\u1eddi ( ho\u1eb7c d\u00f9ng lu\u00f4n 1 instance n\u00e0o \u0111\u00f3 (bastion ch\u1eb3ng h\u1ea1n), m\u00e0 b\u1ea1n c\u00f3 quy\u1ec1n truy c\u1eadp)</li> <li>N\u1ebfu ch\u1ea1y m\u1ed9t instance t\u1ea1m th\u1eddi m\u1edbi, h\u00e3y th\u00eam tag: <code>Name=Temporary</code> (\u0111\u1ec3 l\u00fac sau d\u1ec5 nh\u1eadn bi\u1ebft)</li> </ul>"},{"location":"blog/2022/01/11/connect-to-your-linux-instance-if-you-lose-your-private-key/#step-5-detach-root-volume-from-the-original-instance-and-attach-it-to-the-temporary-instance","title":"Step 5: Detach root volume from the original instance and attach it to the temporary instance","text":"<ul> <li> <p>Trong <code>navigation pane</code>, ch\u1ecdn <code>Volumes</code> v\u00e0 ch\u1ecdn root device volume c\u1ee7a instance g\u1ed1c ( b\u1ea1n \u0111\u00e3 note l\u1ea1i volume ID trong b\u01b0\u1edbc 2). Ch\u1ecdn <code>Actions</code>, <code>Detach Volume</code> v\u00e0 ch\u1ecdn <code>Yes, Detach</code>. Ch\u1edd \u0111\u1ebfn khi volume c\u00f3 tr\u1ea1ng th\u00e1i <code>available</code>(c\u00f3 th\u1ec3 b\u1ea1n c\u1ea7n nh\u1ea5n <code>Refresh</code> \u0111\u1ec3 t\u1ea3i l\u1ea1i)</p> </li> <li> <p>V\u1edbi volume v\u1eabn \u0111ang t\u00edch ch\u1ecdn, ch\u1ecdn <code>Actions</code> v\u00e0 ch\u1ecdn <code>Attach Volume</code>. Ch\u1ecdn instance ID c\u1ee7a instance t\u1ea1m th\u1eddi, ghi ch\u00fa l\u1ea1i t\u00ean thi\u1ebft b\u1ecb \u0111\u01b0\u1ee3c ch\u1ec9 \u0111\u1ecbnh d\u01b0\u1edbi <code>Device</code> ( v\u00ed d\u1ee5: <code>/dev/sdf</code>) v\u00e0 ch\u1ecdn <code>Attach</code></p> </li> <li> <p>Note khi d\u00f9ng AMI ngo\u00e0i: <code>If you launched your original instance from an AWS Marketplace AMI and your volume contains AWS Marketplace codes, you must first stop the temporary instance before you can attach the volume.</code></p> </li> </ul>"},{"location":"blog/2022/01/11/connect-to-your-linux-instance-if-you-lose-your-private-key/#step-6-add-the-new-public-key-to-authorized_keys-on-the-original-volume-mounted-to-the-temporary-instance","title":"Step 6: Add the new public key to authorized_keys on the original volume mounted to the temporary instance","text":"<ul> <li>Connect v\u00e0o instance t\u1ea1m th\u1eddi</li> <li>T\u1eeb instance t\u1ea1m th\u1eddi, mount volume b\u1ea1n \u0111\u00e3 attach v\u00e0o instance v\u00ec v\u1eady b\u1ea1n c\u00f3 th\u1ec3 truy c\u1eadp v\u00e0o file h\u1ec7 th\u1ed1ng. V\u00ed d\u1ee5 n\u1ebfu device name l\u00e0: <code>/dev/sdf</code>, d\u00f9ng l\u1ec7nh d\u01b0\u1edbi \u0111\u00e2y \u0111\u1ec3 mount volume v\u00e0o <code>mnt/tempvol</code></li> <li> <p>Note: <code>Device name c\u00f3 th\u1ec3 kh\u00e1c nhau tr\u00ean thi\u1ebft b\u1ecb c\u1ee7a b\u1ea1n. V\u00ed d\u1ee5, device \u0111\u01b0\u1ee3c mount c\u00f3 th\u1ec3 l\u00e0 '/dev/sdf' v\u00e0 \u0111\u01b0\u1ee3c hi\u1ec3n th\u1ecb nh\u01b0 '/dev/xvdf' tr\u00ean instance. M\u1ed9t v\u00e0i phi\u00ean b\u1ea3n c\u1ee7a Red Hat c\u00f3 th\u1ec3 t\u0103ng k\u00fd t\u1ef1 l\u00ean 4 nh\u01b0 t\u1eeb '/dev/sdf' th\u00e0nh '/dev/xvdk'</code></p> </li> <li> <p>S\u1eed d\u1ee5ng l\u1ec7nh <code>lsblk</code> \u0111\u1ec3 x\u00e1c \u0111\u1ecbnh n\u1ebfu vol \u0111\u00e3 \u0111\u01b0\u1ee3c ph\u00e2n v\u00f9ng</p> </li> </ul> <pre><code>[ec2-user ~]$ lsblk\nNAME    MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT\nxvda    202:0    0    8G  0 disk\n\u2514\u2500xvda1 202:1    0    8G  0 part /\nxvdf    202:80   0  101G  0 disk\n\u2514\u2500xvdf1 202:81   0  101G  0 part\nxvdg    202:96   0   30G  0 disk\n</code></pre> <ul> <li> <p>Trong v\u00ed d\u1ee5 tr\u00ean <code>/dev/xvda</code> v\u00e0 <code>/dev/xvdf</code> \u0111\u00e3 \u0111\u01b0\u1ee3c ph\u00e2n v\u00f9ng v\u00e0 <code>/dev/xvdg</code> th\u00ec ch\u01b0a. N\u1ebfu vol \u0111\u00e3 \u0111\u01b0\u1ee3c ph\u00e2n v\u00f9ng th\u00ec ch\u00fang ta s\u1ebd mount ph\u00e2n v\u00f9ng <code>/dev/xvdf1</code> thay v\u00ec raw device (<code>/dev/xvdf</code>) trong c\u00e1c b\u01b0\u1edbc ti\u1ebfp theo.</p> </li> <li> <p>T\u1ea1o th\u1ef1c m\u1ee5c t\u1ea1m \u0111\u1ec3 mount volume</p> </li> </ul> <pre><code>[ec2-user ~]$ sudo mkdir /mnt/tempvol\n</code></pre> <ul> <li>Mount vol (ho\u1eb7c ph\u00e2n v\u00f9ng) v\u00e0o th\u01b0 m\u1ee5c t\u1ea1m, s\u1eed d\u1ee5ng vol name ho\u1eb7c device name \u0111\u00e3 x\u00e1c \u0111\u1ecbnh b\u01b0\u1edbc tr\u00ean. C\u00e2u l\u1ec7nh t\u00f9y thu\u1ed9c v\u00e0o h\u1ec7 \u0111i\u1ec1u h\u00e0nh m\u00e0 b\u1ea1n \u0111ang s\u1eed d\u1ee5ng. L\u01b0u \u00fd t\u00ean thi\u1ebft b\u1ecb ( device name) c\u00f3 th\u1ec3 kh\u00e1c nhau t\u00f9y thu\u1ed9c v\u00e0o instance c\u1ee7a b\u1ea1n:</li> <li>Amazon Linux, Ubuntu, and Debian:</li> </ul> <pre><code>[ec2-user ~]$ sudo mount /dev/xvdf1 /mnt/tempvol\n</code></pre> <ul> <li>Amazon Linux 2, CentOS, SUSE Linux 12 v\u00e0 RHEL 7.x</li> </ul> <pre><code>[ec2-user ~]$ sudo mount -o nouuid /dev/xvdf1 /mnt/tempvol\n</code></pre> <ul> <li> <p>Note: <code>N\u1ebfu g\u1eb7p l\u1ed7i b\u1eaft \u0111\u1ea7u v\u1edbi 'file system is corrupt' ch\u1ea1y l\u1ec7nh sau \u0111\u1ec3 ki\u1ec3m tra v\u00e0 s\u1eeda l\u1ed7i: '[ec2-user ~]$ sudo fsck /dev/xvdf1'</code></p> </li> <li> <p>T\u1eeb instance t\u1ea1m d\u00f9ng l\u1ec7nh sau \u0111\u1ec3 update <code>authorized_keys</code> tr\u00ean vol \u0111\u01b0\u1ee3c mount v\u00e0o v\u1edbi public key m\u1edbi t\u1eeb <code>authorized_keys</code> c\u1ee7a instance t\u1ea1m:</p> </li> <li>Comment ng\u01b0\u1eddi d\u1ecbch: Ph\u1ea7n d\u01b0\u1edbi c\u00f3 1 \u0111o\u1ea1n c\u1ea7n check l\u1ea1i file permission do \u0111\u00e3 thay \u0111\u1ed5i file permission. H\u00e3y th\u1eed copy n\u1ed9i dung v\u00e0o file th\u00f4i thay v\u00ec copy file (kh\u1ecfi b\u1eadn t\u00e2m permission c\u1ee7a file)</li> <li>Note: <code>L\u1ec7nh d\u01b0\u1edbi d\u00f9ng cho user: 'ec2-user' n\u1ebfu l\u00e0 user kh\u00e1c b\u1ea1n c\u1ea9n s\u1eeda l\u1ea1i cho ph\u00f9 h\u1ee3p</code></li> </ul> <pre><code>[ec2-user ~]$ cp .ssh/authorized_keys /mnt/tempvol/home/ec2-user/.ssh/authorized_keys\n</code></pre> <ul> <li>N\u1ebfu l\u1ec7nh tr\u00ean th\u00e0nh c\u00f4ng c\u00f3 th\u1ec3 \u0111i t\u1edbi step ti\u1ebfp theo.</li> <li>N\u1ebfu kh\u00f4ng c\u00f3 quy\u1ec1n edit file trong <code>/mnt/tempvol</code> b\u1ea1n c\u1ea7n update file d\u00f9ng l\u1ec7nh sudo, v\u00e0 check permission tr\u00ean file \u0111\u1ec3 x\u00e1c th\u1ef1c b\u1ea1n c\u00f3 quy\u1ec1n login v\u00e0o instance g\u1ed1c. D\u00f9ng l\u1ec7nh sau:</li> </ul> <pre><code>[ec2-user ~]$ sudo ls -l /mnt/tempvol/home/ec2-user/.ssh\ntotal 4\n-rw------- 1 222 500 398 Sep 13 22:54 authorized_keys\n</code></pre> <ul> <li>V\u00ed d\u1ee5 tr\u00ean <code>222</code> l\u00e0 user ID, v\u00e0 <code>500</code> l\u00e0 group ID, ti\u1ebfp theo d\u00f9ng l\u1ec7nh sudo \u0111\u1ec3 ch\u1ea1y l\u1ea1i c\u00e2u l\u1ec7nh</li> </ul> <pre><code>[ec2-user ~]$ sudo cp .ssh/authorized_keys /mnt/tempvol/home/ec2-user/.ssh/authorized_keys\n</code></pre> <ul> <li>Ch\u1ea1y l\u1ea1i c\u00e2u l\u1ec7nh l\u1ea7n n\u1eefa \u0111\u1ec3 check xem permission \u0111\u00e3 \u0111\u1ed5i r\u1ed3i hay ch\u01b0a:</li> </ul> <pre><code>sudo ls -l /mnt/tempvol/home/ec2-user/.ssh\n</code></pre> <ul> <li>N\u1ebfu user ID v\u00e0 group ID \u0111\u00e3 b\u1ecb thay \u0111\u1ed5i, s\u1eed d\u1ee5ng l\u1ec7nh sau \u0111\u1ec3 restore l\u1ea1i:</li> </ul> <pre><code>[ec2-user ~]$ sudo chown 222:500 /mnt/tempvol/home/ec2-user/.ssh/authorized_keys\n</code></pre>"},{"location":"blog/2022/01/11/connect-to-your-linux-instance-if-you-lose-your-private-key/#step-7-unmount-and-detach-the-original-volume-from-the-temporary-instance-and-reattach-it-to-the-original-instance","title":"Step 7: Unmount and detach the original volume from the temporary instance, and reattach it to the original instance","text":"<ul> <li>T\u1eeb instance t\u1ea1m, unmount vol ( \u0111\u1ec3 mount l\u1ea1i v\u00e0o instance g\u1ed1c sau \u0111\u00f3) v\u1edbi l\u1ec7nh:</li> </ul> <pre><code>sudo umount /mnt/tempvol\n</code></pre> <ul> <li> <p>Detach volume ( v\u1eeba unmount \u1edf tr\u00ean) kh\u1ecfi instance ( l\u00ean aws console th\u1ef1c hi\u1ec7n)</p> </li> <li> <p>Attach volume tr\u1edf l\u1ea1i instance g\u1ed1c: ch\u1ec9 \u0111\u1ecbnh \u0111\u00fang t\u00ean thi\u1ebft b\u1ecb (device name) m\u00e0 \u0111\u00e3 note l\u1ea1i tr\u01b0\u1edbc \u0111\u00f3 trong step 2. Important: <code>n\u1ebfu kh\u00f4ng ch\u1ec9 \u0111\u1ecbnh \u0111\u00fang device name c\u00f3 th\u1ec3 s\u1ebd ko start \u0111\u01b0\u1ee3c instance. Amazon EC2 mong \u0111\u1ee3i root volume \u1edf sda1 ho\u1eb7c /dev/xvda</code></p> </li> </ul>"},{"location":"blog/2022/01/11/connect-to-your-linux-instance-if-you-lose-your-private-key/#step-8-connect-to-the-original-instance-using-the-new-key-pair","title":"Step 8: Connect to the original instance using the new key pair","text":""},{"location":"blog/2022/01/11/connect-to-your-linux-instance-if-you-lose-your-private-key/#step-9-clean-up","title":"Step 9: Clean up","text":"<ul> <li>N\u1ebfu b\u1ea1n d\u00f9ng m\u1ed9t instance s\u1eb5n c\u00f3 th\u00ec b\u1ecf qua b\u01b0\u1edbc n\u00e0y.</li> <li>N\u1ebfu b\u1ea1n ch\u1ea1y m\u1ed9t instance t\u1ea1m h\u00e3y terminate n\u00f3 \u0111\u1ec3 gi\u1ea3m chi ph\u00ed</li> </ul>"},{"location":"blog/2022/03/15/adding-basic-auth-users-in-nginx/","title":"Adding basic auth users in nginx","text":""},{"location":"blog/2022/03/15/adding-basic-auth-users-in-nginx/#enable-basic-authentication","title":"Enable basic authentication","text":"<ul> <li>install the httpasswd package</li> </ul> <pre><code>yum install httpd24-tools\n</code></pre> <ul> <li>If you create an user for the first time, you have to create the password file using \u201c-c \u201d option. Remember using \u201c-c\u201d option for the first time only. <pre><code>htpasswd -c /etc/nginx/kibana_htpasswd suraphart.suw\n</code></pre> <ul> <li>Configure the site configuration to use basic authentication.</li> </ul> <pre><code>server {\n  listen 443 ssl http2;\n  listen [::]:443 ssl http2;\n  server_name logs.weomni.com;\n  rewrite ^/$ https://$host/_plugin/kibana redirect;\n\n  location /_plugin/kibana {\n  ...\n\n  auth_basic \"Restricted\";\n  auth_basic_user_file /etc/nginx/kibana_htpasswd;\n  }\n\n  ...\n}\n</code></pre> <ul> <li>Reload NGINX process.</li> </ul> <pre><code>nginx -s reload\n</code></pre> <ul> <li>Verify NGINX has started</li> </ul> <pre><code>service nginx status\n</code></pre>"},{"location":"blog/2022/03/15/adding-basic-auth-users-in-nginx/#managing-users-on-nginx","title":"Managing users on NGINX","text":"<ul> <li>The users and their password are stored in this file <code>/etc/nginx/kibana_htpasswd</code> in this format:</li> </ul> <pre><code>alice:$apr1$Q9qBLkLy$YQNxI8/GYuHLmoOUkbjN70\nbob:$apr1$5rz0Qz20$Xuo4c3yrZRjkAk89il7Us/\n</code></pre> <ul> <li>The password is automatically encrypted before being stored in the file.</li> </ul>"},{"location":"blog/2022/03/15/adding-basic-auth-users-in-nginx/#creating-a-new-user","title":"Creating a new user","text":"<ul> <li>Create a new user with the command below, enter the password when prompted:</li> </ul> <pre><code>sudo htpasswd /etc/nginx/kibana_htpasswd john.doe\n</code></pre> <ul> <li>All done. No reload is needed.</li> <li>To verify, use this command:</li> </ul> <pre><code>cat /etc/nginx/kibana_htpasswd\n</code></pre>"},{"location":"blog/2022/03/15/adding-basic-auth-users-in-nginx/#changing-password-of-an-existing-user","title":"Changing password of an existing user","text":"<ul> <li>Run the same command as when you create a user, enter the new password when prompted:</li> </ul> <pre><code>sudo htpasswd /etc/nginx/kibana_htpasswd john.doe\n</code></pre>"},{"location":"blog/2022/03/15/adding-basic-auth-users-in-nginx/#deleting-a-user","title":"Deleting a user","text":"<ul> <li>Run the command with option <code>-D</code></li> </ul> <pre><code>sudo htpasswd -D /etc/nginx/kibana_htpasswd john.doe\n</code></pre>"},{"location":"blog/2022/03/15/set-up-efs-for-eks/","title":"SET UP EFS FOR EKS","text":"<ul> <li>EFS c\u00f3 th\u1ec3 s\u1eed d\u1ee5ng cross zone ( gi\u1eefa c\u00e1c zone) n\u00ean ko b\u1ecb h\u1ea1n ch\u1ebf nh\u01b0 EBS.</li> <li>V\u00ed d\u1ee5 khi 1 pod \u0111\u01b0\u1ee3c t\u1ea1o v\u00e0 n\u00f3 ph\u1ea3i s\u1eed d\u1ee5ng vol (ebs) tr\u00ean <code>ap-southeast-1a</code> th\u00ec pod c\u0169ng b\u1ecb gi\u1edbi h\u1ea1n (nodeSelector) v\u00e0o 1 node thu\u1ed9c zone n\u00e0y.</li> <li>Vi\u1ec7c t\u01b0\u01a1ng t\u1ef1 kh\u00f4ng x\u1ea3y ra v\u1edbi EFS ( data tr\u00ean EFS pod c\u00f3 th\u1ec3 thu\u1ed9c b\u1ea5t k\u1ef3 zone n\u00e0o <code>1a</code>, <code>1b</code> hay <code>1c</code> \u0111\u1ec1u \u0111\u01b0\u1ee3c)</li> </ul> <ul> <li>B\u00e0i n\u00e0y s\u1ebd ko c\u00f3 nhi\u1ec1u h\u00ecnh do account c\u1ee7a kh\u00e1ch h\u00e0ng :D</li> </ul>"},{"location":"blog/2022/03/15/set-up-efs-for-eks/#cai-at-aws-efs-csi-driver","title":"C\u00e0i \u0111\u1eb7t AWS EFS CSI driver","text":"<ul> <li>\u0110\u1ec3 s\u1eed d\u1ee5ng EFS th\u00ec eks c\u1ea7n c\u00e0i: <code>IAM policy v\u00e0 role</code>, <code>AWS EFS driver</code>, <code>t\u1ea1o AWS EFS file system</code></li> <li>T\u1ea5t c\u1ea3 c\u00f3 trong official doc</li> </ul>"},{"location":"blog/2022/03/15/set-up-efs-for-eks/#su-dung","title":"S\u1eed d\u1ee5ng","text":"<ul> <li> <p>Sau khi c\u00f3 File system ( check l\u1ea1i c\u00e1ch t\u1ea1o EFS c\u00f3 m\u00e3 h\u00f3a hay kh\u00f4ng). \u0110\u01b0\u1eddng d\u1eabn tr\u00ean web console: <code>Amazon EFS &gt; file system</code></p> </li> <li> <p>T\u1ea1o c\u00e1c access point cho file system v\u1eeba t\u1ea1o ( l\u01b0u l\u1ea1i file system ID v\u00e0 access point ID): <code>NOTE</code>: ph\u1ea3i t\u1ea1o access point th\u00ec m\u1edbi d\u00f9ng \u0111\u01b0\u1ee3c.</p> </li> <li> <p>B\u01b0\u1edbc cu\u1ed1i t\u1ea1o <code>storage</code>, <code>pv</code>, <code>pvc</code> v\u00e0 <code>deployment</code> file \u0111\u1ec3 s\u1eed d\u1ee5ng th\u00f4i</p> </li> <li> <p><code>storage</code> <code>.yml</code> file:</p> </li> </ul> <pre><code>kind: StorageClass\napiVersion: storage.k8s.io/v1\nmetadata:\n  name: efs-storage-class\nprovisioner: efs.csi.aws.com\n</code></pre> <ul> <li><code>pv</code> and <code>pvc</code> <code>.yml</code> file:</li> </ul> <pre><code>apiVersion: v1\nkind: PersistentVolume\nmetadata:\n  name: pv-alpha-efs-appdata\nspec:\n  capacity:\n    storage: 1Gi\n  volumeMode: Filesystem\n  accessModes:\n    - ReadWriteMany\n  persistentVolumeReclaimPolicy: Retain\n  storageClassName: efs-storage-class\n  csi:\n    driver: efs.csi.aws.com\n    volumeHandle: fs-2f49f26f::fsap-0c7ee979b761b98a4\n---\napiVersion: v1\nkind: PersistentVolumeClaim\nmetadata:\n  name: pvc-alpha-efs-appdata\n  namespace: alpha-private\nspec:\n  accessModes:\n    - ReadWriteMany\n  storageClassName: efs-storage-class\n  resources:\n    requests:\n      storage: 1Gi\n---\n</code></pre> <ul> <li>Khi c\u00f3 <code>pvc</code> r\u1ed3i th\u00ec ch\u1ec9 vi\u1ec7c mount v\u00e0o deployment file th\u00f4i:</li> </ul> <pre><code>spec:\n    volumes:\n      - name: efs-appdata-vol\n        persistentVolumeClaim:\n          claimName: pvc-alpha-efs-appdata\n    containers:\n      - name: web\n        image: &lt;link-to-image&gt;\n        ports:\n          - name: http\n            containerPort: 80\n            protocol: TCP\n        env:\n          - name: LOG_LEVEL\n            value: INFO\n        resources: {}\n        volumeMounts:\n          - name: efs-appdata-vol\n            mountPath: /app/App_Data\n</code></pre>"},{"location":"blog/2022/03/20/missing-permission-in-the-example-iam-policy-file/","title":"Missing permission in the example IAM policy file","text":"<ul> <li> <p>Source form github</p> </li> <li> <p>M\u00ecnh kh\u00f4ng c\u00f9ng k\u1ecbch b\u1ea3n v\u1edbi b\u1ea1n n\u00e0y - link github tr\u00ean( c\u1ee7a m\u00ecnh l\u00e0 h\u1ec7 th\u1ed1ng \u0111ang s\u1eed d\u1ee5ng r\u1ed3i, zone <code>ap-southeast-1a</code> v\u00e0 <code>ap-southeast-1b</code> \u0111ang d\u00f9ng b\u00ecnh th\u01b0\u1eddng). Nh\u01b0ng khi deploy pod v\u00e0o zone <code>ap-southeast-1c</code> th\u00ec nh\u1eadn l\u1ed7i t\u01b0\u01a1ng t\u1ef1 b\u1ea1n n\u00e0y:</p> </li> </ul> <pre><code>Output: Failed to resolve \"fs-bdfc7009.efs.us-east-1.amazonaws.com\". The file system mount target ip address cannot be found, please pass mount target ip address via mount options.\nUser: arn:aws:sts::888888888888:assumed-role/LordOfTheVolumes/i-0dc4f12f9fdb8dcd3 is not authorized to perform: elasticfilesystem:DescribeMountTargets on the specified resource\n</code></pre> <ul> <li>\u00d4ng t\u1ea1o ra issue \u0111\u00e3 fix \u0111\u01b0\u1ee3c nh\u01b0ng ko t\u1ea1o merge commit m\u00e0 k\u1ec7 cho AWS s\u1eeda :v, c\u1ea7n th\u00eam policy nh\u01b0 d\u01b0\u1edbi:</li> </ul> <pre><code>{\n    \"Effect\": \"Allow\",\n    \"Action\": [\n        \"elasticfilesystem:DescribeAccessPoints\",\n        \"elasticfilesystem:DescribeFileSystems\",\n        \"elasticfilesystem:DescribeMountTargets\"\n    ],\n    \"Resource\": \"*\"\n},\n</code></pre> <ul> <li>\u1ed2 sau khi th\u00eam d\u00f2ng tr\u00ean th\u00ec m\u00ecnh h\u1ebft l\u1ed7i tr\u00ean nh\u01b0ng v\u1eabn c\u00f2n 1 l\u1ed7i kh\u00e1c n\u1eefa v\u00e0 \u00f4ng kh\u00e1c \u1edf d\u01b0\u1edbi c\u0169ng \u0111\u00e3 fix lu\u00f4n l\u1ed7i n\u00e0y:D</li> </ul> <pre><code>{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n      {\n          \"Effect\": \"Allow\",\n          \"Action\": [\n              \"elasticfilesystem:DescribeMountTargets\",\n              \"ec2:DescribeAvailabilityZones\"\n          ],\n          \"Resource\": \"*\"\n      }\n  ]\n}\n</code></pre> <ul> <li> <p>Yeah v\u1eady l\u00e0 t\u1ed5ng 2 ph\u1ea7n tr\u00ean s\u1ebd fix \u0111\u01b0\u1ee3c l\u1ed7i thi\u1ebfu policy. Ph\u1ea7n cu\u1ed1i trong case study c\u1ee7a m\u00ecnh l\u00e0 EFS ch\u01b0a enable tr\u00ean zone <code>ap-southeast-1c</code> ( tr\u01b0\u1edbc \u0111\u00f3 m\u00ecnh ch\u1ec9 enable tr\u00ean 1a v\u00e0 1b). V\u00e0 sau khi th\u00eam xong th\u00ec pod tr\u00ean k8s \u0111\u00e3 up v\u00e0 link \u0111\u01b0\u1ee3c t\u1edbi EFS.</p> </li> <li> <p>Happy be devops !!</p> </li> </ul>"},{"location":"blog/2022/05/16/debug-rust-tr%C3%AAn-vscodehttpscodevisualstudiocomdocslanguagesrust_debugging/","title":"Debug Rust tr\u00ean <code>vscode</code>","text":""},{"location":"blog/2022/05/16/debug-rust-tr%C3%AAn-vscodehttpscodevisualstudiocomdocslanguagesrust_debugging/#installing","title":"Installing","text":"<ul> <li>C\u00e0i \u0111\u1eb7t rust-analyzer extension \u0111\u1ec3 code v\u00e0 debug Rust tr\u00ean <code>vscode</code> \u0111\u01b0\u1ee3c t\u1ed1t h\u01a1n.</li> <li></li> </ul>"},{"location":"blog/2022/05/16/debug-rust-tr%C3%AAn-vscodehttpscodevisualstudiocomdocslanguagesrust_debugging/#debugginng","title":"Debugginng","text":"<ul> <li>\u0110\u1ec3 debug Rust ch\u00fang ta ph\u1ea3i c\u00e0i \u0111\u1eb7t m\u1ed9t trong hai extension sau h\u1ed7 tr\u1ee3 cho vi\u1ec7c debug:</li> </ul> <ul> <li>M$ C++<ul> <li></li> </ul> </li> <li> <p>CodeLLDB</p> </li> <li> <p>Do <code>M$ C++</code> c\u00f3 nhi\u1ec1u l\u01b0\u1ee3t t\u1ea3i h\u01a1n ( \u0111\u01b0\u01a1ng nhi\u00ean r\u1ed3i) n\u00ean m\u00ecnh ch\u1ecdn c\u00e0i extension n\u00e0y.</p> </li> <li> <p>B\u1ea1n s\u1ebd c\u1ea7n enable: <code>Debug: Allow Breakpoints Everywhere</code> khi nh\u1ea5n <code>Ctrl + ,</code> v\u00e0 search v\u1edbi t\u1eeb kh\u00f3a: <code>everywhere</code></p> </li> <li> <p></p> </li> <li> <p>Ok sau khi c\u00e0i 2 extension rust-analyzer v\u00e0 M$ C++ ho\u1eb7c CodeLLDB , c\u00f4ng th\u1ec7m enable <code>Debug</code> b\u00e2y gi\u1edd b\u1ea1n c\u00f3 th\u1ec3 \u0111\u1eb7t break point tr\u00ean code Rust \u0111\u01b0\u1ee3c r\u1ed3i \u0111\u00f3 :D</p> </li> <li> <p></p> </li> </ul>"},{"location":"blog/2022/05/16/debug-rust-tr%C3%AAn-vscodehttpscodevisualstudiocomdocslanguagesrust_debugging/#happy-coding","title":"HAPPY CODING!!!","text":""},{"location":"blog/2022/06/27/deploy-an-eks-cluster-using-terraform/","title":"Deploy an eks cluster using terraform","text":"<ul> <li>B\u00e0i g\u1ed1c \u1edf \u0111\u00e2y</li> </ul>"},{"location":"blog/2022/06/27/deploy-an-eks-cluster-using-terraform/#deploy-an-eks-cluster-with-terraform","title":"Deploy an eks cluster with terraform","text":"<ul> <li>Tr\u01b0\u1edbc khi b\u1eaft \u0111\u1ea7u ch\u00fang ta c\u1ea7n m\u1ed9t s\u1ed1 th\u1ee9 sau:</li> <li>m\u1ed9t AWS account ( b\u00e0i n\u00e0y m\u00ecnh account quy\u1ec1n admin :v)</li> <li>quy\u1ec1n IAM (of cause account admin c\u01a1 m\u00e0)</li> <li>VPC cho EKS ( ch\u01b0a ph\u1ea3i m\u00f4i tr\u01b0\u1eddng pro n\u00ean m\u00ecnh d\u00f9ng lu\u00f4n VPC default)</li> <li>Ki\u1ebfn th\u1ee9c c\u01a1 b\u1ea3n v\u1ec1 AWS: iam, role, policies, ec2...</li> </ul>"},{"location":"blog/2022/06/27/deploy-an-eks-cluster-using-terraform/#maintf","title":"main.tf","text":"<ul> <li>th\u00eam <code>aws</code> provider:</li> </ul> <pre><code>terraform {\n required_providers {\n  aws = {\n   source = \"hashicorp/aws\"\n  }\n }\n}\n</code></pre> <ul> <li>C\u00e0i \u0111\u1eb7t IAM role:</li> </ul> <pre><code>resource \"aws_iam_role\" \"eks-iam-role\" {\n name = \"devopsthehardway-eks-iam-role\"\n\n path = \"/\"\n\n assume_role_policy = &lt;&lt;EOF\n{\n \"Version\": \"2012-10-17\",\n \"Statement\": [\n  {\n   \"Effect\": \"Allow\",\n   \"Principal\": {\n    \"Service\": \"eks.amazonaws.com\"\n   },\n   \"Action\": \"sts:AssumeRole\"\n  }\n ]\n}\nEOF\n\n}\n</code></pre> <ul> <li>\u0110\u00ednh k\u00e8m 2 policies d\u01b0\u1edbi \u0111\u00e2y v\u00e0o role:</li> <li>C\u00e1c polices n\u00e0y cho ph\u00e9p eks access v\u00e0o EC2 ( n\u01a1i m\u00e0 c\u00e1c worker node s\u1ebd ch\u1ea1y).</li> </ul> <pre><code>resource \"aws_iam_role_policy_attachment\" \"AmazonEKSClusterPolicy\" {\n policy_arn = \"arn:aws:iam::aws:policy/AmazonEKSClusterPolicy\"\n role    = aws_iam_role.eks-iam-role.name\n}\nresource \"aws_iam_role_policy_attachment\" \"AmazonEC2ContainerRegistryReadOnly-EKS\" {\n policy_arn = \"arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryReadOnly\"\n role    = aws_iam_role.eks-iam-role.name\n}\n</code></pre> <ul> <li>T\u1ea1o cluster:</li> </ul> <pre><code>resource \"aws_eks_cluster\" \"blogs-eks\" {\n name = \"blogs-cluster\"\n role_arn = aws_iam_role.eks-iam-role.arn\n\n vpc_config {\n  subnet_ids = [var.subnet_id_1, var.subnet_id_2, var.subnet_id_3]\n }\n\n depends_on = [\n  aws_iam_role.eks-iam-role,\n ]\n}\n\noutput \"endpoint\" {\n  value = aws_eks_cluster.blogs-eks.endpoint\n}\n\noutput \"kubeconfig-certificate-authority-data\" {\n  value = aws_eks_cluster.blogs-eks.certificate_authority[0].data\n}\n</code></pre> <ul> <li>C\u00e0i \u0111\u1eb7t polices cho worker nodes, bao g\u1ed3m c\u00e1c policy:</li> <li>AmazonEKSWorkerNodePolicy</li> <li>AmazonEKS_CNI_Policy</li> <li>EC2InstanceProfileForImageBuilderECRContainerBuilds</li> <li>AmazonEC2ContainerRegistryReadOnly</li> </ul> <pre><code>resource \"aws_iam_role\" \"workernodes\" {\n  name = \"eks-node-group\"\n\n  assume_role_policy = jsonencode({\n   Statement = [{\n    Action = \"sts:AssumeRole\"\n    Effect = \"Allow\"\n    Principal = {\n     Service = \"ec2.amazonaws.com\"\n    }\n   }]\n   Version = \"2012-10-17\"\n  })\n}\n\nresource \"aws_iam_role_policy_attachment\" \"AmazonEKSWorkerNodePolicy\" {\n  policy_arn = \"arn:aws:iam::aws:policy/AmazonEKSWorkerNodePolicy\"\n  role    = aws_iam_role.workernodes.name\n}\n\nresource \"aws_iam_role_policy_attachment\" \"AmazonEKS_CNI_Policy\" {\n  policy_arn = \"arn:aws:iam::aws:policy/AmazonEKS_CNI_Policy\"\n  role    = aws_iam_role.workernodes.name\n}\n\nresource \"aws_iam_role_policy_attachment\" \"EC2InstanceProfileForImageBuilderECRContainerBuilds\" {\n  policy_arn = \"arn:aws:iam::aws:policy/EC2InstanceProfileForImageBuilderECRContainerBuilds\"\n  role    = aws_iam_role.workernodes.name\n}\n\nresource \"aws_iam_role_policy_attachment\" \"AmazonEC2ContainerRegistryReadOnly\" {\n  policy_arn = \"arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryReadOnly\"\n  role    = aws_iam_role.workernodes.name\n}\n</code></pre> <ul> <li>T\u1ea1o worker nodes, do m\u1ee5c \u0111\u00edch test n\u00ean m\u00ecnh ch\u1ec9 t\u1ea1o 1 nodes group. V\u1edbi m\u00f4i tr\u01b0\u1eddng production n\u00ean t\u1ea1o \u00edt nh\u1ea5t 3 group:</li> </ul> <pre><code>resource \"aws_eks_node_group\" \"worker-node-group\" {\n  cluster_name  = aws_eks_cluster.blogs-eks.name\n  node_group_name = \"blogs-workernodes-internet-facing\"\n  node_role_arn  = aws_iam_role.workernodes.arn\n  subnet_ids   = [var.subnet_id_1, var.subnet_id_2, var.subnet_id_3]\n  instance_types = [\"t3.xlarge\"]\n\n  scaling_config {\n   desired_size = 1\n   max_size   = 1\n   min_size   = 1\n  }\n\n  depends_on = [\n   aws_iam_role_policy_attachment.AmazonEKSWorkerNodePolicy,\n   aws_iam_role_policy_attachment.AmazonEKS_CNI_Policy,\n   #aws_iam_role_policy_attachment.AmazonEC2ContainerRegistryReadOnly,\n  ]\n}\n</code></pre> <ul> <li>Full file here</li> </ul>"},{"location":"blog/2022/06/27/deploy-an-eks-cluster-using-terraform/#variablestf","title":"variables.tf","text":"<ul> <li>T\u1ea1o file <code>variables.tf</code> v\u00e0 \u0111i\u1ec1n c\u00e1c tham s\u1ed1 cho subnets. \u1ede \u0111\u00e2y m\u00ecnh d\u00f9ng vpc m\u1eb7c \u0111\u1ecbnh. M\u00f4i tr\u01b0\u1eddng production c\u1ea7n xem x\u00e9t t\u1ea1o VPC v\u1edbi c\u00e1c d\u1ea3i subnet \u0111\u01b0\u1ee3c quy ho\u1ea1ch r\u00f5 r\u00e0ng v\u00e0 c\u00e1c public, private subnet.</li> </ul> <pre><code>variable \"subnet_id_1\" {\n  type = string\n  default = \"subnet-0ff14369\"\n}\n\nvariable \"subnet_id_2\" {\n  type = string\n  default = \"subnet-7d49ea35\"\n}\n\nvariable \"subnet_id_3\" {\n  type = string\n  default = \"subnet-b88ee0e1\"\n}\n</code></pre>"},{"location":"blog/2022/06/27/deploy-an-eks-cluster-using-terraform/#create-eks","title":"Create eks","text":"<ul> <li><code>terraform init</code> \u0111\u1ec3 kh\u1edfi t\u1ea1o.</li> <li><code>terraform plan</code> \u0111\u1ec3 ki\u1ec3m tra nh\u1eefng g\u00ec s\u1ebd \u0111\u01b0\u1ee3c th\u1ef1c hi\u1ec7n ( th\u00eam s\u1eeda x\u00f3a h\u1ea1 t\u1ea7ng).</li> <li><code>terraform apply</code> sau \u0111\u00f3 nh\u1eadp: <code>yes</code> \u0111\u1ec3 t\u1ea1o m\u1edbi eks. Ngo\u00e0i ra c\u00f3 th\u1ec3 th\u00eam option: <code>--auto-approve</code> \u0111\u1ec3 b\u1ecf qua b\u01b0\u1edbc x\u00e1c nh\u1eadn nh\u01b0ng m\u00ecnh ngh\u0129 ko n\u00ean ( h\u00e3y nh\u00ecn qua 1 l\u1ea7n n\u1eefa cho ch\u1eafc).</li> </ul>"},{"location":"blog/2022/06/27/deploy-an-eks-cluster-using-terraform/#final-result","title":"Final result:","text":""},{"location":"blog/2022/06/27/deploy-an-eks-cluster-using-terraform/#next-time-i-should-translate-this-its-seem-a-good-one","title":"Next time I should translate this, it's seem a good one.","text":""},{"location":"blog/2022/06/27/deploy-an-eks-cluster-using-terraform/#happy-devops","title":"HAPPY DEVOPS","text":""},{"location":"blog/2022/07/22/script-generate-env-variables/","title":"Script generate env variables","text":"<ul> <li> <p>Nay c\u00f3 m\u1ed9t \u0111o\u1ea1n setup deployment file tr\u01b0\u1edbc khi deploy, m\u00e0 cu em \u0111\u1ed3ng nghi\u1ec7p feedback chuy\u1ec3n t\u1eeb file <code>.env</code> sang <code>env</code> tr\u00ean deployment d\u1ec5 b\u1ecb thi\u1ebfu qu\u00e1, \u0111\u00e3 th\u1ebf check b\u1eb1ng m\u1eaft th\u01b0\u1eddng t\u1ed1n performance, v\u00e0 request n\u00ean c\u00f3 tool.</p> </li> <li> <p>Ok! B\u00e0i n\u00e0y take note cho \u0111o\u1ea1n bash script \u0111\u1ecdc t\u1eeb file <code>.env</code> v\u00e0 in ra <code>stdout</code> \u0111\u1ec3 ch\u1ec9 vi\u1ec7c copy v\u00e0o deployment file. - bash script v\u00e0 sed hay ph\u1ebft :3</p> </li> </ul> <ul> <li>M\u00ecnh c\u00f3 1 file <code>.env</code> example nh\u01b0 d\u01b0\u1edbi:</li> </ul> <pre><code>user=papu\npass='mypassword'\nsex=\"male\"\n</code></pre> <ul> <li>\u0110\u00e2y l\u00e0 \u0111o\u1ea1n script c\u1ee7a m\u00ecnh:</li> </ul> <pre><code>#!/bin/bash\necho \"place me same folder with .env file!\"\necho \"====================================\"\nfile_name='.env'\nwhile IFS= read -r line || [ -n \"$line\" ]; do\n[ -z \"$line\" ] &amp;&amp; continue\nline=$(echo $line | sed 's/['\\''\\\"]//g')\necho \"- name: ${line%=*}\"\necho \"  value: '${line#*=}'\"\ndone &lt; $file_name\n</code></pre>"},{"location":"blog/2022/07/22/script-generate-env-variables/#chu-thich","title":"Ch\u00fa th\u00edch:","text":"<ul> <li>Ph\u1ea7n n\u00e0y c\u00f3 li\u00ean quan string operators tong bash script</li> <li><code>file_name='.env'</code> fix lu\u00f4n t\u00ean file cho bi\u1ebfn</li> <li><code>while IFS= read -r line || [ -n \"$line\" ]; do</code> \u0111o\u1ea1n n\u00e0y s\u1ebd \u0111\u1ecdc h\u1ebft file. <code>[ -n \"$line\" ]</code> n\u1ebfu ko c\u00f3 d\u00f2ng n\u00e0y n\u00f3 s\u1ebd b\u1ecb b\u1ecf s\u00f3t m\u1ea5t d\u00f2ng cu\u1ed1i , m\u00ecnh c\u0169ng ch\u01b0a r\u00f5 t\u1ea1i sao.</li> <li><code>[ -z \"$line\" ] &amp;&amp; continue</code> c\u00e1i n\u00e0y \u0111\u1ec3 b\u1ecf qua m\u1ed9t line tr\u1ed1ng ( line ko c\u00f3 g\u00ec ).</li> <li> <p><code>line=$(echo $line | sed 's/['\\''\\\"]//g')</code> do gi\u00e1 tr\u1ecb c\u1ee7a bi\u1ebfn <code>env</code> c\u00f3 th\u1ec3 ch\u1ee9a <code>'</code> ho\u1eb7c <code>\"</code> n\u00ean d\u00f2ng n\u00e0y s\u1ebd xo\u00e1 h\u1ebft c\u00e1c d\u1ea5u <code>'</code> v\u00e0 <code>\"</code> \u0111i.</p> </li> <li> <p><code>${line%=*}</code>: <code>%</code> l\u00e0 m\u1ed9t string operator s\u1ebd ki\u1ec3m tra t\u1eeb cu\u1ed1i string v\u00e0 pattern \u1edf \u0111\u00e2y l\u00e0 <code>=*</code>, pattern n\u00e0y s\u1ebd match t\u1eeb d\u1ea5u <code>=</code> \u0111\u1ea7u ti\u00ean t\u1edbi cu\u1ed1i string, xo\u00e1 ph\u1ea7n match n\u00e0y v\u00e0 tr\u1ea3 v\u1ec1 ph\u1ea7n c\u00f2n l\u1ea1i -&gt; s\u1ebd xo\u00e1 ph\u1ea7n <code>=value</code> v\u00e0 tr\u1ea3 v\u1ec1 <code>key</code></p> </li> <li> <p><code>${line#*=}</code>: <code>#</code> l\u00e0 m\u1ed9t string operator s\u1ebd ki\u1ec3m tra t\u1eeb \u0111\u1ea7u m\u1ed9t string v\u00e0 pattern \u1edf \u0111\u00e2y l\u00e0 <code>*=</code> , parttern n\u00e0y s\u1ebd match t\u1eeb \u0111\u1ea7u t\u1edbi d\u1ea5u <code>=</code> ( v\u00ec * match t\u1ea5t c\u1ea3 c\u00e1c k\u00fd t\u1ef1). <code>#</code> s\u1ebd xo\u00e1 ph\u1ea7n match v\u00e0 tr\u1ea3 v\u1ec1 ph\u1ea7n c\u00f2n l\u1ea1i -&gt; s\u1ebd xo\u00e1 t\u1eeb <code>key=</code> v\u00e0 tr\u1ea3 v\u1ec1 ph\u1ea7n <code>value</code> trong bi\u1ebfn <code>env</code></p> </li> <li> <p>N\u1ebfu ch\u1ea1y xong th\u00ec n\u00f3 c\u00f3 d\u1ea1ng output ntn:</p> </li> </ul> <pre><code>#bash env_generate.sh\nplace me same folder with .env file!\n====================================\n\n- name: user\n  value: 'papu'\n- name: pass\n  value: 'mypassword'\n- name: sex\n  value: 'male'\n</code></pre> <ul> <li> <p>P/s: b\u00e0i n\u00e0y take note m\u1ed9t s\u1ed1 th\u1ee9 m\u00ecnh t\u00ecm hi\u1ec3u v\u1ec1 bash script v\u00e0 sed. B\u1ecdn n\u00e0y th\u1ef1c s\u1ef1 ti\u1ec7n v\u00e3i n\u1ebfu ph\u1ea3i l\u00e0m c\u00e1c script nh\u1ecf v\u00e0 li\u00ean quan \u0111\u1ebfn n\u1ed9i dung file :D. M\u00ecnh v\u1eabn \u0111ang c\u1ed1 g\u1eafng improve m\u1ea3ng n\u00e0y s\u1ebd c\u1ed1 g\u1eafng take note ti\u1ebfp m\u1ed9t s\u1ed1 b\u00e0i.</p> </li> <li> <p>Happy devops and bash scripts :D</p> </li> </ul>"},{"location":"blog/2022/07/23/sed-remove--delete-characters-from-filehttpswwwtheunixschoolcom201408sed-examples-remove-delete-chars-from-line-filehtml/","title":"sed remove / delete characters from file","text":"<ul> <li>V\u00ec d\u00f2ng m\u00f4 t\u1ea3 sau \u0111\u00e2y m\u00e0 m\u00ecnh quy\u1ebft \u0111\u1ecbnh d\u1ecbch b\u00e0i n\u00e0y. C\u00fa ph\u00e1p c\u1ee7a <code>sed</code> s\u1ebd nh\u01b0 th\u1ebf n\u00e0y:</li> </ul> <pre><code>$ sed 's/find/replace/' file\n</code></pre> <ul> <li> <p>D\u1ec5 hi\u1ec3u v\u00e3i n\u1ed3i :D :<code>sed</code> s\u1ebd t\u00ecm (find) pattern v\u00e0 thay th\u1ebf ( replace) v\u1edbi m\u1ed9t pattern kh\u00e1c.</p> </li> <li> <p>Gi\u1ea3 s\u1eed ch\u00fang ta c\u00f3 1 file ntn:</p> </li> </ul> <pre><code>$ cat file\nLinux\nSolaris\nUbuntu\nFedora\nRedHat\n</code></pre> <ol> <li>Remove 1 k\u00fd t\u1ef1 \u0111\u1eb7c bi\u1ec7t. V\u00ed d\u1ee5 k\u00ed t\u1ef1 'a'</li> </ol> <pre><code>$ sed 's/a//' file\nLinux\nSolris\nUbuntu\nFedor\nRedHt\n</code></pre> <ul> <li> <p>\u0110o\u1ea1n tr\u00ean s\u1ebd xo\u00e1 k\u00fd t\u1ef1 <code>a</code> \u0111\u1ea7u ti\u00ean g\u1eb7p ph\u1ea9i. \u0110\u1ec3 xo\u00e1 t\u1ea5t c\u1ea3 c\u00e1c k\u00fd t\u1ef1 <code>a</code> ch\u00fang ta c\u00f3 th\u1ec3 d\u00f9ng: <code>$ sed 's/a//g' file</code></p> </li> <li> <p>Xo\u00e1 k\u00fd t\u1ef1 \u0111\u1ea7u ti\u00ean c\u1ee7a c\u00e1c d\u00f2ng</p> </li> </ul> <pre><code>$ sed 's/^.//' file\ninux\nolaris\nbuntu\nedora\nedHat\n</code></pre> <ol> <li>Xo\u00e1 k\u00fd t\u1ef1 cu\u1ed1i c\u00f9ng c\u1ee7a m\u1ed7i d\u00f2ng</li> </ol> <pre><code>$ sed 's/.$//' file\nLinu\nSolari\nUbunt\nFedor\nRedHa\n</code></pre> <ol> <li>Xo\u00e1 k\u00fd t\u1ef1 \u0111\u1ea7u ti\u00ean v\u00e0 cu\u1ed1i c\u00f9ng c\u1ee7a m\u1ed7i d\u00f2ng trong m\u1ed9t command</li> </ol> <pre><code>$ sed 's/.//;s/.$//' file\ninu\nolari\nbunt\nedor\nedHa\n</code></pre> <ul> <li> <p>Hai c\u00e2u l\u1ec7nh c\u00f3 th\u1ec3 th\u1ef1c hi\u1ec7n m\u1ed9t l\u01b0\u1ee3t v\u1edbi d\u1ea5u <code>;</code> \u1edf gi\u1eefa.</p> </li> <li> <p>Xo\u00e1 k\u00fd t\u1ef1 \u0111\u1ea7u ti\u00ean n\u1ebfu n\u00f3 l\u00e0 m\u1ed9t k\u00fd t\u1ef1 nh\u1ea5t \u0111\u1ecbnh</p> </li> </ul> <pre><code>$ sed 's/^F//' file\nLinux\nSolaris\nUbuntu\nedora\nRedHat\n</code></pre> <ol> <li>T\u01b0\u01a1ng t\u1ef1 nh\u01b0 v\u1eady xo\u00e1 k\u00fd t\u1ef1 cu\u1ed1i c\u00f9ng c\u1ee7a d\u00f2ng n\u1ebfu n\u00f3 l\u00e0 m\u1ed9t k\u00fd t\u1ef1 nh\u1ea5t \u0111\u1ecbnh</li> </ol> <pre><code>$ sed 's/x$//' file\nLinu\nSolaris\nUbuntu\nFedora\nRedHat\n</code></pre> <ol> <li>Xo\u00e1 3 k\u00fd t\u1ef1 \u0111\u1ea7u ti\u00ean c\u1ee7a m\u1ed7i d\u00f2ng</li> </ol> <pre><code>$ sed 's/...//' file\nux\naris\nntu\nora\nHat\n</code></pre> <ol> <li>Xo\u00e1 n k\u00fd t\u1ef1 \u0111\u1ea7u ti\u00ean c\u1ee7a m\u1ed7i d\u00f2ng</li> </ol> <pre><code>$ sed -r 's/.{4}//' file\nx\nris\ntu\nra\nat\n</code></pre> <ol> <li>T\u01b0\u01a1ng t\u1ef1 nh\u01b0 v\u1eady xo\u00e1 n k\u00fd t\u1ef1 cu\u1ed1i c\u00f9ng c\u1ee7a m\u1ed7i d\u00f2ng</li> </ol> <pre><code>$ sed -r 's/.{3}$//' file\nLi\nSola\nUbu\nFed\nRed\n</code></pre> <ol> <li>Xo\u00e1 m\u1ecdi th\u1ee9 tr\u1eeb n k\u00fd t\u1ef1 \u0111\u1ea7u ti\u00ean c\u1ee7a m\u1ed7i d\u00f2ng</li> </ol> <pre><code>$ sed -r 's/(.{3}).*/\\1/' file\nLin\nSol\nUbu\nFed\nRed\n</code></pre> <ul> <li> <p><code>\\1</code> gi\u1eef l\u1ea1i group ph\u1ea7n c\u00f2n l\u1ea1i b\u1ecb b\u1ecf \u0111i</p> </li> <li> <p>Xo\u00e1 m\u1ecdi th\u1ee9 tr\u1eeb n k\u00fd t\u1ef1 cu\u1ed1i c\u1ee7a file</p> </li> </ul> <pre><code>$ sed -r 's/.*(.{3})/\\1/' file\nnux\nris\nntu\nora\nHat\n</code></pre> <ol> <li>Xo\u00e1 nhi\u1ec1u k\u00fd t\u1ef1 trong file</li> </ol> <pre><code>$ sed 's/[aoe]//g' file\nLinux\nSlris\nUbuntu\nFdr\nRdHt\n</code></pre> <ol> <li>Xo\u00e1 1 pattern</li> </ol> <pre><code>$ sed 's/lari//g' file\nLinux\nSos\nUbuntu\nFedora\nRedHat\n</code></pre> <ul> <li> <p>Ko ch\u1ec9 c\u00e1c k\u00fd t\u1ef1 m\u00e0 c\u1ea3 pattern c\u0169ng b\u1ecb remove. \u1ede \u0111\u00e2y ch\u00fang ta c\u00f3 <code>lari</code> \u0111\u00e3 l\u00e0m xo\u00e1 c\u1ea3 <code>Solaris</code></p> </li> <li> <p>Ch\u1ec9 xo\u00e1 match th\u1ee9 n</p> </li> </ul> <pre><code>$ sed 's/u//2' file\nLinux\nSolaris\nUbunt\nFedora\nRedHat\n</code></pre> <ol> <li>Xo\u00e1 m\u1ecdi th\u1ee9 trong d\u00f2ng theo sau b\u1edfi k\u00fd t\u1ef1 nh\u1ea5t \u0111\u1ecbnh</li> </ol> <pre><code>$ sed 's/a.*//' file\nLinux\nSol\nUbuntu\nFedor\nRedH\n</code></pre> <ol> <li>Xo\u00e1 t\u1ea5t c\u1ea3 c\u00e1c s\u1ed1 c\u00f3 trong d\u00f2ng:</li> </ol> <pre><code>$ sed 's/[0-9]//g' file\n</code></pre> <ol> <li>Xo\u00e1 t\u1ea5t c\u1ea3 c\u00e1c ch\u1eef vi\u1ebft th\u01b0\u1eddng</li> </ol> <pre><code>$ sed 's/[a-z]//g' file\nL\nS\nU\nF\nRH\n</code></pre> <ol> <li>Xo\u00e1 t\u1ea5t c\u1ea3 tr\u1eeb ch\u1eef vi\u1ebft th\u01b0\u1eddng</li> </ol> <pre><code>$ sed 's/[^a-z]//g' file\ninux\nolaris\nbuntu\nedora\nedat\n</code></pre> <ol> <li>Xo\u00e1 t\u1ea5t c\u1ea3 ch\u1eef v\u00e0 s\u1ed1 trong d\u00f2ng ( v\u00ed d\u1ee5 tr\u1eeb c\u00e1c k\u00fd t\u1ef1 \u0111\u1eb7c bi\u1ec7t)</li> </ol> <pre><code>$ sed 's/[a-zA-Z0-9]//g' file\n</code></pre> <ol> <li>Xo\u00e1 k\u00fd t\u1ef1 ko ph\u00e2n bi\u1ec7t hoa th\u01b0\u1eddng ( t\u01b0\u1edfng th\u1ebf n\u00e0o :D )</li> </ol> <pre><code>$ sed 's/[uU]//g' file\nLinx\nSolaris\nbnt\nFedora\nRedHat\n</code></pre> <ul> <li>HAPPY BASH SCRIPT kk!</li> </ul>"},{"location":"blog/2022/07/26/auto-generate-index-with-bash-script/","title":"auto generate index with bash script","text":"<ul> <li>M\u00ecnh c\u00f3 c\u00e1c b\u00e0i vi\u1ebft theo c\u00e1c n\u0103m m\u1ed7i t\u1ed9i mu\u1ed1n \u0111\u1ecdc l\u1ea1i ph\u1ea3i v\u00e0o t\u1eebng folder c\u1ee7a n\u0103m \u0111\u1ec3 check ( h\u01a1i t\u00f9).</li> <li>C\u00f3 \u00fd \u0111\u1ecbnh d\u00f9ng code \u0111\u1ec3 generate c\u00e1i m\u1ee5c l\u1ee5c t\u1ef1 \u0111\u1ed9ng m\u00e0 v\u1eabn ch\u01b0a code \u0111\u01b0\u1ee3c ( nodejs, python hay rust :D)</li> <li>D\u1ea1o n\u00e0y \u0111ang vi\u1ebft bash nhi\u1ec1u m\u00e0 l\u1ea1i th\u1ea5y nhanh g\u1ecdn ti\u1ec7n n\u00ean l\u00e0m lu\u00f4n c\u00e1i generate n\u00e0y :D</li> </ul>"},{"location":"blog/2022/07/26/auto-generate-index-with-bash-script/#line-by-line","title":"Line by line","text":"<ul> <li>File g\u1ed1c: generate-index.sh</li> </ul> <pre><code>#!/bin/bash\nposts=`find posts | grep .md | sort -nr`\nsed -i \"\"  '15,$d'  README.md\necho '| Post | Year |' &gt;&gt; README.md\necho '| -----| -----|' &gt;&gt; README.md\nfor post in $posts\ndo\n  file_name=${post##*/}\n  name_with_ext=${file_name#*-}\n  name=${name_with_ext%%.*}\n  year_and_name=${post#*/}\n  year=${year_and_name%/*}\n  year=${year%/*} # remove 2020/1203-design-patterns -&gt; 2020\n  echo \"|[${name}](${post})| ${year}|\" &gt;&gt; README.md\ndone\n</code></pre> <ul> <li>Ch\u00fang ta c\u00f3 th\u1ec3 th\u1ef1c thi 1 c\u00e2u l\u1ec7nh trong bash script khi \u0111\u1ec3 ch\u00fang trong 2 d\u1ea5u backtick '`'</li> <li>D\u00f2ng \u0111\u00e2u ti\u00ean li\u1ec7t k\u00ea t\u1ea5t c\u1ea3 c\u00e1c file trong folder <code>posts</code> v\u00e0 l\u1ea5y ra t\u1ea5t c\u1ea3 c\u00e1c file c\u00f3 \u0111u\u00f4i <code>.md</code>. T\u1ea5t c\u1ea3 c\u00e1c b\u00e0i vi\u1ebft c\u1ee7a m\u00ecnh \u0111\u1ec3 trong file <code>.md</code> sau \u0111\u00f3 s\u1eafp x\u1ebfp l\u1ea1i ch\u00fang v\u1edbi <code>sort -nr</code> - m\u00ecnh mu\u1ed1n b\u00e0i vi\u1ebft m\u1edbi nh\u1ea5t l\u00ean \u0111\u1ea7u</li> <li> <p><code>sed -i \"\"  '15,$d'  README.md</code> M\u00ecnh s\u1ebd xo\u00e1 t\u1eeb line s\u1ed1 15 t\u1edbi cu\u1ed1i file <code>README.md</code>. L\u00fd do m\u1ee5c l\u1ee5c m\u00ecnh s\u1ebd th\u00eam t\u1eeb line 15 tr\u1edf \u0111i. D\u0129 nhi\u00ean n\u1ebfu sau file n\u00e0y thay \u0111\u1ed5i th\u00ec c\u1ea7n ph\u1ea3i check l\u1ea1i :). Tr\u00ean macos ph\u1ea3i th\u00eam \u0111o\u1ea1n <code>\"\"</code> h\u01a1i l\u1ea1.</p> </li> <li> <p><code>echo '| Post | Year |' &gt;&gt; README.md</code> v\u00e0 <code>echo '| -----| -----|' &gt;&gt; README.md</code> ghi v\u00e0o file README.md v\u1edbi ph\u1ea7n \u0111\u1ea7u c\u1ee7a \u0111\u1ecbnh d\u1ea1ng table trong markdown. <code>&gt;&gt;</code> l\u00e0 append ghi ti\u1ebfp v\u00e0o file \u0111\u00e3 c\u00f3 n\u1ed9i dung.</p> </li> <li> <p><code>for post in $posts</code> \u0111o\u1ea1n loop qua c\u00e1c b\u00e0i vi\u1ebft</p> </li> <li> <p><code>file_name=${post##*/}</code> l\u1ea5y ra t\u00ean c\u1ee7a c\u00e1c file. V\u00ed d\u1ee5 d\u1ea1ng: <code>2607-bash-script-auto-generate-index.md</code></p> </li> <li> <p><code>name_with_ext=${file_name#*-}</code>: xo\u00e1 b\u1ecf ph\u1ea7n ng\u00e0y v\u00e0 th\u00e1ng \u1edf \u0111\u1ea7u: <code>bash-script-auto-generate-index.md</code></p> </li> <li> <p><code>name=${name_with_ext%%.*}</code> xo\u00e1 b\u1ecf ph\u1ea7n extention: <code>bash-script-auto-generate-index</code></p> </li> <li> <p><code>year_and_name=${post#*/}</code> t\u1eeb \u0111\u01b0\u1eddng link b\u00e0i post l\u1ea5y ra year v\u00e0 name. Post c\u00f3 gi\u00e1 tr\u1ecb ntn: <code>posts/2022/2607-bash-script-auto-generate-index.md</code> v\u00e0 <code>year_and_name</code> c\u00f3 gi\u00e1 tr\u1ecb ntn:<code>2022/2607-bash-script-auto-generate-index.md</code></p> </li> <li> <p><code>year=${year_and_name%/*}</code> remove b\u1ecf ph\u1ea7n t\u00ean file \u0111\u1ec3 l\u1ea5y year: <code>2020</code></p> </li> <li> <p><code>year=${year%/*}</code> # remove 2020/1203-design-patterns -&gt; 2020: comment \u0111\u1ea7y \u0111\u1ee7 r\u1ed3i n\u00ean ko n\u00f3i :D</p> </li> <li> <p><code>echo \"|[${name}](${post})| ${year}|\" &gt;&gt; README.md</code> t\u1ea1o ra c\u00e1c records cho table trong index th\u00f4i.</p> </li> </ul>"},{"location":"blog/2022/07/26/auto-generate-index-with-bash-script/#finished","title":"Finished","text":"<ul> <li>Done v\u1eady l\u00e0 gi\u1edd m\u1ed7i l\u1ea7n c\u00f3 b\u00e0i vi\u1ebft ch\u1ec9 c\u1ea7n <code>$bash generate-index.sh</code> l\u00e0 c\u00f3 th\u1ec3 check b\u00e0i vi\u1ebft t\u1eeb file README r\u1ed3i m\u00e0 ko c\u1ea7n ph\u1ea3i \u0111i t\u00ecm trong t\u1eebng th\u01b0 m\u1ee5c @@.</li> </ul>"},{"location":"blog/2022/07/26/auto-generate-index-with-bash-script/#happy-writing-script-d","title":"HAPPY WRITING SCRIPT :D","text":""},{"location":"blog/2022/07/26/vs-code-how-to-copy-search-results/","title":"VS code how to copy search results","text":""},{"location":"blog/2022/07/26/vs-code-how-to-copy-search-results/#introduction","title":"Introduction","text":"<ul> <li>H\u00f4m nay m\u00ecnh g\u1eb7p m\u1ed9t case c\u00f3 r\u1ea5t nhi\u1ec1u d\u00f2ng c\u00f3 ki\u1ec3u: <code>\"duration\": miliseconds</code>. X\u1ea5p x\u1ec9 800 lines.</li> <li> <p>Y\u00eau c\u1ea7u c\u1ea7n ph\u1ea3i copy h\u1ebft t\u1ea5t c\u1ea3 c\u00e1c gi\u00e1 tr\u1ecb \u0111\u00f3 ra \u0111\u1ec3 so s\u00e1nh. @@!. N\u1ebfu in \u00edt th\u00ec c\u00f2n d\u00f9ng multiple cursor c\u1ee7a vs code ( Alt + Left click) \u0111\u1ec3 click r\u1ed3i copy ch\u1ee9 800 lines m\u00e0 click \u0111\u1ec3 copy th\u00ec ch\u1eafc h\u00e1 h\u1ed1c :D</p> </li> <li> <p>Sau khi l\u1ea5y regex \u0111\u01b0\u1ee3c \u0111o\u1ea1n n\u00e0y \u0111\u1ec3 search n\u00ean m\u00ecnh ngh\u0129 ra google c\u00e1ch \u0111\u1ec3 copy c\u00e1i k\u1ebft qu\u1ea3 search n\u00e0y. Tada stackoverflow m\u00e3i \u0111\u1ec9nh :D</p> </li> </ul>"},{"location":"blog/2022/07/26/vs-code-how-to-copy-search-results/#how-to","title":"How to","text":"<ul> <li> <p>Take note l\u1ea1i cho l\u1ea7n sau c\u00f2n c\u1ea7n d\u00f9ng:</p> </li> <li> <p><code>CTRL + F</code></p> </li> <li>Type your search</li> <li><code>CTRL + SHIFT + L</code>: ch\u1ecdn t\u1ea5t c\u1ea3 k\u1ebft qu\u1ea3 t\u00ecm ki\u1ebfm h\u1ee3p l\u1ec7 ( max 999 th\u00f4i nh\u00e9)</li> <li><code>CTRL + I</code>: \u0111\u1ec3 ch\u1ecdn c\u1ea3 d\u00f2ng ( trong tr\u01b0\u1eddng h\u1ee3p c\u1ea7n l\u1ea5y c\u1ea3 d\u00f2ng th\u00f4i nh\u00e9)</li> <li><code>CTRL + C</code></li> <li> <p><code>CTRL + V</code></p> </li> <li> <p>Trong tr\u01b0\u1eddng h\u1ee3p c\u00f3 v\u00e0i ngh\u00ecn k\u1ebft qu\u1ea3 h\u1ee3p l\u1ec7 ch\u1eafc <code>CTRL + X</code> \u0111\u1ec3 l\u1ea5y 999 th\u1eb1ng \u0111\u1ea7u ti\u00ean qu\u00e1 r\u1ed3i l\u1ea1i <code>cut</code> ti\u1ebfp. Nh\u01b0ng n\u1ebfu l\u00e0 v\u00e0i tr\u0103m ngh\u00ecn ho\u1eb7c h\u01a1n ch\u1eafc ph\u1ea3i t\u00ednh \u0111\u1ebfn d\u00f9ng code: bash, python.</p> </li> </ul>"},{"location":"blog/2023/01/05/aws-auto-start-stop-rds/","title":"AWS auto start stop RDS","text":"<ul> <li>B\u00e0i to\u00e1n: C\u00f4ng ty c\u00f3 c\u00e1c m\u00f4i tr\u01b0\u1eddng dev, stg, pre, prd. Tr\u1eeb prd c\u1ea7n always up, ngo\u00e0i ra c\u00e1c m\u00f4i tr\u01b0\u1eddng kh\u00e1c m\u00ecnh th\u1ea5y ban \u0111\u00eam \u0111\u1ec3 th\u00ec ph\u00ed t\u00e0i nguy\u00ean, v\u00e0 x\u1ebfp c\u00f3 y\u00eau c\u1ea7u gi\u1ea3m cost n\u00ean m\u00ecnh vi\u1ebft lambda \u0111\u1ec3 t\u1ef1 \u0111\u1ed9ng t\u1eaft RDS tr\u00ean c\u00e1c m\u00f4i tr\u01b0\u1eddng non-prod khi ngo\u00e0i gi\u1edd h\u00e0nh ch\u00ednh.</li> </ul> <ul> <li> <p>L\u00fac \u0111\u1ea7u vi\u1ebft b\u1eb1ng python m\u00e0 sau s\u1ebfp b\u1ea3o \u0111\u1ed5i sang nodejs cho c\u00f9ng stack v\u1edbi dev team. B\u00e0i n\u00e0y s\u1ebd note l\u1ea1i c\u1ea3 2 ng\u00f4n ng\u1eef.</p> </li> <li> <p>T\u1ea1i th\u1eddi \u0111i\u1ec3m vi\u1ebft th\u1eb1ng ch\u1ee7 th\u1edbt vi\u1ebft b\u00e0i n\u00e0y c\u1ea3 python v\u00e0 nodejs n\u00f3 ko t\u00ecm \u0111\u01b0\u1ee3c c\u00e1ch \u0111\u1ec3 list c\u00e1c rds instance, n\u00ean script s\u1ebd cho \u0111i\u1ec1n t\u00ean instance v\u00e0o ( ko bi\u1ebft c\u00f3 dummy qu\u00e1 ko :v)</p> </li> <li>B\u00e0i n\u00e0y take note l\u1ea1i \u0111\u1ec3 l\u1ea7n sau m\u00ecnh ch\u1ec9 vi\u1ec7c copy &amp; paste cho nhanh.</li> </ul>"},{"location":"blog/2023/01/05/aws-auto-start-stop-rds/#python","title":"Python","text":"<pre><code>import boto3\nfrom datetime import datetime\n\n\ndef startStop(event, context):\n\n  REGION = 'ap-southeast-1'  // region will be apply\n  TAG_KEY = 'auto-start-stop'\n  TAG_VALUE = 'true'\n\n  dbs_need_start_or_stop = []\n  filter = [{\n    'Name':'db-instance-id',\n    'Values':['RDS-instance-name1', 'RDS-instance-name2', 'RDS-instance-name3']\n  }]\n\n  client = boto3.client('rds', region_name=REGION)\n  dbs = client.describe_db_instances(Filters=filter)['DBInstances']\n\n  for db in dbs:\n    for tag in db['TagList']:\n      if tag['Key'].lower() == TAG_KEY and tag['Value'].lower() == TAG_VALUE:\n        dbs_need_start_or_stop.append(db['DBInstanceIdentifier'])\n  print('List will start or stop: ', dbs_need_start_or_stop)\n\n  now = datetime.utcnow()\n  hour = now.strftime(\"%H\")\n  if(int(hour) &lt; 12): #  start in the morning at 02:00 AM UTC\n    for db in dbs_need_start_or_stop:\n      client.start_db_instance(DBInstanceIdentifier=db)\n  else: # stop in the evening at 14:00 PM UTC\n    for db in dbs_need_start_or_stop:\n      client.stop_db_instance(DBInstanceIdentifier=db)\n</code></pre> <ul> <li>Script n\u00e0y l\u00e0m g\u00ec?</li> <li>T\u1ea1i th\u1eddi \u0111i\u1ec3m lambda \u0111\u01b0\u1ee3c trigger, script loop qua t\u1ea5t c\u1ea3 c\u00e1c rds instances <code>dbs_need_start_or_stop</code> v\u00e0 check tr\u1ea1ng th\u00e1i.</li> <li>Tu\u1ef3 thu\u1ed9c theo th\u1eddi gian \u0111\u01b0\u1ee3c k\u00edch ho\u1ea1t script s\u1ebd bi\u1ebft n\u00ean t\u1eaft (stop) hay m\u1edf (start).<ul> <li>Th\u1eddi gian trigger tr\u01b0\u1edbc 12:00 UTC c\u1ee5 th\u1ec3 s\u1ebd \u0111\u01b0\u1ee3c trigger 02:00 AM UTC -&gt; (9:00 AM GMT +7 s\u00e1ng ra th\u00ec b\u1eadt RDS) cty m\u00ecnh 9:00 AM m\u1edbi v\u00e0o l\u00e0m.</li> <li>Th\u1eddi gian trigger sau 12:00 UTC c\u1ee5 th\u1ec3 14:00 PM UTC -&gt; stop service.</li> <li>Ph\u1ea7n schedule s\u1ebd c\u00f3 note \u1edf ph\u00eda d\u01b0\u1edbi.</li> </ul> </li> </ul>"},{"location":"blog/2023/01/05/aws-auto-start-stop-rds/#nodejs","title":"Nodejs","text":"<pre><code>import AWS from \"aws-sdk\";\nAWS.config.update({ region: \"ap-southeast-1\" });\nconst TAG_KEY = \"auto-start-stop\";\nconst TAG_VALUE = \"true\";\nconst rds = new AWS.RDS();\n\nconst lambdaHandler = async () =&gt; {\n  const dbsNeedStartOrStop: any[] = [];\n  const filter = [\n    {\n      Name: \"db-instance-id\",\n      Values: [\n        \"RDS-instance-name-1\",\n        \"RDS-instance-name-2\",\n        \"RDS-instance-name-3\",\n      ],\n    },\n  ];\n  const response = await rds.describeDBInstances({ Filters: filter }).promise();\n  const dbs = response[\"DBInstances\"];\n\n  for (const dbIndex in dbs) {\n    const tags = dbs[dbIndex][\"TagList\"];\n    for (const tagIndex in tags) {\n      if (\n        tags[tagIndex][\"Key\"].toLowerCase() == TAG_KEY &amp;&amp;\n        tags[tagIndex][\"Value\"].toLowerCase() == TAG_VALUE\n      ) {\n        dbsNeedStartOrStop.push(dbs[dbIndex][\"DBInstanceIdentifier\"]);\n      }\n    }\n  }\n\n  const now = new Date().getUTCHours();\n  console.log(\n    `List DBs will ${now &lt; 12 ? \"start\" : \"stop\"}: `,\n    dbsNeedStartOrStop\n  );\n  if (now &lt; 12) {\n    // start in the morning at 02:00 AM UTC\n    for (const dbIndex in dbsNeedStartOrStop) {\n      await rds\n        .startDBInstance({ DBInstanceIdentifier: dbsNeedStartOrStop[dbIndex] })\n        .promise()\n        .then(\n          () =&gt; {\n            console.log(`${dbsNeedStartOrStop[dbIndex]} started.\\n`);\n          },\n          (err) =&gt; {\n            console.log(\n              `Failed when start: ${dbsNeedStartOrStop[dbIndex]} \\nWith error: ${err}.\\n`\n            );\n          }\n        );\n    }\n  } else {\n    // stop in the evening at 14:00 PM UTC\n    for (const dbIndex in dbsNeedStartOrStop) {\n      await rds\n        .stopDBInstance({ DBInstanceIdentifier: dbsNeedStartOrStop[dbIndex] })\n        .promise()\n        .then(\n          () =&gt; {\n            console.log(`${dbsNeedStartOrStop[dbIndex]} stopped.\\n`);\n          },\n          (err) =&gt; {\n            console.log(\n              `Failed when stop: ${dbsNeedStartOrStop[dbIndex]} \\nWith error: ${err}.\\n`\n            );\n          }\n        );\n    }\n  }\n};\n\nexport const startStop = lambdaHandler;\n</code></pre> <ul> <li>Nodejs l\u00e0m t\u01b0\u01a1ng t\u1ef1 python: l\u00fac \u0111\u01b0\u1ee3c trigger s\u1ebd check c\u00e1c rds v\u00e0 tu\u1ef3 thu\u1ed9c v\u00e0o th\u1eddi gian s\u1ebd bi\u1ebft c\u1ea7n start hay stop.</li> <li>M\u1ed9t ch\u00fat kh\u00e1c l\u00e0 nodejs c\u1ea7n c\u00f3 \u0111o\u1ea1n <code>await</code> n\u1ebfu ko s\u1ebd ch\u01b0a k\u1ecbp t\u1eaft RDS , cay th\u1eadt! : <code>await rds.stopDBInstance()..</code></li> </ul>"},{"location":"blog/2023/01/05/aws-auto-start-stop-rds/#schedule","title":"Schedule","text":"<ul> <li>N\u1ebfu d\u00f9ng terminal \u0111\u1ec3 gen lambda th\u00ec c\u1ea3 python v\u00e0 nodejs s\u1ebd \u0111\u1ec1u c\u1ea5u h\u00ecnh schedule trong file <code>serverless.yml</code> v\u00e0 c\u1ea5u h\u00ecnh th\u1eddi gian nh\u01b0 nhau \u0111\u1ec1u (ri\u00eang ph\u1ea7n functions):</li> </ul> <pre><code>functions:\n  startStop:\n    handler: handler.startStop\n    environment:\n      DEBUG: middlewares:*\n    events:\n      - schedule:\n          rate: cron(00 02 ? * MON-FRI *)  # 09:00 AM GMT+7\n      - schedule:\n          rate: cron(00 14 ? * MON-FRI *)  # 09:00 PM GMT+7\n</code></pre> <ul> <li>C\u1ea5u h\u00ecnh tr\u00ean s\u1ebd:</li> <li>start RDS v\u00e0o 09:00 AM GMT +7 ( hay 02:00 AM UTC) v\u00e0o t\u1ea5t c\u1ea3 c\u00e1c ng\u00e0y trong tu\u1ea7n (t\u1eeb th\u1ee9 2 \u0111\u1ebfn th\u1ee9 6).</li> <li>stop RDS v\u00e0o 09:00 PM GMT +7 ( hay 02:00 PM UTC) v\u00e0o t\u1ea5t c\u1ea3 c\u00e1c ng\u00e0y trong tu\u1ea7n ( th\u1ee9 2 --&gt; th\u1ee9 6).</li> </ul>"},{"location":"blog/2023/01/05/aws-auto-start-stop-rds/#note","title":"Note","text":"<ul> <li>V\u1edbi schedule tr\u00ean \u0111\u1ed3ng ngh\u0129a th\u1ee9 7 v\u00e0 CN RDS s\u1ebd ko auto start. N\u00ean n\u1ebfu c\u00f3 OT nh\u1edb b\u1eadt b\u1eb1ng tay l\u1ea1i.</li> </ul>"},{"location":"blog/2023/02/11/python-take-notes-about-list-comprehension-function-arbitrary-kwargs-and-json/","title":"Python take notes about list comprehension, function arbitrary kwargs and json","text":"<ul> <li>N\u0103m n\u0103m tr\u01b0\u1edbc (2017 - l\u00fac \u0111\u00f3 network engineer) \u0111\u1ecdc python m\u00ecnh th\u1ea5y c\u00f3 m\u1ed9t s\u1ed1 th\u1ee9 v\u1eabn c\u00f2n hay b\u1ecb qu\u00ean. Nh\u1eefng th\u1ee9 n\u00e0y ch\u1ec9 c\u00f3 \u1edf python m\u00e0 qu\u00ean th\u00ec \u0111\u00f4i khi \u0111\u1ecdc code th\u01b0\u1eddng hay l\u1ea5n c\u1ea5n. N\u00ean gi\u1edd mu\u1ed1n h\u1ecdc l\u1ea1i python vi\u1ebft lu\u00f4n b\u00e0i n\u00e0y note l\u1ea1i lu\u00f4n cho nh\u1edb :D</li> </ul>"},{"location":"blog/2023/02/11/python-take-notes-about-list-comprehension-function-arbitrary-kwargs-and-json/#list-comprehension","title":"List comprehension","text":"<ul> <li>List comprehension th\u01b0\u1eddng l\u00e0 c\u00fa ph\u00e1p ng\u1eafn h\u01a1n khi mu\u1ed1n t\u1ea1o m\u1ed9t list t\u1eeb m\u1ed9t list \u0111\u00e3 t\u1ed3n t\u1ea1i.</li> <li>C\u00e1ch th\u00f4ng th\u01b0\u1eddng n\u1ebfu ko d\u00f9ng <code>list comprehension</code>:</li> </ul> <pre><code>fruits = [\"apple\", \"banana\", \"cherry\", \"kiwi\", \"mango\"]\nnewlist = []\n\nfor x in fruits:\n  if \"a\" in x:\n    newlist.append(x)\n\nprint(newlist)\n</code></pre> <ul> <li>N\u1ebfu vi\u1ebft theo c\u00e1ch c\u1ee7a <code>list comprehension</code> ch\u00fang ta \u0111\u00f4i khi ch\u1ec9 c\u1ea7n d\u00f9ng m\u1ed9t d\u00f2ng code cho \u0111o\u1ea1n t\u1ea1o list:</li> </ul> <pre><code>fruits = [\"apple\", \"banana\", \"cherry\", \"kiwi\", \"mango\"]\n\nnewlist = [x for x in fruits if \"a\" in x]\n\nprint(newlist)\n</code></pre> <ul> <li>Syntax c\u1ee7a n\u00f3 nh\u01b0 n\u00e0y:</li> </ul> <pre><code>newlist = [expression for item in iterable if condition == True]\n</code></pre>"},{"location":"blog/2023/02/11/python-take-notes-about-list-comprehension-function-arbitrary-kwargs-and-json/#function-kwargs","title":"Function kwargs","text":"<ul> <li><code>Parameter</code> l\u00e0 t\u00ean tham s\u1ed1 khi \u0111\u1ecbnh ngh\u0129a function.</li> <li><code>Argument</code> l\u00e0 gi\u00e1 tr\u1ecb truy\u1ec1n v\u00e0o khi function \u0111\u01b0\u1ee3c g\u1ecdi.</li> </ul> <pre><code>def sum(a, b): # a and b are parameter\n  return a + b\n\nsum(3,4) # 3, 4 are argument\n</code></pre>"},{"location":"blog/2023/02/11/python-take-notes-about-list-comprehension-function-arbitrary-kwargs-and-json/#arbitrary-arguments-arg","title":"Arbitrary Arguments *arg","text":"<ul> <li>Khi kh\u00f4ng bi\u1ebft s\u1ed1 l\u01b0\u1ee3ng bi\u1ebfn s\u1ebd truy\u1ec1n v\u00e0o ta d\u00f9ng <code>*args</code>, function s\u1ebd nh\u1eadn v\u00e0o m\u1ed9t tuple v\u00e0 c\u00f3 th\u1ec3 truy c\u1eadp arg nh\u01b0 m\u1ed9t array</li> </ul> <pre><code>def my_function(*kids):\n  print(\"The youngest child is \" + kids[2])\n\nmy_function(\"Emil\", \"Tobias\", \"Linus\")\n</code></pre>"},{"location":"blog/2023/02/11/python-take-notes-about-list-comprehension-function-arbitrary-kwargs-and-json/#keyword-arguments","title":"Keyword Arguments","text":"<ul> <li>Truy c\u1eadp theo c\u1eb7p key - value</li> </ul> <pre><code>def my_function(child3, child2, child1):\n  print(\"The youngest child is \" + child3)\n\nmy_function(child1 = \"Emil\", child2 = \"Tobias\", child3 = \"Linus\")\n</code></pre>"},{"location":"blog/2023/02/11/python-take-notes-about-list-comprehension-function-arbitrary-kwargs-and-json/#arbitrary-keyword-arguments-kwargs","title":"Arbitrary Keyword Arguments, **kwargs","text":"<ul> <li>Khi kh\u00f4ng bi\u1ebft bao nhi\u00eau c\u1eb7p key-value s\u1ebd \u0111\u01b0\u1ee3c truy\u1ec1n v\u00e0o ta d\u00f9ng <code>**</code>. Function s\u1ebd nh\u1eadn v\u00e0o m\u1ed9t dict</li> </ul> <pre><code>def my_function(**kid):\n  print(\"His last name is \" + kid[\"lname\"])\n\nmy_function(fname = \"Tobias\", lname = \"Refsnes\")\n</code></pre>"},{"location":"blog/2023/02/11/python-take-notes-about-list-comprehension-function-arbitrary-kwargs-and-json/#json","title":"JSON","text":"<ul> <li>\u0110\u1ec3 xem chi ti\u1ebft h\u01a1n v\u1ec1 json trong python c\u00f3 th\u1ec3 xem t\u1ea1i \u0111\u00e2y</li> <li>Trong b\u00e0i n\u00e0y m\u00ecnh ch\u1ec9 note l\u1ea1i m\u1ed9t s\u1ed1 th\u1ee9 c\u00e1 nh\u00e2n m\u00ecnh th\u1ea5y hay d\u00f9ng v\u00e0 \u0111\u00e3 t\u1eebng ph\u1ea3i search ( do kh\u00f4ng quen gi\u1eefa json trong python v\u00e0 json trong javascript).</li> <li>Kh\u00f4ng gi\u1ed1ng nh\u01b0 javascript mu\u1ed1n truy c\u1eadp nh\u01b0 ki\u1ec3u key-value trong json th\u00ec c\u1ea7n parse sang dict v\u1edbi <code>json.loads</code></li> </ul> <pre><code>import json\n\n# some JSON:\nx =  '{ \"name\":\"John\", \"age\":30, \"city\":\"New York\"}'\n\n# parse x:\ny = json.loads(x)\n\n# the result is a Python dictionary:\nprint(y[\"age\"])\n</code></pre> <ul> <li>Ng\u01b0\u1ee3c l\u1ea1i mu\u1ed1n convert python object ( bao g\u1ed3m c\u1ea3: dict, list, tuple, string, int, float, True, False, None) th\u00ec c\u1ea7n d\u00f9ng <code>json.dumps</code></li> </ul> <pre><code>import json\n\n# a Python object (dict):\nx = {\n  \"name\": \"John\",\n  \"age\": 30,\n  \"city\": \"New York\"\n}\n\n# convert into JSON:\ny = json.dumps(x)\n\n# the result is a JSON string:\nprint(y)\n</code></pre> <ul> <li>Ch\u00fang ta ho\u00e0n to\u00e0n c\u00f3 th\u1ec3 format v\u00e0 sort <code>json.dumps</code> v\u1edbi:</li> </ul> <pre><code>json.dumps(x, indent=4, sort_keys=True)\n</code></pre> <ul> <li>B\u00e0i n\u00e0y t\u1edbi \u0111\u00e2y th\u00f4i \u0111\u00e3.</li> <li>HAPPY CODING!!!</li> </ul>"},{"location":"blog/2023/02/21/monitor-everything-with-prometheus-grafana-and-python-exporter/","title":"Monitor everything with prometheus, grafana and python exporter","text":"<ul> <li> <p>Prometheus v\u00e0 grafana th\u00ec kh\u1ecfi n\u00f3i r\u1ed3i, monitor c\u01a1 s\u1ed1 th\u1ee9 v\u00e0 c\u00e1c node exporter c\u00f3 s\u1eb5n r\u1ea5t nhi\u1ec1u ch\u1ec9 vi\u1ec7c c\u00e0i v\u00e0o l\u00e0 c\u00f3 th\u1ec3 monitor.</p> </li> <li> <p>Tuy nhi\u00ean \u0111\u00f4i khi ch\u00fang ta c\u1ea7n monitor nh\u1eefng th\u1ee9 kh\u00f4ng c\u00f3 s\u1eb5n \u0111\u01a1n gi\u1ea3n v\u00ed d\u1ee5 ch\u00fang ta c\u00f3 th\u1ec3 monitor redis server, nh\u01b0ng n\u1ebfu mu\u1ed1n monitor gi\u00e1 tr\u1ecb c\u1ee7a key <code>current_users</code> trong redis ( thay v\u00ec tr\u1ea1ng th\u00e1i server th\u00ec l\u00e0m sao)?. Trong b\u00e0i n\u00e0y m\u00ecnh s\u1ebd note l\u1ea1i c\u00e1c b\u01b0\u1edbc d\u00f9ng python custom metric c\u1ee7a prometheus \u0111\u1ec3 monitor b\u1ea5t k\u1ef3 th\u1ee9 g\u00ec ch\u00fang ta mu\u1ed1n.</p> </li> </ul>"},{"location":"blog/2023/02/21/monitor-everything-with-prometheus-grafana-and-python-exporter/#python-custom-metric","title":"Python custom metric","text":"<ul> <li>Chi ti\u1ebft python exporter c\u00f3 th\u1ec3 xem t\u1ea1i \u0111\u00e2y. M\u1ed9t s\u1ed1 ki\u1ec3u metric c\u1ee7a prometheus:</li> <li>counter</li> <li>gauge</li> <li>summary</li> <li>histogram</li> <li>info</li> <li>enum</li> <li> <p>Prometheus c\u00f3 m\u1ed9t th\u1ee9 kh\u00e1 tuy\u1ec7t trong metric \u0111\u00f3 l\u00e0 label. V\u00ed d\u1ee5 d\u01b0\u1edbi \u0111\u00e2y m\u00ecnh s\u1ebd t\u1ea1o m\u1ed9t metric l\u00e0 <code>currency</code> \u0111\u1ec3 monitor s\u1ed1 ti\u1ec1n c\u1ee7a m\u00ecnh, nh\u01b0ng ch\u00fang ta s\u1ebd c\u00f3 2 label c\u1ee7a metric n\u00e0y l\u00e0: <code>VND</code> cho Vi\u1ec7t Nam \u0110\u1ed3ng v\u00e0 l\u00e0 <code>USD</code> cho \u0110\u00f4 La M\u1ef9.</p> </li> <li> <p>Source code python nh\u01b0 d\u01b0\u1edbi:</p> </li> </ul> <pre><code>import schedule\nimport time\nfrom prometheus_client import start_http_server, Counter\n\ncurrency = Counter('interest_per_currency', \"s\u1ed1 ti\u1ec1n hi\u1ec7n c\u00f3\", ['Unit'])\ncurrency.labels(\"VND\").inc(1)\ncurrency.labels(\"USD\").inc(23)\n\n\ndef job():\n    currency.labels(\"VND\").inc(1)\n    currency.labels(\"USD\").inc(1)\n\n\n# schedule.every(1).minutes.do(job)\n# schedule.every().day.at(\"19:00\").do(job)\n\n\ndef main():\n    start_http_server(8192)\n    while True:\n        job()\n        time.sleep(60)\n\n\nmain()\n</code></pre> <ul> <li> <p>Ch\u00fang ta c\u00f3 th\u1ec3 d\u00f9ng <code>schedule</code> \u0111\u1ec3 l\u1eadp l\u1ecbch ch\u1ea1y job t\u00ednh to\u00e1n l\u1ea1i metric v\u00e0o th\u1eddi gian c\u1ee5 th\u1ec3 ho\u1eb7c c\u1ee9 sau m\u1ed7i m\u1ed9t kho\u1ea3ng th\u1eddi gian. V\u00ed d\u1ee5 n\u00e0y ch\u01b0a d\u00f9ng t\u1edbi nh\u01b0ng trong l\u00fac custom metric th\u1eadt cho c\u00f4ng vi\u1ec7c c\u00f3 th\u1ec3 d\u00f9ng t\u1edbi n\u00ean m\u00ecnh note lu\u00f4n l\u1ea1i \u1edf \u0111\u00e2y.</p> </li> <li> <p>V\u00ed d\u1ee5 n\u00e0y m\u00ecnh custom 1 metric t\u00ean <code>currency</code> v\u1edbi 2 label cho <code>VND</code> v\u00e0 <code>USD</code>. V\u1edbi gi\u00e1 tr\u1ecb kh\u1edfi \u0111i\u1ec3m l\u00e0 1 VND v\u00e0 23 USD. C\u1ee9 1 ph\u00fat gi\u00e1 tr\u1ecb l\u1ea1i t\u0103ng l\u00ean 1.</p> </li> <li> <p>Sau khi c\u00e0i \u0111\u1eb7t th\u01b0 vi\u1ec7n ch\u1ea1y source code v\u00e0 truy c\u1eadp <code>localhost:8192</code> \u0111\u1ec3 l\u1ea5y metric. Nh\u01b0 d\u01b0\u1edbi m\u00ecnh d\u00f9ng curl \u0111\u1ec3 l\u1ea5y gi\u00e1 tr\u1ecb:</p> </li> </ul> <pre><code>$curl localhost:8192 | grep currency\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n100  2314  100  2314    0     0  2259k      0 --:--:-- --:--:-- --:--:-- 2259k\n# HELP interest_per_currency_total s\u1ed1 ti\u1ec1n hi\u1ec7n c\u00f3\n# TYPE interest_per_currency_total counter\ninterest_per_currency_total{Unit=\"VND\"} 2.0\ninterest_per_currency_total{Unit=\"USD\"} 24.0\n</code></pre>"},{"location":"blog/2023/02/21/monitor-everything-with-prometheus-grafana-and-python-exporter/#prometheus-and-grafana","title":"Prometheus and Grafana","text":"<ul> <li>Okie metric th\u00ec \u0111\u00e3 t\u00f9y bi\u1ebfn xong, ti\u1ebfp theo ch\u00fang ta s\u1ebd c\u00e0i \u0111\u1eb7t v\u00e0 c\u1ea5u h\u00ecnh prometheus v\u00e0 grafana</li> </ul>"},{"location":"blog/2023/02/21/monitor-everything-with-prometheus-grafana-and-python-exporter/#install-prometheus-and-grafana","title":"Install prometheus and grafana","text":"<ul> <li>\u0110\u1ec3 cho nhanh ch\u00f3ng th\u00ec m\u00ecnh s\u1ebd setup <code>docker-compose.yml</code> cho prometheus v\u00e0 grafana nh\u01b0 d\u01b0\u1edbi v\u00e0 <code>docker compose up -d</code> cho l\u1eb9.</li> </ul> <pre><code>version: \"2\"\n\nservices:\n  prometheus:\n    image: prom/prometheus:v2.42.0\n    container_name: prometheus_server\n    hostname: prometheus_server\n    volumes:\n      - \"./prometheus.yml:/etc/prometheus/prometheus.yml\"\n    ports:\n      - \"9090:9090\"\n  grafana: # default user/pass: admin/admin\n    image: grafana/grafana:9.3.6\n    container_name: grafana_server\n    hostname: grafana_server\n    ports:\n      - \"3000:3000\"\n    depends_on:\n      - prometheus\n</code></pre> <ul> <li>Thi\u1ebft l\u1eadp c\u1ea5u h\u00ecnh cho prometheus nh\u01b0 d\u01b0\u1edbi <code>prometheus.yml</code>:</li> </ul> <pre><code># my global config\nglobal:\n  scrape_interval: 15s # Set the scrape interval to every 15 seconds. Default is every 1 minute.\n  evaluation_interval: 15s # Evaluate rules every 15 seconds. The default is every 1 minute.\n  # scrape_timeout is set to the global default (10s).\n\n# Alertmanager configuration\nalerting:\n  alertmanagers:\n    - static_configs:\n        - targets:\n          # - alertmanager:9093\n\n# Load rules once and periodically evaluate them according to the global 'evaluation_interval'.\nrule_files:\n  # - \"first_rules.yml\"\n  # - \"second_rules.yml\"\n\n# A scrape configuration containing exactly one endpoint to scrape:\n# Here it's Prometheus itself.\nscrape_configs:\n  # The job name is added as a label `job=&lt;job_name&gt;` to any timeseries scraped from this config.\n  - job_name: \"prometheus\"\n    metrics_path: \"/\"\n\n    # metrics_path defaults to '/metrics'\n    # scheme defaults to 'http'.\n\n    static_configs:\n      - targets: [\"172.17.0.1:8192\"]\n</code></pre> <ul> <li>Note ch\u00fang ta s\u1ebd c\u00e0i prometheus v\u00e0 grafana v\u1edbi version c\u1ee5 th\u1ec3 v\u00e0 setup c\u1ea5u h\u00ecnh m\u1eb7c \u0111\u1ecbnh cho prometheus. Ph\u1ea7n <code>scrape_configs</code> l\u00e0 c\u1ea5u h\u00ecnh c\u1ea7n th\u00eam \u0111\u1ec3 prometheus s\u1ebd l\u1ea5y metric t\u1eeb source code python l\u00fac n\u00e3y:</li> </ul> <pre><code>scrape_configs:\n  # The job name is added as a label `job=&lt;job_name&gt;` to any timeseries scraped from this config.\n  - job_name: \"prometheus\"\n    metrics_path: \"/\"\n\n    # metrics_path defaults to '/metrics'\n    # scheme defaults to 'http'.\n\n    static_configs:\n      - targets: [\"172.17.0.1:8192\"]\n</code></pre>"},{"location":"blog/2023/02/21/monitor-everything-with-prometheus-grafana-and-python-exporter/#setup-prometheus-va-grafana","title":"Setup prometheus v\u00e0 grafana","text":"<ul> <li> <p>File <code>prometheus.yml</code> tr\u00ean \u0111\u00e3 c\u1ea5u h\u00ecnh s\u1eb5n prometheus \u0111\u1ec3 l\u1ea5y metric t\u1eeb python r\u1ed3i n\u00ean ko c\u1ea7n l\u00e0m g\u00ec th\u00eam n\u1eefa. <code>172.17.0.1</code> l\u00e0 IP m\u00e1y ch\u1ea1y source code python.</p> </li> <li> <p>T\u00ean truy c\u1eadp m\u1eb7c \u0111\u1ecbnh c\u1ee7a grafana l\u00e0 <code>admin/admin</code>. Do demo n\u00ean skip lu\u00f4n ko c\u1ea7n \u0111\u1ed5i pass m\u1edbi.</p> </li> <li> <p>C\u1ea7n setup Grafana \u0111\u1ec3 l\u1ea5y d\u1eef li\u1ec7u t\u1eeb prometheus v\u00e0 hi\u1ec3n th\u1ecb. \u0110o\u1ea1n n\u00e0y h\u01a1i c\u1ea5n m\u1ed9t ch\u00fat. Do m\u00ecnh ch\u1ea1y docker-compose n\u00ean \u0111o\u1ea1n n\u00e0y c\u1ea5u h\u00ecnh <code>Data source</code> cho grafana ko nh\u1eadp localhost \u0111\u01b0\u1ee3c m\u00e0 c\u1ea7n nh\u1eadp IP m\u00e1y ch\u1ea1y docker-compose. Nh\u01b0 \u0111ang demo s\u1ebd l\u00e0: <code>http://172.17.0.1:9090</code></p> </li> <li> <p>Sau khi <code>Data source</code> work. Ch\u00fang ta kh\u1edfi t\u1ea1o Panel v\u1edbi metric nh\u01b0 trong h\u00ecnh: </p> </li> <li> <p>\u1ede \u0111\u00e2y m\u00ecnh t\u1ea1o metric counter <code>interest_per_currency</code> n\u00f3 b\u1ecb th\u00eam c\u00e1i <code>_total</code> :D. N\u1ebfu metric l\u00e0 <code>Gauge</code> th\u00ec n\u00f3 s\u1ebd d\u1eef nguy\u00ean t\u00ean.</p> </li> <li> <p>Ok done nh\u01b0 v\u1eady l\u00e0 v\u1edbi 1 metric ch\u00fang ta c\u00f3 th\u1ec3 c\u00f9ng l\u00fac monitor \u0111\u01b0\u1ee3c nhi\u1ec1u gi\u00e1 tr\u1ecb v\u1edbi c\u00e1c \u00fd ngh\u0129a kh\u00e1c nhau nh\u01b0 <code>VND</code> v\u00e0 <code>USD</code> nh\u01b0 h\u00ecnh d\u01b0\u1edbi, prometheus th\u1eadt tuy\u1ec7t :D</p> </li> </ul> <p></p> <ul> <li> <p>HAPPY dev and devops :D !!!</p> </li> <li> <p>P/S: \u00e0 qu\u00ean gi\u1ea3i ph\u00f3ng t\u00e0i nguy\u00ean. <code>Ctrl + C</code> t\u1eaft code python \u0111ang ch\u1ea1y. V\u00e0 <code>docker-compose down</code> \u0111\u1ec3 gi\u1ea3i ph\u00f3ng s\u1ea1ch s\u1ebd c\u00e1c t\u00e0i nguy\u00ean docker l\u00fac n\u00e3y v\u1eeba t\u1ea1o nh\u00e9.</p> </li> </ul>"},{"location":"blog/2023/02/22/custom-ubuntu-image-with-service-ssh-ready/","title":"Custom ubuntu image with service ssh ready","text":"<ul> <li> <p>B\u00e0i n\u00e0y take note l\u1ea1i t\u1eeb repo n\u00e0y</p> </li> <li> <p>T\u1ea1i sao c\u1ea7n custom ubuntu image d\u00f9ng b\u1ea3n g\u1ed1c kh\u00f4ng ph\u1ea3i ngon h\u01a1n sao ?</p> </li> </ul> <ul> <li>M\u00ecnh \u0111ang th\u1ef1c h\u00e0nh ansible v\u00e0 b\u1ea3n ch\u1ea5t c\u1ea7n m\u1ed9t s\u1ed1 server v\u1edbi quy\u1ec1n ssh v\u00e0o. N\u1ebfu kh\u1edfi ch\u1ea1y t\u1eebng server r\u1ed3i \u0111i add user v\u00e0 ssh s\u1ebd r\u1ea5t c\u1ef1c n\u00ean t\u1ea1o lu\u00f4n 1 image mang t\u00ednh c\u00e1 nh\u00e2n v\u1edbi quy\u1ec1n ssh t\u1eeb public key c\u1ee7a m\u00e1y m\u00ecnh. Sau \u0111\u00f3 ch\u1ec9 vi\u1ec7c run v\u00e0 th\u1ef1c h\u00e0nh ansible th\u00f4i</li> </ul>"},{"location":"blog/2023/02/22/custom-ubuntu-image-with-service-ssh-ready/#dockerfile-and-id_rsa","title":"Dockerfile and id_rsa","text":"<ul> <li> <p><code>id_rsa.pub</code> s\u1ebd ch\u1ee9a public key c\u1ea7n add.</p> </li> <li> <p>Dockerfile nh\u01b0 d\u01b0\u1edbi s\u1ebd t\u1ea1o user <code>ubuntu</code>, add key file, kh\u1edfi ch\u1ea1y d\u1ecbch v\u1ee5 ssh.</p> </li> </ul> <pre><code>FROM ubuntu:20.04\n\nRUN mkdir -p /var/run/sshd\n\n\nRUN apt update &amp;&amp; \\\n  apt install -y openssh-server\n\nRUN useradd -rm -d /home/ubuntu -s /bin/bash ubuntu &amp;&amp; \\\n  echo ubuntu:password1234 | chpasswd\n\nRUN mkdir /home/ubuntu/.ssh &amp;&amp; \\\n  chmod 700 /home/ubuntu/.ssh\n\nCOPY id_rsa.pub /home/ubuntu/.ssh/authorized_keys\n\n\nRUN chown ubuntu:ubuntu -R /home/ubuntu/.ssh &amp;&amp; \\\n  chmod 600 /home/ubuntu/.ssh/authorized_keys\n\nCMD [\"/usr/sbin/sshd\", \"-D\"]\n</code></pre>"},{"location":"blog/2023/02/22/custom-ubuntu-image-with-service-ssh-ready/#create-image-and-container","title":"Create image and container","text":"<ul> <li>Sau khi \u0111\u00e3 c\u00f3 <code>Dockerfile</code> v\u00e0 <code>id_rsa.pub</code> build image th\u00f4i:</li> </ul> <pre><code>docker build -t ubuntu_custom .\n</code></pre> <ul> <li>Kh\u1edfi ch\u1ea1y container n\u00e0o:</li> </ul> <pre><code>docker run -d --name ubuntu_custom_container_1 -it ubuntu_custom\n</code></pre> <ul> <li>Check IP c\u1ee7a container:</li> </ul> <pre><code>docker inspect -f '{{range.NetworkSettings.Networks}}{{.IPAddress}}{{end}}' ubuntu_custom_container_1\n</code></pre> <ul> <li>V\u1eady th\u00f4i done r\u1ed3i sau \u0111\u00f3 ch\u00fang ta c\u00f3 th\u1ec3 b\u1eaft \u0111\u1ea7u ssh v\u00e0o container lu\u00f4n v\u00e0 v\u1ecdc v\u1edbi 1 trong c\u00e1c l\u1ec7nh ssh:</li> </ul> <pre><code>ssh ubuntu@&lt;ip_container&gt;\n# ho\u1eb7c\nssh -i id_rsa ubuntu@&lt;ip_container&gt;\n</code></pre>"},{"location":"blog/2023/03/10/today-i-learned-mongodb-is-running-but-i-cannot-access/","title":"Today I learned: Mongodb is running but I cannot access","text":"<ul> <li>B\u00e0i n\u00e0y kh\u00f4ng \u0111\u1ee7 d\u00e0i \u0111\u1ec3 l\u00e0m m\u1ed9t b\u00e0i \u0111\u0103ng blog. Nh\u01b0ng nh\u01b0 ti\u00eau \u0111\u1ec1: <code>today I learned</code>, n\u00f3 l\u00e0m m\u00ecnh m\u1ea5t th\u1eddi gian n\u00ean c\u1ea7n note l\u1ea1i \u0111\u1ec3 l\u00e2u l\u00e2u \u0111\u1ecdc l\u1ea1i nh\u1edb l\u1ea7n sau ko b\u1ecb :))</li> </ul> <ul> <li> <p>Nay c\u00f3 issue mongodb ch\u1ebft ( tr\u01b0\u1edbc \u0111\u00f3 c\u00f3 c\u1ea3nh b\u00e1o full \u1ed5, nh\u01b0ng khi m\u00ecnh check th\u00ec ai \u0111\u00f3 \u0111\u00e3 n\u00e2ng l\u00ean 1T v\u00e0 \u0111ang d\u00f9ng c\u00f3 74%).</p> </li> <li> <p>M\u00ecnh check th\u1ea5y service failed. \u0110\u00e3 restart l\u1ea1i service mongo v\u1edbi c\u1ea3 2 l\u1ec7nh:</p> </li> </ul> <pre><code>systemctl restart mongod.service\nservice mongod restart\n</code></pre> <ul> <li>Sau \u0111\u00f3 th\u1eed stop, r\u1ed3i start l\u1ea1i service v\u1eabn running nh\u01b0ng ko access \u0111\u01b0\u1ee3c.</li> </ul> <pre><code>telnet localhost 27017\nconnection refused\n</code></pre> <ul> <li> <p>Trong khi \u0111\u00f3 con s\u1ed1 2 (b\u00ean m\u00ecnh ch\u1ea1y mongo replicas PRA) v\u1eabn telnet b\u00ecnh th\u01b0\u1eddng.</p> </li> <li> <p>Sau \u0111\u00f3 a s\u1ebfp check th\u00ec b\u00e1o c\u00f3 l\u1ed7i:</p> </li> </ul> <pre><code>Error: ENOSPC: no space left on device, write\n</code></pre> <ul> <li> <p>L\u1ed7i output ra khi ch\u1ea1y l\u1ec7nh: <code>service mongod status</code> (tr\u01b0\u1edbc \u0111\u00f3 m\u00ecnh c\u0169ng check r\u1ed3i nh\u01b0ng ko hi\u1ec3u m\u1eaft m\u0169i \u0111\u1ec3 \u0111\u00e2u ko th\u1ea5y?)</p> </li> <li> <p>V\u1ea5n \u0111\u1ec1 \u1edf \u0111\u00e2y l\u00e0 ec2 2 volume. Volume c\u1ee7a mongo th\u00ec m\u1edbi d\u00f9ng 74% nh\u01b0ng vol c\u1ee7a root nh\u01b0 log tr\u00ean th\u00ec full. Sau khi free \u1ed5 c\u1ee9ng cho root th\u00ec mongo l\u1ea1i v\u00e0o b\u00ecnh th\u01b0\u1eddng.</p> </li> <li> <p>V\u1eady \u0111\u00f3 tr\u01b0\u1edbc \u0111\u00f3 m\u00ecnh c\u1ee9 \u0111i theo h\u01b0\u1edbng check mongo service th\u00ec bao gi\u1edd fix xong bug. V\u1eady n\u00ean ngo\u00e0i ph\u00e2n v\u00f9ng c\u1ee7a db c\u00f2n c\u1ea7n nh\u1edb \u0111\u1ebfn ph\u00e2n v\u00f9ng root n\u1eefa (c\u00f3 th\u1ec3 c\u1ea3 tr\u01b0\u1eddng h\u1ee3p v\u1edbi c\u00e1c service kh\u00e1c c\u0169ng v\u1eady).</p> </li> <li> <p>HAPPY WORKING!!!</p> </li> </ul>"},{"location":"blog/2023/04/04/turn-off-fn-moe-keyboard-in-ubuntu/","title":"Turn off fn moe keyboard in ubuntu","text":"<ul> <li>M\u00ecnh d\u00f9ng ph\u00edm c\u01a1 v\u00e0 n\u00f3 c\u00f3 c\u00e1i <code>Fn</code> m\u1ed7i t\u1ed9i default turn on, n\u00ean m\u1ed7i khi debug thay v\u00ec v\u00ec <code>F5</code> b\u1eadt ch\u1ebf \u0111\u1ed9 debug tr\u00ean vscode th\u00ec n\u00f3 hi\u1ec3n th\u00ec c\u00e1i \u0111\u00e8n b\u00e0n ph\u00edm , hay F11 l\u00e0 gi\u1ea3m \u00e2m l\u01b0\u1ee3ng. N\u00ean b\u00e0i n\u00e0y v\u1ec1 vi\u1ec7c t\u1eaft n\u00f3 \u0111i :D</li> </ul>"},{"location":"blog/2023/04/04/turn-off-fn-moe-keyboard-in-ubuntu/#turn-off","title":"Turn off","text":"<ul> <li>Commands:</li> </ul> <pre><code>echo 0 | sudo tee /sys/module/hid_apple/parameters/fnmode\necho options hid_apple fnmode=0 | sudo tee -a /etc/modprobe.d/hid_apple.conf\n</code></pre> <ul> <li> <p>Detail:</p> </li> <li> <p>Hi\u1ec3u v\u1ec1 c\u00e1c gi\u00e1 tr\u1ecb:</p> Value Function Description 0 diabled T\u1eaft function 1 f keys last <code>F*</code> d\u00f9ng t\u00ednh n\u0103ng <code>function</code>. <code>Fn + F*</code> \u0111\u1ec3 d\u00f9ng c\u00e1c ph\u00edm F* 2 f keys first <code>F*</code> d\u00f9ng nh\u01b0 b\u00ecnh th\u01b0\u1eddng. <code>Fn + F*</code> \u0111\u1ec3 d\u00f9ng t\u00ednh n\u0103ng <code>function</code> </li> <li> <p><code>echo 0 | sudo tee /sys/module/hid_apple/parameters/fnmode</code> set t\u1ea1m th\u1eddi v\u1ec1 gi\u00e1 tr\u1ecb 0</p> </li> <li><code>echo 1 | sudo tee /sys/module/hid_apple/parameters/fnmode</code> \u0111\u1ec3 set v\u1ec1 1 n\u1ebfu mu\u1ed1n.</li> <li><code>echo options hid_apple fnmode=0 | sudo tee -a /etc/modprobe.d/hid_apple.conf</code> \u0111\u1ec3 c\u00e1c l\u1ea7n sau khi restart m\u00e1y v\u1eabn l\u00e0 gi\u00e1 tr\u1ecb 0.</li> <li>Chi ti\u1ebft h\u01a1n \u1edf \u0111\u00e2y</li> </ul>"},{"location":"blog/2023/04/18/vagrant-custom-ubuntu/","title":"Vagrant custom ubuntu","text":"<ul> <li>Trong b\u00e0i n\u00e0y m\u00ecnh c\u00f3 custom m\u1ed9t docker image \u0111\u1ec3 khi docker run l\u00e0 ta c\u00f3 m\u1ed9t container s\u1eb5n s\u00e0ng ssh \u0111\u01b0\u1ee3c t\u1eeb m\u00e1y ch\u1ee7 (m\u00e1y ch\u1ea1y docker). Tuy nhi\u00ean trong qu\u00e1 tr\u00ecnh gi\u1ea3 l\u1eadp \u0111\u1ec3 test m\u1ed9t s\u1ed1 d\u1ecbch v\u1ee5 khi ch\u1ea1y ansible, c\u00f3 v\u1ebb container ko \u0111\u00e1p \u1ee9ng \u0111\u01b0\u1ee3c n\u00ean m\u00ecnh \u0111\u00e3 ph\u1ea3i d\u00f9ng <code>vagrant</code>.</li> </ul> <ul> <li> <p>TLDR: b\u00e0i n\u00e0y setup \u0111\u1ec3 khi vagrant ch\u1ea1y <code>ubuntu</code> s\u1ebd add s\u1eb5n lu\u00f4n ssh key cho account <code>vagrant</code> v\u00e0 account <code>root</code>.</p> </li> <li> <p>C\u00e0i \u0111\u1eb7t vagrant link official t\u1ea1i \u0111\u00e2y. Note vagrant d\u00f9ng qu\u1ea3n l\u00fd ch\u1ea1y c\u00e1c VM n\u00ean s\u1ebd kh\u00e1c v\u00e0 t\u1ed1n t\u00e0i nguy\u00ean h\u01a1n docker.</p> </li> </ul>"},{"location":"blog/2023/04/18/vagrant-custom-ubuntu/#cai-at","title":"C\u00e0i \u0111\u1eb7t","text":"<ul> <li> <p>\u1ede \u0111\u00e2y m\u00ecnh d\u00f9ng VM l\u00e0 virtualbox.</p> </li> <li> <p>C\u00e0i \u0111\u1eb7t plugin cho vagrant:</p> </li> </ul> <pre><code>vagrant plugin install vagrant-hosts\n</code></pre> <ul> <li>T\u1ea1o folder <code>vagrant-ubuntu-custom-ssh-key</code>.</li> <li><code>cd</code> v\u00e0o th\u01b0 m\u1ee5c v\u1eeba t\u1ea1o <code>vagrant-ubuntu-custom-ssh-key</code>.</li> <li>Ch\u1ea1y init vagrant, \u1edf \u0111\u00e2y ch\u00fang ta s\u1ebd ch\u1ea1y <code>ubuntu/focal64</code>:</li> </ul> <pre><code>vagrant init ubuntu/focal64\n</code></pre> <ul> <li>Th\u00eam c\u00e1c tham s\u1ed1 cho machine.</li> </ul> <pre><code>BOX_NAME =  ENV['BOX_NAME'] || \"ubuntu/focal64\"\nBOX_MEM = ENV['BOX_MEM'] || \"1024\"\nBOX_CPUS = ENV['BOX_CPUS'] || \"2\"\nCLUSTER_HOSTS = ENV['CLUSTER_HOSTS'] || \"vagrant_hosts\"\n</code></pre> <ul> <li>M\u1ed9t vagrant file c\u00f3 th\u1ec3 \u0111\u1ecbnh ngh\u0129a cho nhi\u1ec1u machine v\u00e0 setup s\u1eb5n c\u00e1c c\u1ea5u h\u00ecnh cho t\u1eebng machine. Nh\u01b0 d\u01b0\u1edbi m\u00ecnh s\u1ebd add th\u00eam 1 machine. Ghi \u0111\u00e8 file host v\u00e0 add s\u1eb5n public key cho user <code>vagrant</code> v\u00e0 <code>root</code> m\u1ee5c \u0111\u00edch \u0111\u1ec3 khi machine up l\u00e0 t\u1eeb host m\u00ecnh c\u00f3 th\u1ec3 ssh v\u00e0o lu\u00f4n kh\u00f4ng c\u1ea7n ph\u1ea3i \u0111i add th\u1ee7 c\u00f4ng l\u1ea1i.</li> </ul> <pre><code>config.vm.define \"node1\", primary: true do |node1_config|\n    node1_config.vm.box = \"ubuntu/focal64\"\n    node1_config.vm.hostname = \"node1\"\n    node1_config.ssh.shell = \"/bin/sh\"\n    node1_config.ssh.forward_agent = true\n    node1_config.vm.network :private_network, ip: \"192.168.56.235\"\n    #node1_config.vm.network \"forwarded_port\", guest: 22, host: 2252\n    node1_config.vm.boot_timeout = 360\n    node1_config.vm.provider \"virtualbox\" do |vb|\n      vb.name = \"node1\"\n      vb.memory = BOX_MEM\n      vb.cpus = BOX_CPUS\n      vb.customize [\"modifyvm\", :id, \"--uartmode1\", \"file\", File::NULL] # https://bugs.launchpad.net/cloud-images/+bug/1874453\n      vb.customize [\"modifyvm\", :id, \"--natdnshostresolver1\", \"on\"]\n      vb.customize [\"modifyvm\", :id, \"--natdnsproxy1\", \"on\"]\n    end\n    node1_config.vm.provision :hosts do |provisioner|\n      provisioner.sync_hosts = false\n      provisioner.add_localhost_hostnames = false\n      provisioner.add_host '192.168.56.235', ['node1']\n      provisioner.add_host '192.168.56.236', ['node2']\n      provisioner.add_host '192.168.56.237', ['node3']\n      #provisioner.add_host '192.168.122.27', ['dc2p-mssql-master.citigo.io']\n    end\n    config.vm.provision \"shell\" do |s|\n        ssh_pub_key = File.readlines(\"#{Dir.home}/.ssh/id_rsa.pub\").first.strip\n        s.inline = &lt;&lt;-SHELL\n          echo #{ssh_pub_key} &gt;&gt; /home/vagrant/.ssh/authorized_keys\n          echo #{ssh_pub_key} &gt;&gt; /root/.ssh/authorized_keys\n        SHELL\n    end\n</code></pre> <ul> <li> <p>Ch\u1ec9 v\u1eady th\u00f4i \u0111\u1ebfn \u0111\u00e2y ch\u1ec9 c\u1ea7n <code>vagrant up</code> v\u00e0 ch\u1edd l\u00e0 t\u1eeb m\u00e1y ch\u1ee7 c\u00f3 th\u1ec3 ssh v\u00e0o \u0111\u01b0\u1ee3c m\u00e1y v\u1eeba t\u1ea1o.</p> </li> <li> <p>Note:</p> </li> <li> <p>File \u0111\u1ea7y \u0111\u1ee7 cho b\u00e0i n\u00e0y \u1edf \u0111\u00e2y</p> </li> <li> <p>N\u1ebfu b\u1ea1n d\u00f9ng vagrant nhi\u1ec1u n\u00ean \u0111\u1ecdc qua doc t\u1ea1i \u0111\u00e2y n\u00f3 kh\u00e1 h\u1eefu \u00edch, nh\u01b0 c\u00e1c thu\u1eadt ng\u1eef chung khi ch\u00fang ta d\u00f9ng vagrant: <code>machine</code> l\u00e0 g\u00ec , <code>box</code> l\u00e0 g\u00ec. Root password l\u00e0 g\u00ec? (<code>vagrant</code> nh\u00e9 :v ). Hay c\u00e1ch \u0111\u1ec3 connect t\u1eeb box ra ngo\u00e0i m\u00e1y localhost nh\u01b0 th\u1ebf n\u00e0o?</p> </li> <li> <p>V\u1eady th\u00f4i b\u00e0i n\u00e0y m\u1ee5c \u0111\u00edch note l\u1ea1i ph\u1ea7n setup ssh key cho box tr\u00ean vagrant :D.</p> </li> <li> <p>Happy devops! :D</p> </li> </ul>"},{"location":"blog/2023/06/27/how-to-send-aws-notifications-to-microsoft-teams/","title":"How to send AWS notifications to Microsoft Teams","text":"<ul> <li>From dev.to</li> </ul>"},{"location":"blog/2023/06/27/how-to-send-aws-notifications-to-microsoft-teams/#introduction","title":"Introduction","text":"<ul> <li> <p>C\u00f4ng ty m\u00ecnh chuy\u1ec3n t\u1eeb slack sang d\u00f9ng MS teams, v\u00e0 c\u00f3 y\u00eau c\u1ea7u push noti v\u00e0o channel c\u1ee7a team thay v\u00ec slack.</p> </li> <li> <p>B\u00e0i vi\u1ebft n\u00e0y \u0111\u1ec1 c\u1eadp hai gi\u1ea3i ph\u00e1p push noti t\u1eeb aws v\u00e0o MS team. C\u00f3 hai c\u00e1ch: 1 l\u00e0 lambda + webhook v\u00e0 2 l\u00e0 push th\u1eb3ng sns v\u00e0o email.</p> </li> </ul> <ul> <li>M\u1ee5c \u0111\u00edch m\u00ecnh note l\u1ea1i vi\u1ec7c MS team c\u00f3 support t\u1ea1o email cho 1 channel (c\u00e1i n\u00e0y l\u1ea1 \u00e0 nha).</li> </ul>"},{"location":"blog/2023/06/27/how-to-send-aws-notifications-to-microsoft-teams/#using-lambda-va-webhook","title":"Using lambda v\u00e0 webhook.","text":"<ul> <li> <p>L\u1ea5y webhook t\u1eeb MS team:</p> </li> <li> <p>T\u1eeb channel c\u1ee7a MS team -&gt; d\u1ea5u 3 ch\u1ea5m -&gt; <code>connectors</code> -&gt; <code>Incoming Webhook</code> -&gt; <code>Configure</code></p> </li> <li> <p>\u0110\u1eb7t t\u00ean cho webhook, ch\u1ecdn <code>upload a logo</code> n\u1ebfu mu\u1ed1n ( v\u00ed d\u1ee5 noti t\u1eeb aws c\u00f3 th\u1ec3 upload avatar AWS)</p> </li> <li> <p>L\u01b0u l\u1ea1i \u0111\u01b0\u1eddng link webhook.</p> </li> <li> <p>B\u00e0i vi\u1ebft n\u00e0y gi\u1ea3 thi\u1ebft ch\u00fang ta \u0111\u00e3 c\u00f3 lambda v\u00e0 subscribe v\u00e0o 1 k\u00eanh SNS.</p> </li> <li> <p>Lambda function c\u00f3 th\u1ec3 d\u00f9ng b\u1ea5t k\u1ef3 ng\u00f4n ng\u1eef n\u00e0o ( python, nodejs..) push noti v\u00e0o link webhook v\u1eeba t\u1ea1o \u1edf tr\u00ean.</p> </li> </ul>"},{"location":"blog/2023/06/27/how-to-send-aws-notifications-to-microsoft-teams/#send-notification-without-lambda","title":"Send notification without lambda","text":"<ul> <li> <p>T\u1eeb channel c\u1ee7a MS team -&gt; d\u1ea5u 3 ch\u1ea5m -&gt; <code>Get email address</code> -&gt; MS team s\u1ebd t\u1ea1o cho b\u1ea1n 1 email t\u01b0\u01a1ng \u1ee9ng v\u1edbi channel \u0111\u00f3.</p> </li> <li> <p>V\u1edbi email v\u1eeba t\u1ea1o c\u00f3 th\u1ec3 subscription th\u1eb3ng v\u00e0o SNS ho\u1eb7c tr\u01b0\u1edbc \u0111\u00f3 \u0111\u00e3 c\u00f3 lambda g\u1eedi email th\u00ec ch\u1ec9 c\u1ea7n th\u00eam email v\u1eeba t\u1ea1o v\u00e0o list nh\u1eadn mail l\u00e0 xong.</p> </li> </ul>"},{"location":"blog/2023/06/27/how-to-send-aws-notifications-to-microsoft-teams/#happy-coding-d","title":"Happy coding :D","text":""},{"location":"blog/2023/07/18/know-the-eight-most-common-dns-records/","title":"Know the eight most common DNS records","text":"<ul> <li> <p>D\u1ea1o n\u00e0y l\u00e0m vi\u1ec7c v\u1edbi SSL, TLS v\u00e0 Open VPN th\u1ea5y c\u1ea7n hi\u1ec3u h\u01a1n v\u1ec1 DNS ( kh\u00f4ng ph\u1ea3i ch\u1ec9 t\u1eeb domain sang IP). V\u00ed d\u1ee5 khi x\u00e1c th\u1ef1c SSL c\u1ea7n th\u00eam b\u1ea3n ghi TXT ( t\u00f9y thu\u1ed9c c\u00e1ch t\u1ea1o cert, ki\u1ec3u domain (c\u00f3 *.domain) ) ch\u1eb3ng h\u1ea1n.</p> </li> <li> <p>DNS c\u00f3 h\u00e0ng t\u00e1 lo\u1ea1i b\u1ea3n ghi v\u1edbi c\u00e1c m\u1ee5c \u0111\u00edch kh\u00e1c nhau. Hi\u1ec3u m\u1ed9t trong s\u1ed1 c\u00e1c b\u1ea3n ghi c\u01a1 b\u1ea3n gi\u00fap ch\u00fang ta ph\u00e1t hi\u1ec7n c\u00e1c m\u1ed1i \u0111e d\u1ecda v\u00e0 c\u1eadp nh\u1eadt nh\u1eefng g\u00ec \u0111ang x\u1ea3y ra tr\u00ean m\u1ea1ng c\u1ee7a m\u00ecnh.</p> </li> </ul>"},{"location":"blog/2023/07/18/know-the-eight-most-common-dns-records/#ban-ghi-a-va-aaaa","title":"B\u1ea3n ghi <code>A</code> v\u00e0 <code>AAAA</code>","text":"<ul> <li> <p>Ki\u1ec3u b\u1ea3n ghi <code>A</code> ki\u1ec3u ph\u1ed5 bi\u1ebfn nh\u1ea5t, n\u00f3 \u00e1nh x\u1ea1 t\u00ean mi\u1ec1n sang \u0111\u1ecba ch\u1ec9 IPv4.</p> </li> <li> <p>Internet chuy\u1ec3n d\u1ea7n t\u1eeb IPv4 sang IPv6 v\u00e0 b\u1ea3n ghi <code>AAAA</code> (quad A) d\u00f9ng cho m\u1ee5c \u0111\u00edch n\u00e0y. \u00c1nh x\u1ea1 t\u00ean mi\u1ec1n sang IPv6.</p> </li> </ul> DNS Record Description A \u00c1nh x\u1ea1 domain sang IPv4 AAAA \u00c1nh x\u1ea1 domain sang IPv6 CNAME Chuy\u1ec3n h\u01b0\u1edbng domain n\u00e0y sang domain kh\u00e1c PTR Chuy\u1ec3n \u0111\u1ed5i IPv4 ho\u1eb7c IPv6 sang t\u00ean mi\u1ec1n NS Cung c\u1ea5p danh s\u00e1ch c\u00e1c m\u00e1y ch\u1ee7 c\u00f3 th\u1ea9m quy\u1ec1n ch\u1ecbu tr\u00e1ch nhi\u1ec7m v\u1ec1 t\u00ean mi\u1ec1n MX Cung c\u1ea5p t\u00ean mi\u1ec1n m\u00e1y ch\u1ee7 nh\u1eadn email SOA Cung c\u1ea5p c\u00e1c chi ti\u1ebft quan tr\u1ecdng v\u1ec1 DNS c\u1ea7n thi\u1ebft cho m\u1ecdi DNS TXT Cung c\u1ea5p b\u1ea5t k\u1ef3 th\u00f4ng tin m\u00f4 t\u1ea3 n\u00e0o \u1edf \u0111\u1ecbnh d\u1ea1ng v\u0103n b\u1ea3n"},{"location":"blog/2023/07/18/know-the-eight-most-common-dns-records/#cname","title":"CNAME","text":"<ul> <li>Chuy\u1ec3n h\u01b0\u1edbng t\u00ean mi\u1ec1n sang t\u00ean mi\u1ec1n kh\u00e1c.</li> <li>Trong tr\u01b0\u1eddng h\u1ee3p b\u1ea1n mu\u1ed1n user truy c\u1eadp domain c\u0169 t\u1ef1 \u0111\u1ed9ng chuy\u1ec3n h\u01b0\u1edbng sang domain m\u1edbi c\u1ee7a b\u1ea1n.</li> </ul>"},{"location":"blog/2023/07/18/know-the-eight-most-common-dns-records/#ptr","title":"PTR","text":"<ul> <li>Th\u01b0\u1eddng \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng trong m\u1ea1ng n\u1ed9i b\u1ed9 \u0111\u1ec3 bi\u1ebft IP hi\u1ec7n t\u1ea1i \u0111ang d\u00f9ng cho domain n\u00e0o (? :v)</li> </ul>"},{"location":"blog/2023/07/18/know-the-eight-most-common-dns-records/#ns","title":"NS","text":"<ul> <li>Cung c\u1ea5p danh s\u00e1ch c\u00e1c DNS server ch\u1ecbu tr\u00e1ch nhi\u1ec7m cho t\u00ean mi\u1ec1n.</li> <li> <p>Use case: Khi b\u1ea1n mua t\u00ean mi\u1ec1n: <code>domain.com</code> c\u1ee7a google. H\u1ec7 th\u1ed1ng software build tr\u00ean AWS. B\u1ea1n c\u0169ng c\u00f3 th\u1ec3 t\u1ea1o t\u00ean mi\u1ec1n tr\u00ean AWS (route53) <code>domain.com</code> tr\u00ean AWS, b\u00ean google v\u1edbi t\u00ean mi\u1ec1n <code>domain.com</code> t\u1ea1o b\u1ea3n ghi NS tr\u1ecf v\u1ec1 c\u00e1c DNS c\u1ee7a AWS.</p> </li> <li> <p>B\u1ea3n ghi c\u1ee7a NS l\u00e0 t\u00ean mi\u1ec1n ko ph\u1ea3i IP</p> </li> </ul>"},{"location":"blog/2023/07/18/know-the-eight-most-common-dns-records/#mx","title":"MX","text":"<ul> <li>D\u00f9ng cho mail server.</li> </ul>"},{"location":"blog/2023/07/18/know-the-eight-most-common-dns-records/#soa","title":"SOA","text":""},{"location":"blog/2023/07/18/know-the-eight-most-common-dns-records/#txt","title":"TXT","text":""},{"location":"blog/2023/07/26/til-lambda-timeout-argument/","title":"TIL Lambda timeout argument","text":"<ul> <li>Chuy\u1ec7n l\u00e0 m\u00ecnh \u0111ang th\u1eed vi\u1ec7c (flex t\u00fd \u0111\u00e3 pass), dev backend c\u00f3 ping check 1 lambda kh\u00f4ng work. C\u00e1c b\u1ea1n dev code kh\u00f4ng thay \u0111\u1ed5i g\u00ec.</li> <li>M\u00ecnh c\u00f3 check log th\u1ea5y c\u00f3 1 \u0111o\u1ea1n li\u00ean quan <code>timeout 3s</code>. \u0110\u1eb7t th\u1eed th\u00eam th\u1eed log v\u00e0o trong code th\u00ec \u0111o\u1ea1n \u0111\u1ecdc v\u00e0o db ok.</li> <li>\u0110\u1ebfn \u0111o\u1ea1n call sang 3th party th\u00ec d\u1eebng l\u00e0m m\u00ecnh ngh\u0129 api b\u00ean kia c\u00f3 v\u1ea5n \u0111\u1ec1 n\u00ean timeout.</li> <li>Nh\u01b0ng d\u00f9ng postman call api b\u00ean kia b\u00ecnh th\u01b0\u1eddng.</li> </ul> <ul> <li>\u0110\u1eb7t th\u00eam log th\u00ec 2 d\u00f2ng <code>console.log</code> li\u1ec1n k\u1ec1 nhau 1 d\u00f2ng in ra \u0111\u01b0\u1ee3c 1 d\u00f2ng ko: <code>timeout 3s</code>.</li> <li>R\u1ed3i xong \u0111\u1ebfn \u0111\u00e2y ngh\u0129 ngay \u0111\u1ebfn c\u00e1i <code>timeout</code> c\u1ee7a lambda ( kho\u1ea3ng th\u1eddi gian lambda t\u1ed3n t\u1ea1i \u0111\u1ec3 ch\u1ea1y job) -&gt; Chu\u1ea9n lu\u00f4n timeout 3s.</li> <li>Cay th\u1eb7c ch\u1edb ^^!:</li> <li>Khi check bug lambda m\u1ecdi ng\u01b0\u1eddi \u0111\u1eebng qu\u00ean bi\u1ebfn n\u00e0y nh\u00e9 :|</li> <li>Khi t\u1ea1o lambda c\u1ee9 set l\u00ean 15m v\u00e0o. Gi\u00e1 c\u1ee7a lambda t\u00ednh theo c\u1ea5u h\u00ecnh v\u00e0 kho\u1ea3ng th\u1eddi gian th\u1ef1c thi (ch\u1ea1y bao nhi\u00eau t\u00ednh ti\u1ec1n b\u1ea5y nhi\u00eau) ch\u1ee9 ko li\u00ean quan \u0111\u1ebfn vi\u1ec7c khai b\u00e1o timeout. Nh\u01b0ng timeout th\u1ea5p c\u00f3 th\u1ec3 l\u00e0m lambda d\u1eebng khi ch\u01b0a th\u1ef1c thi xong nh\u01b0 tr\u01b0\u1eddng h\u1ee3p k\u1ec3 tr\u00ean c\u1ee7a m\u00ecnh.</li> </ul>"},{"location":"blog/2023/07/26/til-lambda-timeout-argument/#happy-working-devops","title":"HAPPY WORKING (Devops)","text":""},{"location":"blog/2023/07/26/terraform-basic-create-aws-lambda-trigger-by-eventbridge-schedule/","title":"Terraform basic create aws lambda trigger by eventbridge schedule","text":"<ul> <li>C\u00f3 nhi\u1ec1u c\u00e1ch \u0111\u1ec3 t\u1ea1o lambda th\u1eadm ch\u00ed m\u00ecnh ngh\u0129 n\u00ean d\u00f9ng serverless c\u1ee7a aws ngon h\u01a1n :v</li> <li>Tuy nhi\u00ean \u0111ang c\u1ea7n th\u1ef1c h\u00e0nh terraform (terraform c\u0169ng c\u00f3 c\u00e1i l\u1ee3i ri\u00eang) n\u00ean m\u00ecnh t\u1ea1o lambda theo terraform.</li> </ul> <ul> <li>T\u01b0\u01a1ng t\u1ef1 nh\u01b0 c\u00e1ch t\u1ea1o lambda th\u00ec c\u00e1ch trigger lambda c\u00f3 <code>n</code> c\u00e1ch. Trong b\u00e0i n\u00e0y m\u00ecnh s\u1ebd t\u1ea1o m\u1ed9t module kh\u1edfi t\u1ea1o lambda \u0111\u01b0\u1ee3c trigger b\u1edfi eventbridge schedule. T\u1ee9c lambda n\u00e0y s\u1ebd ch\u1ea1y theo l\u1eadp l\u1ecbch ( nh\u01b0 d\u01b0\u1edbi \u0111\u00e2y s\u1ebd l\u00e0 1h ch\u1ea1y 1 l\u1ea7n).</li> <li>\u0110\u1eb7c bi\u1ec7t n\u1ebfu trigger b\u1edfi eventbridge schedule th\u00ec khi v\u00e0o lambda tr\u00ean aws ph\u1ea7n trigger n\u00f3 s\u1ebd tr\u1ed1ng tr\u01a1n (t\u01b0\u1edfng lambda n\u00e0y \u0111ang ko \u0111\u01b0\u1ee3c ch\u1ea1y) nh\u01b0ng check log cloudwatch ( n\u1ebfu c\u00f3 quy\u1ec1n ghi log) th\u00ec v\u1eabn c\u00f3 nh\u00e9.</li> </ul>"},{"location":"blog/2023/07/26/terraform-basic-create-aws-lambda-trigger-by-eventbridge-schedule/#module-lambda_eventbridge_schedule","title":"Module lambda_eventbridge_schedule","text":"<ul> <li> <p>Module s\u1ebd bao g\u1ed3m 2 file: <code>main.tf</code> v\u00e0 <code>variables.tf</code>. Ch\u00fang ta s\u1ebd \u0111i t\u1eebng ph\u1ea7n nh\u01b0 d\u01b0\u1edbi</p> </li> <li> <p>File <code>main.tf</code> nh\u00ecn s\u1ebd ntn:</p> </li> </ul> <pre><code>data \"archive_file\" \"lambda\" {\n  type        = \"zip\"\n  source_dir  = var.source_dir\n  output_path = \"lambda_function_payload.zip\"\n}\n\n\n\n\nresource \"aws_lambda_function\" \"this\" {\n  filename      = \"lambda_function_payload.zip\"\n  function_name = var.function_name\n  role          = aws_iam_role.this.arn\n  handler       = \"index.handler\"\n  runtime       = \"nodejs18.x\"\n  timeout       = var.timeout\n  tags          = var.tags\n\n  source_code_hash = data.archive_file.lambda.output_base64sha256\n  environment {\n    variables = var.lambda_envs\n  }\n\n\n  vpc_config {\n    subnet_ids         = var.subnet_ids\n    security_group_ids = var.security_group_ids\n  }\n}\n\nresource \"aws_iam_role\" \"this\" {\n  name = \"${var.function_name}-role\"\n  tags = var.tags\n\n  assume_role_policy = jsonencode({\n    Version : \"2012-10-17\",\n    Statement : [\n      {\n        Action = \"sts:AssumeRole\"\n        Effect = \"Allow\"\n        Sid    = \"\"\n        Principal = {\n          Service = \"lambda.amazonaws.com\"\n        }\n      }\n    ]\n  })\n\n  managed_policy_arns = [\"arn:aws:iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole\"]\n\n}\n\n\nresource \"aws_scheduler_schedule\" \"this\" {\n  name       = \"${var.function_name}-schedule\"\n  group_name = \"default\"\n\n\n  flexible_time_window {\n    mode = \"OFF\"\n  }\n\n  schedule_expression = var.schedule_expression\n\n  target {\n    arn      = aws_lambda_function.this.arn\n    role_arn = aws_iam_role.event_schedule_role.arn\n  }\n}\n\n\nresource \"aws_iam_role\" \"event_schedule_role\" {\n  name = \"${var.function_name}-eventbridge-role\"\n  tags = var.tags\n\n  assume_role_policy = jsonencode({\n    Version : \"2012-10-17\",\n    Statement : [\n      {\n        Action = \"sts:AssumeRole\"\n        Effect = \"Allow\"\n        Sid    = \"\"\n        Principal = {\n          Service = \"scheduler.amazonaws.com\"\n        }\n      }\n    ]\n  })\n\n  inline_policy {\n    name = \"${var.function_name}-eventbridge-policy\"\n\n    policy = jsonencode({\n      \"Version\" : \"2012-10-17\",\n      \"Statement\" : [\n        {\n          \"Effect\" : \"Allow\",\n          \"Action\" : [\n            \"lambda:InvokeFunction\"\n          ],\n          \"Resource\" : [\n            \"arn:aws:lambda:us-east-1:&lt;aws_account_id&gt;:function:${var.function_name}:*\",\n            \"arn:aws:lambda:us-east-1:&lt;aws_account_id&gt;:function:${var.function_name}\"\n          ]\n        }\n      ]\n    })\n  }\n\n}\n</code></pre> <ul> <li> <p><code>data \"archive_file\" \"lambda\"</code>: Ph\u1ea7n n\u00e0y khai b\u00e1o cho source code lambda. Ch\u00fang ta s\u1ebd c\u1ea7n nh\u1eadp gi\u00e1 tr\u1ecb cho <code>source_dir</code>. Khi terraform ch\u1ea1y s\u1ebd n\u00e9n c\u00e1c file trong \u0111\u01b0\u1eddng link <code>source_dir</code> th\u00e0nh output: <code>lambda_function_payload.zip</code> nh\u01b0 \u0111ang khai b\u00e1o. File n\u00e0y sau \u0111\u00f3 \u0111\u01b0\u1ee3c upload th\u00e0nh source code c\u1ee7a lambda. Ngo\u00e0i <code>source_dir</code> ch\u00fang ta c\u00f2n c\u00f3 th\u1ec3 d\u00f9ng <code>source_file</code> chi ti\u1ebft search th\u00eam doc terraform nh\u00e9.</p> </li> <li> <p><code>resource \"aws_lambda_function\" \"this\"</code>. \u0110o\u1ea1n n\u00e0y khai b\u00e1o kh\u1edfi t\u1ea1o 1 lambda nh\u00e9.</p> </li> <li> <p><code>filename</code>: ch\u00ednh l\u00e0 t\u00ean file zip trong \u0111o\u1ea1n tr\u00ean</p> </li> <li><code>function_name</code>: l\u00e0 t\u00ean function th\u00f4i, n\u00ean c\u00f3 \u00fd ngh\u0129a 1 ch\u00fat nh\u01b0 t\u1eeb d\u1ef1 \u00e1n n\u00e0o, m\u00f4i tr\u01b0\u1eddng n\u00e0o(qa, prod) v\u00e0 service n\u00e0o (backend, fe)...</li> <li><code>role</code>: \u0111\u1ec3 lambda c\u00f3 th\u1ec3 ghi log ra cloudwatch, ho\u1eb7c connect t\u1edbi db thu\u1ed9c m\u1ed9t VPC c\u1ee5 th\u1ec3 ch\u00fang ta c\u1ea7n khai b\u00e1o c\u00e1c quy\u1ec1n v\u00e0o role r\u1ed3i g\u1eafn v\u00e0o lambda.</li> <li><code>handler</code>: Source code \u0111ang expose hanlder qua file, function n\u00e0o th\u00ec c\u1ea7n \u0111i\u1ec1n \u0111\u00fang nh\u00e9. Trong v\u00ed d\u1ee5 tr\u00ean th\u00ec m\u00ecnh \u0111ang \u0111\u1ec3 trong file <code>index.js</code> v\u00e0 expose function handler.</li> <li><code>runtime</code>: \u1edf \u0111\u00e2y dev team \u0111ang d\u00f9ng nodejs v\u00e0 m\u00ecnh khai b\u00e1o <code>nodejs18.x</code></li> <li> <p><code>timeout</code>: \u0111\u00e2y l\u00e0 th\u1eddi gian t\u1ed1i \u0111a lambda c\u00f3 th\u1ec3 t\u1ed3n t\u1ea1i \u0111\u1eebng set b\u00e9 qu\u00e1 n\u1ebfu ko lambda ch\u01b0a ch\u1ea1y xong job \u0111\u00e3 b\u1ecb d\u1eebng ngang. Chi ph\u00ed lambda c\u0169ng ko ph\u1ee5 thu\u1ed9c th\u00f4ng s\u1ed1 n\u00e0y ( ph\u1ee5 thu\u1ed9c c\u1ea5u h\u00ecnh resource v\u00e0 th\u1eddi gian ch\u1ea1y th\u1ef1c t\u1ebf), n\u00ean kinh nghi\u1ec7m l\u00e0 c\u1ee9 set cao l\u00ean <code>15m</code> g\u00ec \u0111\u00f3.</p> </li> <li> <p><code>tags</code>: \u0111\u01a1n gi\u1ea3n ch\u1ec9 l\u00e0 c\u00e1c tag cho lambda n\u00e0y th\u00f4i. N\u00f3 c\u00f3 th\u1ec3 h\u1eefu \u00edch khi c\u1ea7n theo d\u00f5i billing..</p> </li> <li> <p><code>source_code_hash</code>: c\u00e1i source_code_hash n\u00e0y s\u1ebd gi\u00fap terraform bi\u1ebft \u0111\u01b0\u1ee3c khi c\u00f3 code m\u1edbi nh\u00e9 v\u00ed d\u1ee5 th\u00eam 1 d\u00f2ng console.log th\u00f4i ch\u1eb3ng h\u1ea1n n\u00f3 s\u1ebd v\u1eabn deploy version code m\u1edbi. ( n\u1ebfu ko n\u00f3 s\u1ebd t\u00ednh uptodate v\u00e0 ko deploy g\u00ec \u0111\u00e2u)</p> </li> <li> <p><code>vpc_config</code>: trong tr\u01b0\u1eddng h\u1ee3p b\u1ea1n c\u1ea7n connect v\u00e0o db trong 1 vpc th\u00ec c\u1ea7n c\u1ea5u h\u00ecnh lambda c\u0169ng thu\u1ed9c vpc \u0111\u00f3 ( ho\u1eb7c vpc c\u00f3 route t\u1edbi db). M\u1eb7c \u0111\u1ecbnh n\u1ebfu r\u1ed7ng th\u00ec lambda s\u1ebd ko thu\u1ed9c vpc n\u00e0o. Ngay c\u1ea3 khi lambda c\u1ea5u h\u00ecnh vpc th\u00ec n\u00f3 c\u0169ng c\u1ea7n c\u00f3 quy\u1ec1n t\u1ea1o network interface th\u00ec m\u1edbi join \u0111\u01b0\u1ee3c v\u00e0o vpc. Ph\u1ea7n iam role ph\u00eda d\u01b0\u1edbi s\u1ebd cover vi\u1ec7c n\u00e0y.</p> </li> <li> <p><code>environment</code>: Lambda ch\u1ea1y s\u1ebd c\u1ea7n 1 s\u1ed1 th\u1ee9 v\u00ed d\u1ee5 nh\u01b0 user/pass nh\u1eadp v\u00e0o nh\u01b0 m\u1ed9t bi\u1ebfn m\u00f4i tr\u01b0\u1eddng -&gt; s\u1ebd \u0111\u01b0\u1ee3c insert \u1edf \u0111\u00e2y.</p> </li> <li> <p><code>resource \"aws_iam_role\" \"this\"</code>: Kh\u1edfi t\u1ea1o c\u00e1c quy\u1ec1n cho m\u1ed9t lambda:</p> </li> <li> <p><code>managed_policy_arns</code>: v\u1edbi role <code>arn:aws:iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole</code> s\u1ebd gi\u00fap lambda c\u00f3 quy\u1ec1n t\u1ea1o log tr\u00ean cloudwatch v\u00e0 kh\u1edfi t\u1ea1o network interface \u0111\u1ec3 join 1 vpc.</p> </li> <li> <p><code>resource \"aws_scheduler_schedule\" \"this\"</code>: Kh\u1edfi t\u1ea1o schedule</p> </li> <li><code>flexible_time_window</code>: c\u1ea7n ph\u1ea3i set th\u00ec m\u1edbi kh\u1edfi t\u1ea1o \u0111\u01b0\u1ee3c, chi ti\u1ebft ch\u1eafc \u0111\u1ecdc doc qu\u00e1.</li> <li><code>schedule_expression</code>: ph\u1ea7n \u0111\u1ecbnh ngh\u0129a lambda s\u1ebd \u0111\u01b0\u1ee3c trigger nh\u01b0 n\u00e0o( theo ng\u00e0y, theo gi\u1edd, theo ph\u00fat...)</li> <li><code>target</code>: ph\u1ea7n n\u00e0y \u0111\u1ecbnh ngh\u0129a lambda n\u00e0o s\u1ebd \u0111\u01b0\u1ee3c trigger, v\u00e0o role n\u00e0o \u0111\u01b0\u1ee3c apply cho schedule.</li> <li> <p><code>resource \"aws_iam_role\" \"event_schedule_role\"</code>: Role cho schedule. N\u1ebfu schedule trigger lambda L1 th\u00ec role c\u1ea7n c\u00f3 quy\u1ec1n <code>invokeFunction</code>: v\u1edbi <code>L1</code> v\u00e0 <code>L1:*</code></p> </li> <li> <p>File <code>variables.tf</code> s\u1ebd nh\u01b0 d\u01b0\u1edbi, n\u00f3 kh\u00e1 \u0111\u01a1n gi\u1ea3n n\u00ean m\u00ecnh s\u1ebd ko gi\u1ea3i th\u00edch g\u00ec th\u00eam:</p> </li> </ul> <pre><code>variable \"timeout\" {\n  description = \"(Optional) Amount of time your Lambda Function has to run in seconds.\"\n  type        = number\n  default     = 900 # 15 minutes\n}\n\nvariable \"tags\" {\n  description = \"Tags for specific env\"\n  type        = map(any)\n}\n\nvariable \"source_dir\" {\n  description = \"(String) Package entire contents of this directory into the archive. One and only one of source, source_content_filename (with source_content), source_file, or source_dir must be specified.\"\n  type        = string\n}\n\nvariable \"function_name\" {\n  description = \"(Required) Unique name for your Lambda Function.\"\n  type        = string\n}\n\nvariable \"schedule_expression\" {\n  description = \"(Required) Defines when the schedule runs\"\n  type        = string\n}\n\nvariable \"subnet_ids\" {\n  description = \"List of subnet IDs associated with the Lambda function\"\n  type        = list(any)\n  default     = []\n}\n\nvariable \"security_group_ids\" {\n  description = \"List of security group IDs associated with the Lambda function.\"\n  type        = list(any)\n  default     = []\n}\n\nvariable \"lambda_envs\" {\n  description = \"Map of environment variables that are accessible from the function code during execution. If provided at least one key must be present.\"\n  type        = map(any)\n  default     = {}\n}\n</code></pre>"},{"location":"blog/2023/07/26/terraform-basic-create-aws-lambda-trigger-by-eventbridge-schedule/#cach-dung","title":"C\u00e1ch d\u00f9ng.","text":"<ul> <li>Khi t\u1ea1o resource t\u1eeb module \u1edf tr\u00ean ch\u00fang ta s\u1ebd c\u1ea7n 1 file terraform n\u1ed9i dung t\u01b0\u01a1ng t\u1ef1 nh\u01b0 d\u01b0\u1edbi:</li> </ul> <pre><code>terraform {\n  required_providers {\n    aws = {\n      source  = \"hashicorp/aws\"\n      version = \"~&gt; 4.0\"\n    }\n  }\n\n  backend \"s3\" {\n    bucket         = \"&lt;aws_bucket_name&gt;\"\n    key            = \"&lt;key_aka_path_of_s3_bucket&gt;\"\n    region         = \"us-east-1\"\n    dynamodb_table = \"dynamodb_table_to_lock_tf_state\"\n  }\n}\n\nprovider \"aws\" {\n  region = \"us-east-1\"\n}\n\n\ndata \"aws_ssm_parameter\" \"MONGODB_URI\" {\n  name = \"MONGODB_URI\"\n}\n\nmodule \"resource_name\" {\n  source = \"../../modules/lambda_eventbridge_schedule\"\n\n  source_dir          = \"src/\"\n  schedule_expression = \"cron(0 * * * ? *)\"\n  function_name       = \"function_name\"\n  subnet_ids          = []\n  security_group_ids  = []\n  lambda_envs = {\n    MONGODB_URI : data.aws_ssm_parameter.MONGODB_URI.value,\n  }\n  tags = var.tags\n}\n</code></pre> <ul> <li>Khai b\u00e1o c\u00e1c th\u00f4ng s\u1ed1 c\u1ee5 th\u1ec3 cho module, source code \u0111\u01b0\u1ee3c \u0111\u1eb7t trong folder <code>src</code>. Ok r\u1ed3i th\u1ebf l\u00e0 ch\u1ea1y th\u00f4i.</li> </ul>"},{"location":"blog/2023/07/26/terraform-basic-create-aws-lambda-trigger-by-eventbridge-schedule/#happy-working-as-devops","title":"Happy working (as devops)","text":""},{"location":"blog/2023/09/27/jenkins-for-dummies/","title":"Jenkins for dummies","text":"<ul> <li>Nh\u00e2n ti\u1ec7n c\u00f3 ticket li\u00ean quan jenkins n\u00ean m\u00ecnh l\u01b0u l\u1ea1i m\u1ed9t s\u1ed1 ghi ch\u00fa trong qu\u00e1 tr\u00ecnh t\u00ecm hi\u1ec3u \u0111\u1ec3 sau c\u1ea7n th\u00ec l\u1ee5c l\u1ea1i c\u0169ng nhanh h\u01a1n.</li> </ul>"},{"location":"blog/2023/09/27/jenkins-for-dummies/#jenkins-on-docker","title":"Jenkins on docker","text":"<ul> <li> <p>Devops c\u0169ng nh\u01b0 dev ngo\u00e0i m\u00f4i tr\u01b0\u1eddng <code>dev</code>, <code>qa</code>, <code>pre</code>, <code>prod</code>, c\u00f3 m\u1ed9t m\u00f4i tr\u01b0\u1eddng local v\u1eabn lu\u00f4n l\u00e0 ti\u1ec7n nh\u1ea5t. Ho\u1eb7c trong tr\u01b0\u1eddng h\u1ee3p Jenkins d\u00f9ng chung gi\u1eefa <code>qa</code> v\u00e0 <code>prod</code> th\u00ec n\u1ebfu \u0111\u01b0\u1ee3c, test local l\u00e0 t\u1ed1t nh\u1ea5t.</p> </li> <li> <p>Ch\u1ea1y jenkins local v\u1edbi l\u1ec7nh (\u0111\u1ed5i image tag b\u1ea1n c\u1ea7n):</p> </li> </ul> <pre><code>docker run -d -p 8080:8080 -p 50000:50000 --name jenkins jenkins/jenkins:2.414.1-lts-jdk11\n</code></pre> <ul> <li>Sau khi container run b\u1ea1n s\u1ebd c\u00f3 m\u1ed9t jenkins local. \u0110\u1ec3 check password c\u1ee7a container c\u00f3 th\u1ec3 d\u00f9ng l\u1ec7nh d\u01b0\u1edbi ( m\u1eb7c \u0111\u1ecbnh s\u1ebd l\u00e0 <code>admin/admin</code>):</li> </ul> <pre><code>docker exec -it &lt;container_id&gt; cat /var/jenkins_home/secrets/initialAdminPassword\n</code></pre> <ul> <li>Sau khi jenkins up c\u00f3 m\u1ed9t s\u1ed1 \u0111\u01b0\u1eddng link trong jenkins ch\u00fang ta v\u1eeba d\u1ef1ng c\u00f3 th\u1ec3 h\u1eefu \u00edch trong qu\u00e1 tr\u00ecnh vi\u1ebft pipeline (thay localhost v\u1edbi domain t\u01b0\u01a1ng \u1ee9ng n\u1ebfu b\u1ea1n mapping jenkins v\u1edbi domain)</li> <li>Doc api: http://localhost:8080/api</li> <li>Check pipeline syntax v\u1edbi: http://localhost:8080/pipeline-syntax/</li> <li>T\u1eeb pipeline syntax tr\u00ean ch\u00fang ta c\u00f3 th\u1ec3 check c\u1ea3 global variables references hay steps reference</li> </ul>"},{"location":"blog/2023/09/27/jenkins-for-dummies/#some-useful-links","title":"Some useful links","text":"<ul> <li> <p>N\u1ebfu c\u00f3 th\u1eddi gian n\u00ean \u0111\u1ecdc quan using jenkins</p> </li> <li> <p>Ho\u1eb7c best practice</p> </li> <li> <p>\u0110\u1ec3 vi\u1ebft jenkins pipelines n\u00ean tham kh\u1ea3o: pipeline:</p> </li> <li>Doc cung c\u1ea5p c\u00e1i nh\u00ecn t\u1ed5ng qua ( d\u1ec5 hi\u1ec3u) v\u1ec1 pipeline, c\u00e1c c\u00e1ch vi\u1ebft: Declarative v\u00e0 scripted pipeline</li> <li>S\u1ef1 kh\u00e1c nhau gi\u1eefa freestyle v\u00e0 pipeline trong jenkins (v\u00ed d\u1ee5 nh\u01b0 c\u00f9ng \u0111ang ch\u1ea1y gi\u1eefa tr\u1eebng m\u00e0 b\u1ecb ng\u1eaft th\u00ec pipeline sau \u0111\u00f3 c\u00f3 th\u1ec3 ti\u1ebfp t\u1ee5c l\u1ea1i nh\u01b0ng freestyle th\u00ec kh\u00f4ng).</li> <li>M\u1ed9t s\u1ed1 th\u1ee9 m\u00ecnh ko test \u0111\u01b0\u1ee3c ( c\u0169ng ko c\u00f3 th\u1eddi gian check t\u1ea1i sao :D) v\u00ed d\u1ee5 nh\u01b0 ch\u1ea1y pipeline v\u1edbi agent l\u00e0 docker (nh\u01b0 n\u00e0y l\u00e0 docker trong docker)</li> <li>Ngo\u00e0i ra admin, devops n\u00ean tham kh\u1ea3o qua link:</li> <li>managing jenkins</li> <li>Ho\u1eb7c backup/restore jenkins system administration</li> <li> <p>C\u00f3 th\u1ec3 tham kh\u1ea3o pipeline syntax reference</p> </li> <li> <p>CH\u1eaeC CH\u1eaeN N\u00caN THAM KH\u1ea2O LINK PIPELINE STEPS REFERENCE : v\u00ec ch\u00fang ta th\u01b0\u1eddng ko vi\u1ebft pipeline thu\u1ea7n m\u00e0 th\u01b0\u1eddng c\u1ea7n t\u00edch h\u1ee3p v\u1edbi c\u00e1c plugin.</p> </li> <li>V\u00ed d\u1ee5 mu\u1ed1n d\u00f9ng jenkins pipeline v\u1edbi jira plugin \u0111\u1ec3 trigger workflow action c\u1ee7a Jira check trong doc: Jira: Progress issues by workflow action</li> <li>Code v\u00ed d\u1ee5 cho \u0111o\u1ea1n tr\u00ean s\u1ebd ntn (\u0111o\u1ea1n n\u00e0y c\u1ea7n bi\u1ebft ch\u00fat v\u1ec1 jira workflow ^^):</li> </ul> <pre><code>step([\n    $class: \"JiraIssueUpdateBuilder\",\n    jqlSearch: \"project=PROJECT_NAME AND status='Ready for QA Release' AND component=iOS\",\n    workflowActionName: \"Deployed to QA\",\n    comment: \"Move any iOS issues that are marked as 'Ready for QA Release' to 'Ready For QA'.\"\n])\n</code></pre> <ul> <li>Link github n\u00e0y c\u00f3 c\u00e1c code v\u00ed d\u1ee5 d\u1ec5 hi\u1ec3u h\u01a1n, nh\u01b0ng c\u00f3 v\u1ebb ch\u01b0a \u0111\u1ea7y \u0111\u1ee7 l\u1eafm( tham kh\u1ea3o \u0111\u01b0\u1ee3c).</li> <li>Share variables trong Jenkins c\u00f3 th\u1ec3 tham kh\u1ea3o link youtube, c\u00f3 2 ph\u1ea7n cho declarative v\u00e0 scripted.</li> </ul>"},{"location":"blog/2023/09/27/jenkins-for-dummies/#my-opinion","title":"My opinion","text":"<ul> <li> <p>Quan \u0111i\u1ec3m c\u00e1 nh\u00e2n m\u00ecnh (d\u00f9ng github action v\u00e0 gitlab ci) m\u00ecnh th\u1ea5y jenkins ti\u1ec7n nh\u01b0ng h\u01a1i t\u00f9 hay do n\u00f3 qu\u00e1 r\u1ed9ng n\u00ean ko \u0111\u1ed3ng b\u1ed9 ? ( ng\u00e0y n\u00e0o \u0111\u00f3 th\u1ea5y sai th\u00ec s\u1ebd quay l\u1ea1i \u0111\u00e2y s\u1eeda l\u1ea1i nh\u1eadn x\u00e9t n\u00e0y ^^).</p> </li> <li> <p>V\u00ed d\u1ee5 v\u1edbi plugin jira n\u1ebfu d\u00f9ng freestyle ( trong giao di\u1ec7n web) c\u1ee7a Jenkins \u1edf ph\u1ea7n <code>Post-build Actions</code> m\u00ecnh c\u00f3 th\u1ec3 d\u00f9ng <code>Jira: Move issues matching JQL to the specified version</code> \u0111\u1ec3 assign t\u1ea5t c\u1ea3 issues match v\u1edbi JQL v\u00e0o m\u1ed9t release version nh\u1ea5t \u0111\u1ecbnh. Nh\u01b0ng t\u00ecm mu\u1ed1n l\u00f2i m\u1eaft v\u1edbi c\u00e1ch code pipeline \u0111\u1ec3 l\u00e0m m\u00e0 ko th\u1ea5y :( (Doc PIPELINE STEPS REFERENCE tr\u00ean c\u0169ng ko c\u00f3).</p> </li> <li> <p>Anyway: HAPPY WORKING :D</p> </li> </ul>"},{"location":"blog/2023/10/03/mqtt-benchmark-on-k8s/","title":"MQTT benchmark on k8s","text":"<ul> <li>M\u00ecnh join support BID 1 d\u1ef1 \u00e1n, v\u00e0 v\u1ec1 l\u00fd thuy\u1ebft MQTT support scale v\u00e0 loadbalancing (chi ti\u1ebft xem doc EMQX: configure load balancer ) nh\u01b0ng \u0111\u1ec3 ch\u1eafc ch\u1eafn m\u00ecnh c\u1ea7n test tr\u01b0\u1edbc \u0111\u1ec3 bi\u1ebft behavior c\u1ee7a n\u00f3 l\u00e0 nh\u01b0 th\u1ebf n\u00e0o sau \u0111\u00f3 estimate m\u1edbi chu\u1ea9n \u0111\u01b0\u1ee3c.</li> </ul>"},{"location":"blog/2023/10/03/mqtt-benchmark-on-k8s/#server-estimate","title":"Server estimate","text":"<ul> <li> <p>EMQX c\u00f3 server estimate \u1edf \u0111\u00e2y. T\u1ee9c s\u1ebd estimate cho m\u00ecnh v\u1edbi resource c\u1ee7a server nh\u01b0 n\u00e0o ( v\u00ed d\u1ee5 1 CPU, 1G RAM) m\u00ecnh s\u1ebd ph\u1ee5c v\u1ee5 \u0111\u01b0\u1ee3c bao nhi\u00eau connection v\u00e0 pub&amp;sub TPS (total per second).</p> </li> <li> <p>N\u00ean m\u00ecnh c\u0169ng test l\u1ea1i xem pub&amp;sub th\u1ef1c t\u1ebf c\u00f3 gi\u1ed1ng nh\u01b0 trang c\u1ee7a EMQX \u0111\u01b0a ra ko( c\u00f2n nhi\u1ec1u tham s\u1ed1 kh\u00e1c \u1ea3nh h\u01b0\u1edfng \u0111\u1ebfn k\u1ebft qu\u1ea3 test m\u00e0 EMQX ch\u01b0a \u0111\u01b0a ra n\u00ean c\u1ea7n test l\u1ea1i v\u00ed d\u1ee5 nh\u01b0 \u0111\u00e3 off SSL ch\u01b0a, size c\u1ee7a mess l\u00e0 l\u1edbn hay nh\u1ecf: c\u00e1c tham s\u1ed1 n\u00e0y \u0111\u1ec1u \u1ea3nh h\u01b0\u1edfng \u0111\u1ebfn k\u1ebft qu\u1ea3 bao nhi\u00eau pub&amp;sub c\u00f9ng l\u00fac)</p> </li> <li> <p>Trang ch\u1ee7 EMQX c\u00f3 s\u1eb5n docker-compose cho EMQX cluster. Paste l\u1ea1i \u0111\u00e2y trong tr\u01b0\u1eddng h\u1ee3p link ch\u1ebft :D</p> </li> </ul> docker-compose.yml<pre><code>version: \"3\"\n\nservices:\n  emqx1:\n    image: emqx:5.0.26\n    container_name: emqx1\n    environment:\n      - \"EMQX_NODE_NAME=emqx@node1.emqx.io\"\n      - \"EMQX_CLUSTER__DISCOVERY_STRATEGY=static\"\n      - \"EMQX_CLUSTER__STATIC__SEEDS=[emqx@node1.emqx.io,emqx@node2.emqx.io]\"\n    healthcheck:\n      test: [\"CMD\", \"/opt/emqx/bin/emqx_ctl\", \"status\"]\n      interval: 5s\n      timeout: 25s\n      retries: 5\n    networks:\n      emqx-bridge:\n        aliases:\n          - node1.emqx.io\n    ports:\n      - 1883:1883\n      - 8083:8083\n      - 8084:8084\n      - 8883:8883\n      - 18083:18083\n    # volumes:\n    #   - $PWD/emqx1_data:/opt/emqx/data\n\n  emqx2:\n    image: emqx:5.0.26\n    container_name: emqx2\n    environment:\n      - \"EMQX_NODE_NAME=emqx@node2.emqx.io\"\n      - \"EMQX_CLUSTER__DISCOVERY_STRATEGY=static\"\n      - \"EMQX_CLUSTER__STATIC__SEEDS=[emqx@node1.emqx.io,emqx@node2.emqx.io]\"\n    healthcheck:\n      test: [\"CMD\", \"/opt/emqx/bin/emqx_ctl\", \"status\"]\n      interval: 5s\n      timeout: 25s\n      retries: 5\n    networks:\n      emqx-bridge:\n        aliases:\n          - node2.emqx.io\n    # volumes:\n    #   - $PWD/emqx2_data:/opt/emqx/data\n\nnetworks:\n  emqx-bridge:\n    driver: bridge\n</code></pre> <ul> <li><code>docker compose up -d</code> v\u00e0 th\u1ebf l\u00e0 m\u00ecnh c\u00f3 1 cluster EMQX \u0111\u1ec3 test r\u1ed3i.</li> <li> <p>Gi\u1edd \u0111\u1ebfn test t\u1ea3i. EMQX c\u0169ng support s\u1eb5n dockerize cho vi\u1ec7c bench connection, pub, sub ch\u1ec9 vi\u1ec7c docker run l\u00e0 c\u00f3 \u1edf \u0111\u00e2y: EMQTT-bench</p> </li> <li> <p>V\u00ed d\u1ee5 gi\u1edd mu\u1ed1n test connection m\u00ecnh c\u00f3 th\u1ec3 ch\u1ea1y c\u00e2u l\u1ec7nh sau: <code>docker run -it emqx/emqtt-bench conn -c 50000 -i 10</code></p> </li> <li> <p>BOOM nh\u01b0ng *\u00c9O. Sau khi ch\u1ea1y l\u1ec7nh n\u00f3 m\u00e9o work. D\u00f9 docker-compose kia m\u00ecnh \u0111\u00e3 s\u1eeda \u0111\u1ec3 expose v\u00e0 port ra local (truy c\u1eadp \u0111\u01b0\u1ee3c dashboard) nh\u01b0ng EMQTT-bench th\u00ec l\u1ea1i kh\u00f4ng work.</p> </li> <li> <p>Ng\u00e1o ng\u01a1 m\u1ed9t h\u1ed3i nh\u1edb ra b\u1ea3n th\u00e2n con EMQTT-bench c\u0169ng ch\u1ea1y trong container n\u00ean ko th\u1ec3 l\u00e0 <code>-h localhost</code>. V\u00ec m\u00ecnh \u0111\u00e3 expose EMQTT cluster ra local n\u00ean gi\u1edd c\u1ea7n \u0111\u1ed5i <code>-h localhost</code> th\u00e0nh <code>-h host_IP</code>. Container EMQX-bench nh\u1eadn localhost l\u00e0 localhost c\u1ee7a n\u00f3 ch\u1ee9 ko ph\u1ea3i c\u1ee7a host \u0111ang ch\u1ea1y docker.</p> </li> <li> <p>Ok sau khi \u0111\u00e3 s\u1eeda tham s\u1ed1 v\u00e0 \u0111\u00e3 c\u00f3 th\u1ec3 test t\u1ea3i ok. L\u1ec7nh pub&amp;sub tr\u00f4ng s\u1ebd ntn (nh\u1edb th\u1eed v\u1edbi th\u00f4ng s\u1ed1 nh\u1ecf tr\u01b0\u1edbc nh\u00e9 v\u00ec c\u00f3 th\u1ec3 l\u1ed7i, thay b\u1eb1ng s\u1ed1 l\u1edbn sau):</p> </li> </ul> <pre><code># pub 1\ndocker run -it emqx/emqtt-bench pub -c 1 -I 1 -t bench/%i -q 2 -h 10.20.0.232 -q 2\n\n# pub 1k\ndocker run -it emqx/emqtt-bench pub -c 1000 -I 1000 -t bench/%i -h 10.20.0.232 -q 2\n\n# sub 1k\ndocker run -it emqx/emqtt-bench sub -c 1000 -i 1000 -t bench/%i -q 2 -h 10.20.0.232 -q 2\n</code></pre> <ul> <li><code>10.20.0.232</code> l\u00e0 IP c\u1ee7a host ch\u1ea1y docker \u0111\u01b0\u1ee3c 1 EMQTT expose ra.</li> <li>V\u1ea5n \u0111\u1ec1 ph\u00e1t sinh d\u00f9 c\u00f3 3 con EMQTT nh\u01b0ng t\u1ea3i ch\u1ec9 \u0103n 1 con (do m\u00ecnh expose 1 IP c\u1ee7a node EMQX - nh\u01b0ng d\u00f9 c\u00f3 expose h\u1ebft th\u00ec c\u0169ng ch\u01b0a c\u00f3 bi\u1ec7n ph\u00e1p c\u00e2n b\u1eb1ng t\u1ea3i n\u00e0o \u1edf \u0111\u00e2y c\u1ea3). Ph\u1ea7n ti\u1ebfp theo check c\u00e2n b\u1eb1ng t\u1ea3i</li> </ul>"},{"location":"blog/2023/10/03/mqtt-benchmark-on-k8s/#test-can-bang-tai-emqx","title":"Test c\u00e2n b\u1eb1ng t\u1ea3i EMQX","text":""},{"location":"blog/2023/10/03/mqtt-benchmark-on-k8s/#emqx-cluster","title":"EMQX cluster","text":"<ul> <li> <p>V\u1ec1 m\u1eb7t l\u00fd thuy\u1ebft v\u1edbi docker-compose tr\u00ean v\u00e0 h\u01b0\u1edbng d\u1eabn configure load balancer c\u00f3 th\u1ec3 d\u00f9ng nginx ho\u1eb7c HA proxy \u0111\u1ec3 test loadbalancing. Nh\u01b0ng loay hoay m\u00e3i m\u00e9o th\u00e0nh c\u00f4ng(c\u00e1i n\u00e0y do m\u00ecnh k\u00e9m - m\u00e0 th\u00f4i m\u00e9o c\u00f3 th\u1eddi gian check). Trong khi KHG \u0111ang d\u00f9ng helm v\u00e0 call internal service trong k8s n\u00ean m\u00ecnh quy\u1ebft \u0111\u1ecbnh test nh\u01b0 c\u1ee7a kh\u00e1ch lu\u00f4n :D</p> </li> <li> <p>M\u00ecnh ch\u1ea1y minikube \u0111\u1ec3 c\u00f3 c\u1ee5m k8s local. V\u00e0 kh\u00e1ch h\u00e0ng d\u00f9ng helm n\u00e0y \u0111\u1ec3 c\u00e0i EMQX</p> </li> <li> <p>K\u00e9o code v\u1ec1 r\u1ed3i s\u1eeda version trong Chart.yaml th\u00e0nh <code>5.0.8</code> nh\u01b0 c\u1ee7a kh\u00e1ch r\u1ed3i ch\u1ea1y th\u00f4i \u0111\u1ec3 c\u00f3 EMQX cluster trong k8s:</p> </li> </ul> <pre><code>$ git clone https://github.com/emqx/emqx.git\n$ cd emqx/deploy/charts/emqx\n$ helm install my-emqx .\n\n# Xo\u00e1 \u0111i test l\u1ea1i :D d\u00f9ng:\n$ helm del my-emqx\n</code></pre> <ul> <li> <p>Sau khi ch\u1edd 1 ch\u00fat ch\u00fang ta s\u1ebd c\u00f3 3 pods \u1edf namespace default (c\u1ea5u h\u00ecnh trong <code>StatefulSets</code> kh\u00f4ng ph\u1ea3i trong deployment \u0111\u00e2u m\u00e0 t\u00ecm :D)</p> </li> <li> <p>\u0110\u1ec3 truy c\u1eadp dashboard c\u1ee7a EMQX ch\u00fang ta c\u1ea7n expose port c\u1ee7a EMQX ra local v\u1edbi l\u1ec7nh:</p> </li> </ul> <pre><code>kubectl port-forward svc/my-emqx 18083:18083\n</code></pre> <ul> <li>Note: m\u00e1y m\u00ecnh ch\u1ec9 c\u00f3 1 config k8s (minikube) n\u1ebfu m\u00e1y c\u00f3 nhi\u1ec1u config c\u1ee7a k8s cluster th\u00ec c\u1ea7n ch\u1ecdn l\u1ea1i \u0111\u00fang cluster mong mu\u1ed1n tr\u01b0\u1edbc khi ch\u1ea1y kubectl (ch\u1ea1y nh\u01b0 n\u00e0o gg :D)</li> <li>Sau \u0111\u00f3 ch\u00fang ta c\u00f3 th\u1ec3 truy c\u1eadp \u0111\u1ecba ch\u1ec9: <code>localhost:18083</code> \u0111\u1ec3 v\u00e0o EMQX dashboard tr\u00f4ng n\u00f3 s\u1ebd ntn:   </li> </ul>"},{"location":"blog/2023/10/03/mqtt-benchmark-on-k8s/#emqx-bench","title":"EMQX-bench","text":"<ul> <li> <p>Cluster EMQX c\u00f3 r\u1ed3i gi\u1edd \u0111\u1ebfn EMQX-bench. \u0110\u1ebfn ph\u1ea7n kh\u00f3: EMQX-bench tr\u00ean docker hub h\u01b0\u1edbng d\u1eabn ch\u1ea1y v\u1edbi l\u1ec7nh v\u00ed d\u1ee5:   <code>docker run -it emqx/emqtt-bench conn -c 50000 -i 10</code> t\u1ee9c ch\u1ea1y container v\u1edbi images <code>emqx/emqtt-bench</code> v\u1edbi l\u1ec7nh: <code>conn -c 50000 -i 10</code>.</p> </li> <li> <p>Gi\u1edd mu\u1ed1n ch\u1ea1y test pub/sub m\u00ecnh th\u1eed t\u1ea1o deployment v\u1edbi l\u1ec7nh t\u01b0\u01a1ng \u1ee9ng nh\u01b0 tr\u00ean nh\u01b0ng ko work( ko tin th\u1eed th\u00ec bi\u1ebft :D)</p> </li> <li> <p>Sau \u0111\u00f3 nh\u1edb ra c\u00f3 th\u1ec3 check docker entry point v\u00ec c\u00f3 th\u1ec3 n\u00f3 \u0111\u00e3 b\u1ecb thay \u0111\u1ed5i. (C\u1ea3m \u01a1n Docker In Action - M\u00ecnh bi\u1ebft tr\u00f2 n\u00e0y c\u1ee7a docker qua quy\u1ec3n n\u00e0y - s\u1ebd c\u00f3 m\u1ed9t b\u00e0i note l\u1ea1i v\u1ec1 quy\u1ec3n n\u00e0y. Spoiler ko c\u1ea7n \u0111\u1ecdc h\u1ebft c\u1ea3 quy\u1ec3n)</p> </li> <li> <p>Check ra th\u1ea5y entry point \u0111\u00e3 b\u1ecb thay \u0111\u1ed5i nh\u01b0 n\u00e0y:</p> </li> </ul> <pre><code>papu@cyber:~$ docker history emqx/emqtt-bench\nIMAGE          CREATED        CREATED BY                                      SIZE      COMMENT\n9c87dc50902a   8 weeks ago    CMD [\"\"]                                        0B        buildkit.dockerfile.v0\n&lt;missing&gt;      8 weeks ago    ENTRYPOINT [\"/emqtt_bench/emqtt_bench\"]         0B        buildkit.dockerfile.v0\n&lt;missing&gt;      8 weeks ago    RUN /bin/sh -c make compile # buildkit          536MB     buildkit.dockerfile.v0\n&lt;missing&gt;      8 weeks ago    WORKDIR /emqtt_bench                            0B        buildkit.dockerfile.v0\n&lt;missing&gt;      8 weeks ago    COPY . /emqtt_bench # buildkit                  2.83MB    buildkit.dockerfile.v0\n&lt;missing&gt;      2 months ago   CMD [\"/bin/bash\"]                               0B        buildkit.dockerfile.v0\n&lt;missing&gt;      2 months ago   WORKDIR /                                       0B        buildkit.dockerfile.v0\n&lt;missing&gt;      2 months ago   RUN |4 OTP_VERSION=25.3.2-1 ELIXIR_VERSION=1\u2026   1.21MB    buildkit.dockerfile.v0\n&lt;missing&gt;      2 months ago   ENV LUX_REF=lux-2.6                             0B        buildkit.dockerfile.v0\n&lt;missing&gt;      2 months ago   ARG LUX_REF                                     0B        buildkit.dockerfile.v0\n&lt;missing&gt;      2 months ago   RUN |3 OTP_VERSION=25.3.2-1 ELIXIR_VERSION=1\u2026   9.13MB    buildkit.dockerfile.v0\n&lt;missing&gt;      2 months ago   COPY get-emqtt-bench.sh /get-emqtt-bench.sh \u2026   882B      buildkit.dockerfile.v0\n&lt;missing&gt;      2 months ago   ARG EMQTT_BENCH_REF                             0B        buildkit.dockerfile.v0\n&lt;missing&gt;      2 months ago   RUN |2 OTP_VERSION=25.3.2-1 ELIXIR_VERSION=1\u2026   0B        buildkit.dockerfile.v0\n&lt;missing&gt;      2 months ago   RUN |2 OTP_VERSION=25.3.2-1 ELIXIR_VERSION=1\u2026   6.96MB    buildkit.dockerfile.v0\n&lt;missing&gt;      2 months ago   COPY get-elixir.sh /get-elixir.sh # buildkit    786B      buildkit.dockerfile.v0\n&lt;missing&gt;      2 months ago   ARG ELIXIR_VERSION                              0B        buildkit.dockerfile.v0\n&lt;missing&gt;      2 months ago   RUN |1 OTP_VERSION=25.3.2-1 /bin/sh -c /get-\u2026   156MB     buildkit.dockerfile.v0\n&lt;missing&gt;      2 months ago   COPY get-otp.sh /get-otp.sh # buildkit          2.18kB    buildkit.dockerfile.v0\n&lt;missing&gt;      2 months ago   ARG OTP_VERSION                                 0B        buildkit.dockerfile.v0\n&lt;missing&gt;      2 months ago   ENV EMQX_BUILDER_IMAGE=                         0B        buildkit.dockerfile.v0\n&lt;missing&gt;      2 months ago   CMD [\"/bin/bash\"]                               0B        buildkit.dockerfile.v0\n&lt;missing&gt;      2 months ago   WORKDIR /                                       0B        buildkit.dockerfile.v0\n&lt;missing&gt;      2 months ago   ENV LANG=C.UTF-8                                0B        buildkit.dockerfile.v0\n&lt;missing&gt;      2 months ago   ENV LC_ALL=C.UTF-8                              0B        buildkit.dockerfile.v0\n&lt;missing&gt;      2 months ago   RUN /bin/sh -c apt-get clean &amp;&amp; rm -rf /var/\u2026   0B        buildkit.dockerfile.v0\n&lt;missing&gt;      2 months ago   RUN /bin/sh -c /get-cmake.sh build # buildkit   55.7MB    buildkit.dockerfile.v0\n&lt;missing&gt;      2 months ago   COPY get-cmake.sh /get-cmake.sh # buildkit      800B      buildkit.dockerfile.v0\n&lt;missing&gt;      2 months ago   RUN /bin/sh -c ln -sf /usr/bin/pip3 /usr/bin\u2026   13B       buildkit.dockerfile.v0\n&lt;missing&gt;      2 months ago   RUN /bin/sh -c ln -sf /usr/bin/python3 /usr/\u2026   16B       buildkit.dockerfile.v0\n&lt;missing&gt;      2 months ago   RUN /bin/sh -c apt-get install -y     krb5-k\u2026   14.6MB    buildkit.dockerfile.v0\n&lt;missing&gt;      2 months ago   RUN /bin/sh -c apt-get update &amp;&amp; apt-get ins\u2026   576MB     buildkit.dockerfile.v0\n&lt;missing&gt;      2 months ago   ENV DEBIAN_FRONTEND=noninteractive              0B        buildkit.dockerfile.v0\n&lt;missing&gt;      3 months ago   /bin/sh -c #(nop)  CMD [\"bash\"]                 0B\n&lt;missing&gt;      3 months ago   /bin/sh -c #(nop) ADD file:b7c0be2bb90e88689\u2026   124MB\n</code></pre> <ul> <li> <p>\u0110\u1ec3 \u00fd l\u1ec7nh th\u1ee9 2: <code>ENTRYPOINT [\"/emqtt_bench/emqtt_bench\"]</code> \u0111\u00f3 entry point \u0111\u00e3 b\u1ecb \u0111\u1ed5i m\u1eb7c \u0111\u1ecbnh s\u1ebd ch\u1ea1y l\u1ec7nh n\u00e0y t\u1ee9c c\u1ee5m <code>conn -c 50000 -i 10</code> ch\u1ec9 l\u00e0 tham s\u1ed1 (arguments) th\u00f4i.</p> </li> <li> <p>M\u00ecnh t\u1ea1o lu\u00f4n 2 file deployment apply cho nhanh (ko ph\u1ea3i helm):</p> </li> <li> <p>pub-deployment-EMQX-bench.yml:</p> </li> </ul> pub-deployment-EMQX-bench.yml<pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: emqx-bench-deployment\n  labels:\n    app: emqx-bench\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: emqx-bench\n  template:\n    metadata:\n      labels:\n        app: emqx-bench\n    spec:\n      containers:\n        - name: emqx-bench\n          image: emqx/emqtt-bench:latest\n          command:\n            [\n              \"emqtt_bench\",\n              \"pub\",\n              \"-c\",\n              \"500\",\n              \"-I\",\n              \"500\",\n              \"-t\",\n              \"bench/%i\",\n              \"-q\",\n              \"2\",\n              \"-h\",\n              \"my-emqx.default.svc.cluster.local\",\n            ]\n</code></pre> <ul> <li>sub-deployment-EMQX-bench.yaml</li> </ul> sub-deployment-EMQX-bench.yaml<pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: emqx-bench-sub-deployment\n  labels:\n    app: emqx-bench\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: emqx-bench\n  template:\n    metadata:\n      labels:\n        app: emqx-bench\n    spec:\n      containers:\n        - name: emqx-bench\n          image: emqx/emqtt-bench:latest\n          command:\n            [\n              \"emqtt_bench\",\n              \"sub\",\n              \"-c\",\n              \"500\",\n              \"-i\",\n              \"500\",\n              \"-t\",\n              \"bench/%i\",\n              \"-q\",\n              \"2\",\n              \"-h\",\n              \"my-emqx.default.svc.cluster.local\",\n            ]\n</code></pre> <ul> <li> <p>Note:</p> </li> <li> <p>Trong file deployment m\u00ecnh \u0111\u00e3 th\u00eam ph\u1ea7n <code>command</code> \u0111\u1ec3 th\u1ef1c hi\u1ec7n vi\u1ec7c bench test</p> </li> <li> <p>N\u1ebfu \u0111\u1ecdc b\u1ea1n s\u1ebd th\u1ea5y ph\u1ea7n <code>-h</code> v\u1edbi gi\u00e1 tr\u1ecb: <code>my-emqx.default.svc.cluster.local</code> do pub v\u00e0 sub m\u00ecnh \u0111\u1ecbnh deploy trong c\u00f9ng 1 namespace (default) v\u1edbi emqx cluster.</p> </li> <li> <p>Khi ch\u1ea1y th\u1eed pub l\u00ean \u0111\u00e3 th\u1ea5y share t\u1ea3i. (M\u00ecnh th\u1eed m\u1edf th\u00eam 1 pod EMQX trong EMQX cluster n\u1eefa( t\u1eeb 3 l\u00ean 4) th\u00ec th\u1ea5y m\u00e3i ko join cluster ( tr\u01b0\u1edbc \u0111\u00f3 m\u00ecnh test join th\u00e0nh c\u00f4ng). Check l\u1ed7i th\u1ea5y li\u00ean quan port 18083. T\u1eaft b\u1ecf c\u00e1i port forward \u1edf tr\u00ean th\u00ec join th\u00e0nh c\u00f4ng. -&gt; C\u1ea7n l\u01b0u \u00fd vi\u1ec7c n\u00e0y khi test :D )</p> </li> </ul>"},{"location":"blog/2023/10/03/mqtt-benchmark-on-k8s/#nhan-xet","title":"Nh\u1eadn x\u00e9t","text":"<ul> <li> <p>Khi c\u00f3 3 nodes trong EMQX cluster, v\u00e0 1 pod c\u1ee7a EMQX-bench th\u00ec c\u00f3 share t\u1ea3i. Nh\u01b0ng khi m\u00ecnh scale tay l\u00ean node th\u1ee9 4 th\u00ec node 4 n\u00e0y ko ch\u1ecbu t\u1ea3i ( ko c\u00f3 request n\u00e0o t\u1edbi). Khi ch\u1ea1y th\u00eam pod th\u1ee9 hai c\u1ee7a EMQX-bench th\u00ec node th\u1ee9 4 m\u1edbi ch\u1ecbu t\u1ea3i ==&gt; :</p> </li> <li> <p></p> </li> <li> <p>Vi\u1ec7c scale ph\u1ea3i setup tr\u01b0\u1edbc khi qu\u00e1 t\u1ea3i, khi qu\u00e1 t\u1ea3i r\u1ed3i add th\u00eam node m\u1edbi kh\u00f4ng c\u00f3 \u00fd ngh\u0129a v\u1edbi l\u01b0\u1ee3ng t\u1ea3i hi\u1ec7n t\u1ea1i. Ch\u1ec9 c\u00f3 \u00fd ngh\u0129a v\u1edbi nh\u1eefng mess t\u1eeb publisher m\u1edbi.</p> </li> <li> <p>Nh\u00ecn v\u00e0o s\u1ed1 l\u01b0\u1ee3ng topic v\u00e0 connection h\u01a1n 100 c\u1ee7a node s\u1ed1 4 trong khi c\u00e1c node c\u0169 &gt; 200 ~ 300 -&gt; vi\u1ec7c c\u00e2n b\u1eb1ng t\u1ea3i service c\u1ee7a k8s ko th\u1ef1c s\u1ef1 ch\u00ednh x\u00e1c ( n\u00f3 ko c\u00f3 c\u00e1ch n\u00e0o bi\u1ebft m\u1ed7i node \u0111ang ch\u1ecbu t\u1ea3i bao nhi\u00eau), n\u00f3 ch\u1ec9 th\u1ef1c s\u1ef1 chia \u0111\u1ec1u c\u00e1c mess m\u1edbi \u0111\u1ebfn. -&gt; n\u1ebfu mu\u1ed1n c\u00e2n b\u1eb1ng t\u1ea3i khi auto scale c\u1ea7n nghi\u00ean c\u1ee9u th\u00eam. Server k8s ch\u1ec9 chia \u0111\u1ec3 in comming mess th\u00f4i.</p> </li> <li> <p>Ch\u1eafc t\u1ea1m \u0111\u1ebfn \u0111\u00e2y hehe</p> </li> <li> <p> HAPPY WORKING!!!</p> </li> </ul>"},{"location":"blog/2023/10/09/deploy-aws-lambda-from-terminal/","title":"Deploy aws lambda from terminal","text":"<ul> <li>C\u1ea7n n\u00f3i tr\u01b0\u1edbc c\u00f3 nhi\u1ec1u c\u00e1ch deploy lambda function hay h\u01a1n ( b\u1eb1ng sls (serverless) khi b\u1ea1n t\u1ea1o project t\u1eeb serverless) ho\u1eb7c t\u1eeb terraform. Tuy nhi\u00ean \u0111\u00f4i khi lambda function \u0111\u00e3 c\u00f3 s\u1eb5n v\u00e0 \u0111\u01b0\u1ee3c deploy t\u1eeb terminal n\u00ean m\u00ecnh c\u0169ng deploy lu\u00f4n ch\u1ee9 ko t\u1ea1o l\u1ea1i t\u1eeb \u0111\u1ea7u theo 2 c\u00e1ch tr\u00ean.</li> </ul> <ul> <li>Deploy t\u1eeb terminal n\u00e0y c\u0169ng l\u00e0 cho source code v\u00e0 deploy t\u1eeb <code>.zip</code> file ko ph\u1ea3i cho images (lambda c\u00f3 h\u1ed7 tr\u1ee3 c\u1ea3 images ko ri\u00eang source code).</li> </ul>"},{"location":"blog/2023/10/09/deploy-aws-lambda-from-terminal/#zip-file","title":"Zip file","text":"<ul> <li> <p>B\u00ean trong th\u01b0 m\u1ee5c source code \u0111\u00e3 \u0111\u1ea7y \u0111\u1ee7 dependencies (v\u00ed d\u1ee5: Nodejs th\u00ec c\u1ea7n <code>npm install</code> ho\u1eb7c <code>yarn install</code> ), doc aws b\u1ea3o th\u1ebf :D: A .zip file archive includes your application code and its dependencies.</p> </li> <li> <p>Sau \u0111\u00f3 zip files th\u00f4i:</p> </li> </ul> <pre><code>zip -r function.zip ./\n</code></pre>"},{"location":"blog/2023/10/09/deploy-aws-lambda-from-terminal/#update-source-code","title":"Update source code:","text":"<ul> <li>Deploy source code m\u1edbi:</li> </ul> <pre><code>aws lambda update-function-code \\\n--function-name &lt;lambda_function_name&gt; \\\n--zip-file fileb://./function.zip \\\n--region us-east-1\n</code></pre> <ul> <li>Do \u1edf tr\u00ean m\u00ecnh zip v\u00e0o file: <code>function.zip</code> n\u00ean \u1edf \u0111\u00e2y m\u00ecnh deploy v\u1edbi file name nh\u01b0 v\u1eady.</li> </ul>"},{"location":"blog/2023/10/09/deploy-aws-lambda-from-terminal/#nhan-xet","title":"Nh\u1eadn x\u00e9t","text":"<ul> <li>\u0110\u00e2y l\u00e0 1 step deploy code v\u1edbi lambda \u0111\u00e3 c\u00f3 s\u1eb5n nh\u00e9. N\u00ean c\u1ea7n ph\u00e2n bi\u1ec7t:</li> <li><code>update-function-code</code>: \u0111\u1ec3 deploy code m\u1edbi.</li> <li><code>update-function-configuration</code>: \u0111\u1ec3 thay \u0111\u1ed5i c\u1ea5u h\u00ecnh lambda</li> </ul>"},{"location":"blog/2023/10/13/til-mesos-kill-driver-with-error-cannot-find-driver/","title":"TIL Mesos kill driver with error cannot find driver","text":"<ul> <li> <p>Note l\u1ea1i b\u00e0i n\u00e0y cho kinh nghi\u1ec7m v\u1ec1 mesos v\u00e0 aws :D</p> </li> <li> <p>B\u00ean m\u00ecnh d\u00f9ng mesos \u0111\u1ec3 handle spark job. Tr\u01b0\u1edbc khi job m\u1edbi ch\u1ea1y th\u00ec s\u1ebd kill job c\u0169.</p> </li> <li> <p>M\u1ecdi chuy\u1ec7n v\u1eabn b\u00ecnh th\u01b0\u1eddng cho \u0111\u1ebfn khi:</p> </li> </ul> <pre><code>{\n  \"action\" : \"KillSubmissionResponse\",\n  \"message\" : \"Cannot find driver\",\n  \"serverSparkVersion\" : \"3.0.1\",\n  \"submissionId\" : \"driver-20231013041033-0802\",\n  \"success\" : false\n}\n</code></pre> <ul> <li>Check l\u1ea1i c\u00e1c thay \u0111\u1ed5i th\u00ec mesos c\u00f3 b\u1ecb \u0111\u1ed5i master. Driver \u0111\u01b0\u1ee3c t\u1ea1o b\u1edfi master01 nh\u01b0ng khi kill job th\u00ec master02 \u0111\u00e3 l\u00ean l\u00e0m master n\u00ean nh\u1eadn v\u1ec1 response kia.</li> <li> <p>Do call qua domain n\u00ean t\u1ef1 \u0111\u1ed9ng redirect v\u00e0o con master. N\u00ean c\u1ea7n call tr\u1ef1c ti\u1ebfp v\u00e0o con master01( l\u00fac n\u00e0y l\u00e0 \u0111ang ko l\u00e0m master).</p> </li> <li> <p>L\u00fac \u0111\u1ea7u m\u00ecnh ssh v\u00e0o con master01 v\u00e0 call tr\u1ef1c ti\u1ebfp tr\u00ean con master01:</p> </li> </ul> <pre><code>curl -X POST http://localhost:7077/v1/submissions/kill/driver-20231013041033-0802\n</code></pre> <ul> <li>Response:</li> </ul> <pre><code>curl: (7) Failed to connect to localhost port 7077: Connection refused\n</code></pre> <ul> <li>M\u00ecnh nghi ngh\u1edd do security group ch\u01b0a allow (c\u00f3 th\u1ec3 l\u00e0 t\u1eeb ch\u00ednh IP c\u1ee7a ec2 n\u00e0y). N\u00ean vpn v\u00e0o c\u00f9ng vpc r\u1ed3i call:</li> </ul> <pre><code>curl -X POST http://10.20.30.40:7077/v1/submissions/kill/driver-20231013041033-0802\n</code></pre> <ul> <li>V\u1edbi <code>10.20.30.40</code> l\u00e0 IP c\u1ee7a master01 th\u00ec l\u00fac n\u00e0y th\u00e0nh c\u00f4ng:</li> </ul> <pre><code>{\n  \"action\" : \"KillSubmissionResponse\",\n  \"message\" : \"Killing running driver\",\n  \"serverSparkVersion\" : \"3.0.1\",\n  \"submissionId\" : \"driver-20231013041033-0802\",\n  \"success\" : true\n}\n</code></pre> <ul> <li> <p>Hai \u0111i\u1ec1u c\u1ea7n l\u01b0u \u00fd \u1edf \u0111\u00e2y:</p> </li> <li> <p>Mesos n\u1ebfu nh\u1eadn v\u1ec1: <code>Cannot find driver</code> khi kill job th\u00ec c\u00f3 th\u1ec3 do master hi\u1ec7n t\u1ea1i ko bi\u1ebft job \u0111\u00f3 n\u00ean c\u1ea7n kill tr\u1ef1c ti\u1ebfp tr\u00ean master \u0111\u00e3 t\u1ea1o ra.</p> </li> <li> <p>Call t\u1eeb local ko \u0111\u01b0\u1ee3c th\u00ec s\u1eeda SG ho\u1eb7c c\u00f3 th\u1ec3 \u0111\u1ee9ng t\u1eeb 1 host kh\u00e1c connect \u0111\u01b0\u1ee3c \u0111\u1ebfn \u0111\u1ec3 call</p> </li> <li> <p>HAPPY WORKING!!!</p> </li> </ul>"},{"location":"blog/2023/10/16/python-fastapi-sse/","title":"python fastapi sse","text":""},{"location":"blog/2023/10/16/python-fastapi-sse/#before-start","title":"Before start","text":"<ul> <li> <p>V\u1edbi nodejs ch\u00fang ta c\u00f3 <code>sse</code> \u0111\u1ec3 g\u1eedi noti. Nh\u01b0ng mu\u1ed1n c\u1ea3i thi\u1ec7n python n\u00ean m\u00ecnh t\u00ecm c\u00e1ch g\u1eedi noti b\u1eb1ng python.</p> </li> <li> <p>Google s\u1ebd ra m\u1ed9t s\u1ed1 c\u00e1ch v\u1edbi flask api ho\u1eb7c d\u00f9ng ph\u1ea7n m\u1ec1m b\u00ean th\u1ee9 3. Nh\u01b0ng m\u00ecnh mu\u1ed1n d\u00f9ng v\u1edbi <code>fast-api</code> v\u00e0 l\u00e0 lib nh\u01b0 sse c\u1ee7a nodejs.</p> </li> </ul> <ul> <li> <p>Search 1 h\u1ed3i th\u00ec th\u1ea5y c\u00f3: <code>sse-starlette</code> th\u1ea5y c\u00f3 m\u1ed7i m\u1ea5y start tr\u00ean github h\u01a1i nghi nghi :D nh\u01b0ng th\u00f4i c\u1ee9 th\u1eed.</p> </li> <li> <p>C\u1ea7n ph\u00e2n bi\u1ec7t: starlette v\u00e0 sse-starlette nh\u00e9, trong b\u00e0i n\u00e0y \u0111ang d\u00f9ng <code>see-starlette</code></p> </li> <li> <p>B\u00e0i n\u00e0y ch\u1ec9 v\u00ed d\u1ee5 v\u1ec1 c\u00e1ch t\u1ea1o th\u00f4i c\u00f2n chi ti\u1ebft c\u00e1ch d\u00f9ng (chia channel \u0111\u1ec3 push noti) c\u1ea7n ph\u1ea3i nghi\u00ean c\u1ee9u th\u00eam.</p> </li> </ul>"},{"location":"blog/2023/10/16/python-fastapi-sse/#source-code","title":"Source code","text":"<ul> <li>Th\u00eam c\u00e1c g\u00f3i ph\u1ee5 thu\u1ed9c trong: <code>requirements.txt</code> v\u1edbi n\u1ed9i dung:</li> </ul> <pre><code>sse-starlette==1.6.5\nfastapi==0.103.2\nuvicorn==0.23.2\n</code></pre> <ul> <li>T\u1ea1o virtual env:</li> </ul> <pre><code>python3 -m venv venv\n\n# activate venv\nsource venv/bin/activate\n</code></pre> <ul> <li>C\u00e0i \u0111\u1eb7t c\u00e1c g\u00f3i ph\u1ee5 thu\u1ed9c:</li> </ul> <pre><code>pip3 install -r requirements.txt\n</code></pre> <ul> <li>Add source code trong file: <code>main.py</code></li> </ul> <pre><code>import asyncio\nfrom fastapi import FastAPI, Request\nfrom sse_starlette.sse import EventSourceResponse\n\nMESSAGE_STREAM_DELAY = 5  # second\napp = FastAPI()\n\n\n@app.get('/')\nasync def message_stream(request: Request):\n\n    def new_messages():\n        return True\n\n    async def event_generator():\n\n        while True:\n            # If client was closed the connection\n            if await request.is_disconnected():\n                break\n\n            # Checks for new messages and return them to client if any\n            if new_messages():\n                yield {\n                    \"event\": \"new_message\",\n                    \"id\": \"message_id\",\n                    \"data\": \"message_content\"\n                }\n\n            await asyncio.sleep(MESSAGE_STREAM_DELAY)\n\n    return EventSourceResponse(event_generator())\n</code></pre>"},{"location":"blog/2023/10/16/python-fastapi-sse/#test","title":"Test","text":"<ul> <li>Done gi\u1edd th\u00ec start server r\u1ed3i test th\u00f4i:</li> </ul> <pre><code>uvicorn main:app --reload\n</code></pre> <ul> <li>Sau \u0111\u00f3 th\u1eed truy c\u1eadp local port 8000 v\u1edbi curl n\u00f3 s\u1ebd ntn:</li> </ul> <pre><code>$ curl localhost:8000\nid: message_id\nevent: new_message\ndata: message_content\n\nid: message_id\nevent: new_message\ndata: message_content\n\nid: message_id\nevent: new_message\ndata: message_content\n\n: ping - 2023-10-18 02:52:59.560547\n\nid: message_id\nevent: new_message\ndata: message_content\n</code></pre> <ul> <li> <p>TADA nh\u01b0 v\u1eady l\u00e0 xong c\u1ee9 5s message s\u1ebd \u0111\u01b0\u1ee3c push 1 l\u1ea7n v\u00e0 n\u1ebfu \u0111\u1ec3 \u00fd b\u1ea1n th\u1ea5y: <code>ping - 2023-10-18 02:52:59.560547</code> c\u1ee9 15s \u0111\u01b0\u1ee3c g\u1eedi 1 l\u1ea7n \u0111\u1ec3 gi\u1eef k\u1ebft n\u1ed1i. (ko b\u1ecb disconnect b\u1edfi c\u00e1c c\u01a1 ch\u1ebf timeout)</p> </li> <li> <p>Chi ti\u1ebft h\u01a1n v\u1ec1 vi\u1ec7c bao l\u00e2u g\u1eedi ping v\u00e0 c\u00e1ch noti theo channel c\u1ea7n \u0111\u01b0\u1ee3c t\u00ecm hi\u1ec3u th\u00eam khi s\u1eed d\u1ee5ng th\u1ef1c t\u1ebf.</p> </li> </ul>"},{"location":"blog/2023/10/16/python-fastapi-sse/#happy-coding-d","title":"HAPPY CODING!!! :D","text":""},{"location":"blog/2023/10/18/aws-network-block-traffic/","title":"AWS network block traffic","text":"<ul> <li>B\u00e0i n\u00e0y note l\u1ea1i TIL th\u00f4i. M\u00ecnh c\u00f3 1 y\u00eau c\u1ea7u t\u1eeb dev team block traffic t\u1eeb 1 service t\u1edbi 1 service kh\u00e1c. Ch\u00ednh x\u00e1c l\u00e0 block traffic t\u1eeb spark job t\u1edbi kafka.</li> </ul> <ul> <li> <p>V\u1ec1 m\u1eb7t l\u00fd thuy\u1ebft ch\u00fang ta s\u1ebd c\u00f3 1 s\u1ed1 c\u00e1ch block tu\u1ef3 v\u00e0o h\u1ea1 t\u1ea7ng c\u1ee5 th\u1ec3, t\u1eeb ngo\u00e0i v\u00e0o trong l\u1ea7n l\u01b0\u1ee3t s\u1ebd:</p> </li> <li> <p>ch\u1eb7n routing ( n\u1ebfu kh\u00e1c VPC v\u00e0 \u0111ang \u0111ang routing).</p> </li> <li>ch\u1eb7n \u1edf NACL</li> <li>Ch\u1eb7n SG</li> <li> <p>Ch\u0103n firewall</p> </li> <li> <p>H\u00ecnh minh ho\u1ea1:</p> </li> </ul> <pre><code> \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n \u2502             VPC               \u2502\n \u2502                               \u2502\n \u2502    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510      \u2502\n \u2502    \u2502        NACL       \u2502      \u2502\n \u2502    \u2502   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502      \u2502\n \u2502    \u2502   \u2502    SG     \u2502   \u2502      \u2502\n \u2502    \u2502   \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2510  \u2502   \u2502      \u2502\n \u2502    \u2502   \u2502  \u2502     \u2502  \u2502   \u2502      \u2502\n \u2502    \u2502   \u2502  \u2502 EC2 \u2502  \u2502   \u2502      \u2502\n \u2502    \u2502   \u2502  \u2502     \u2502  \u2502   \u2502      \u2502\n \u2502    \u2502   \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2518  \u2502   \u2502      \u2502\n \u2502    \u2502   \u2502           \u2502   \u2502      \u2502\n \u2502    \u2502   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502      \u2502\n \u2502    \u2502                   \u2502      \u2502\n \u2502    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518      \u2502\n \u2502                               \u2502\n \u2502                               \u2502\n \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"blog/2023/10/18/aws-network-block-traffic/#anh-gia","title":"\u0110\u00e1nh gi\u00e1:","text":"<ul> <li> <p>M\u00ecnh note l\u1ea1i theo quan \u0111i\u1ec3m c\u00e1 nh\u00e2n n\u1ebfu sau c\u00f3 th\u00eam s\u1ebd c\u1eadp nh\u1eadt ho\u1eb7c s\u1eeda \u0111\u1ed5i:</p> </li> <li> <p>VPC: ch\u1eb7n level VPC qu\u00e1 to c\u00f3 th\u1ec3 g\u00e2y \u1ea3nh h\u01b0\u1edfng c\u1ea3 c\u00e1c service kh\u00e1c trong c\u00f9ng VPC c\u0169ng b\u1ecb block trong khi th\u1eadt ra ko c\u1ea7n ho\u1eb7c ko n\u00ean ( n\u00ean h\u1ea1n ch\u1ebf d\u00f9ng).</p> </li> <li> <p>NACL: V\u1eeba \u0111\u1eb9p th\u01b0\u1eddng NACL \u00edt c\u1ea5u h\u00ecnh v\u00e0 c\u00e1c rule \u0111\u01a1n gi\u1ea3n nh\u00ecn th\u1ea5y ngay, ch\u1eb7n hay cho ph\u00e9p ri\u00eang 1 service \u0111\u01a1n gi\u1ea3n h\u01a1n so v\u1edbi VPC, n\u1ebfu sai s\u1eeda l\u1ea1i c\u0169ng d\u1ec5 d\u00e0ng h\u01a1n so v\u1edbi SG hay firewall tr\u00ean ec2</p> </li> <li> <p>SG: \u0111a ph\u1ea7n c\u00e1c d\u1ef1 \u00e1n m\u00ecnh th\u1ea5y SG h\u01a1i nhi\u1ec1u rule ( nh\u1ea5t l\u00e0 inbound) nhi\u1ec1u h\u01a1n r\u1ea5t nhi\u1ec1u so v\u1edbi NACL. Ch\u01b0a k\u1ec3 SG l\u1ea1i c\u00f3 ki\u1ec3u tham chi\u1ebfu \u0111\u1ebfn SG kh\u00e1c n\u00ean vi\u1ec7c check \u0111\u00e3 ch\u1eb7n h\u1ebft ch\u01b0a ph\u1ee9c t\u1ea1p h\u01a1n NACL nhi\u1ec1u. Khi rollback l\u1ea1i c\u0169ng ph\u1ee9c t\u1ea1p h\u01a1n.</p> </li> <li> <p>Firewall: v\u1edbi c\u00e1c instance ec2 linux c\u00f3 th\u1ec3 enable firewall \u0111\u1ec3 block traffic: con dao hai l\u01b0\u1ee1i h\u00e3y c\u1ea9n th\u1eadn. C\u01a1 b\u1ea3n th\u00ec ko khuy\u1ebfn kh\u00edch d\u00f9ng v\u00ec n\u1ebfu ch\u1eb7n nh\u1ea7m (block all) th\u00ec th\u00f4i kh\u1ecfi ssh v\u00e0o lu\u00f4n l\u00fac n\u00e0y ch\u1ec9 c\u00f2n c\u00e1ch k\u1ebft n\u1ed1i theo console. N\u00f3i chung nh\u1ee1 c\u00e1i ph\u1ee9c t\u1ea1p l\u1eafm :D</p> </li> <li> <p>B\u00e0i vi\u1ebft n\u00e0y ch\u1ec9 c\u00f3 v\u1eady th\u00f4i. Note l\u1ea1i ph\u1ea7n TIL khi m\u00ecnh nh\u1eadn \u0111\u01b0\u1ee3c request check block traffic t\u1eeb 1 service t\u1edbi 1 service kh\u00e1c :D</p> </li> </ul>"},{"location":"blog/2023/10/18/aws-network-block-traffic/#happy-working","title":"HAPPY WORKING!!!","text":""},{"location":"blog/archive/2023/","title":"2023","text":""},{"location":"blog/archive/2022/","title":"2022","text":""},{"location":"blog/archive/2021/","title":"2021","text":""},{"location":"blog/archive/2020/","title":"2020","text":""},{"location":"blog/archive/2019/","title":"2019","text":""},{"location":"blog/category/devops/","title":"devops","text":""},{"location":"blog/category/general/","title":"general","text":""},{"location":"blog/category/python/","title":"python","text":""},{"location":"blog/category/dev/","title":"dev","text":""},{"location":"blog/category/math/","title":"math","text":""},{"location":"blog/category/linh-tinh/","title":"linh tinh","text":""},{"location":"blog/page/2/","title":"Blog","text":""},{"location":"blog/page/3/","title":"Blog","text":""},{"location":"blog/page/4/","title":"Blog","text":""},{"location":"blog/page/5/","title":"Blog","text":""},{"location":"blog/page/6/","title":"Blog","text":""},{"location":"blog/page/7/","title":"Blog","text":""},{"location":"blog/page/8/","title":"Blog","text":""},{"location":"blog/page/9/","title":"Blog","text":""},{"location":"blog/page/10/","title":"Blog","text":""},{"location":"blog/page/11/","title":"Blog","text":""},{"location":"blog/page/12/","title":"Blog","text":""},{"location":"blog/page/13/","title":"Blog","text":""},{"location":"blog/page/14/","title":"Blog","text":""},{"location":"blog/page/15/","title":"Blog","text":""},{"location":"blog/archive/2023/page/2/","title":"2023","text":""},{"location":"blog/archive/2023/page/3/","title":"2023","text":""},{"location":"blog/archive/2023/page/4/","title":"2023","text":""},{"location":"blog/archive/2022/page/2/","title":"2022","text":""},{"location":"blog/archive/2021/page/2/","title":"2021","text":""},{"location":"blog/archive/2021/page/3/","title":"2021","text":""},{"location":"blog/archive/2020/page/2/","title":"2020","text":""},{"location":"blog/archive/2020/page/3/","title":"2020","text":""},{"location":"blog/archive/2020/page/4/","title":"2020","text":""},{"location":"blog/archive/2020/page/5/","title":"2020","text":""},{"location":"blog/archive/2019/page/2/","title":"2019","text":""},{"location":"blog/category/dev/page/2/","title":"dev","text":""},{"location":"blog/category/dev/page/3/","title":"dev","text":""},{"location":"blog/category/dev/page/4/","title":"dev","text":""},{"location":"blog/category/devops/page/2/","title":"devops","text":""},{"location":"blog/category/devops/page/3/","title":"devops","text":""},{"location":"blog/category/devops/page/4/","title":"devops","text":""},{"location":"blog/category/devops/page/5/","title":"devops","text":""},{"location":"blog/category/devops/page/6/","title":"devops","text":""},{"location":"blog/category/devops/page/7/","title":"devops","text":""},{"location":"blog/category/devops/page/8/","title":"devops","text":""},{"location":"blog/category/devops/page/9/","title":"devops","text":""},{"location":"blog/category/devops/page/10/","title":"devops","text":""},{"location":"blog/category/devops/page/11/","title":"devops","text":""},{"location":"blog/category/general/page/2/","title":"general","text":""}]}